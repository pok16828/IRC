(()=>{var e,t,a,n,i,o={7187:(e,t,a)=>{"use strict";var n=a(91525),i=a(72874),o=a(69095),s=a(44266),r=a(3170),l=a(18814),c=a(34229),d=a(16389),u=a(77791),m=a(71569),g=a(63356);const p={debug:!1,isDevelopment:!1,superExperimentalMode:!1,currentEditorVersion:"0.5.3",useProductionApi:!0,appName:"mmm.page",baseViewerHostname:"mmm.page",envDependentBaseViewerHostName:"mmm.page",viewerURL:"https://mmm.page",apiURL:"https://api.mmm.dev",liveApiUrl:"https://api.mmm.dev",builderURL:"https://build.mmm.page",assetURL:"https://asset.mmm.page",previewImageURL:"https://preview.mmm.page",staticAssetUrl:"https://static.mmm.page",maintenanceMode:!1,indexPageSlug:"main",sentry:{DSN:"https://6e39c7ce150c491d9d0b87cfa8627e52@o466929.ingest.sentry.io/5748060"},clientRequestIDHeader:"client-request-id",stripe:{clientKey:"pk_live_51Hf733D956FiwZEaXTQHCvKd1MEpzGCJfVE2fMxc3zbrez1axqCGm9sNMxEJgHQQJA43Pe0RLO1PbGwXHzl0SEga0061S7EyTj"},giphyKey:"XXJ9eOtXpQ7xhPdtGXAvKzHVHOQ5YjxE",transloadIt:{templateID:"19f25593700b44f19af2edd8825d374c",key:"9b28b304aa2e40148f752d74fcb35235",maxFileSizeMb:5,maxFileSizeKb:5242880},defaultFaviconUrl:"https://static.mmm.page/favicon_small.png",minWindowWidthPx:375,maxWindowWidthPx:600,maxDesktopContentWidthPx:1366,defaultFontSize:16,defaultLineHeight:1.25,minFontSizePx:10,minBlockDim:.03,defaultPageHeight:16/9,defaultPageStyle:{backgroundColor:"#ffffff"},maxSafeZIndex:1e5,minSafeZIndex:0,medianSafeZIndex:5e4,discordUrl:"https://discord.mmm.dev",twitterUrl:"https://twitter.com/mmmdotpage",tiktokUrl:"https://tiktok.com/@mmmdotpage",instagramUrl:"https://instagram.com/madeonmmm",creatorTwitterUrl:"https://twitter.com/xhfloz",supportEmailUrl:"mailto:support@mmm.page",affiliateDashboardUrl:"https://loaf.getrewardful.com/signup"};var h=a(47611);const f="d6kzdg04DwTnuEo3",b=e=>t=>{e(t)},y=(0,m.Z)({domain:"beta.mmm.dev",trackLocalhost:!0});let v;v="builder",c.S({dsn:p.sentry.DSN,environment:"builder",release:"b9017abe634ec220e194ec84b1e666dbe2e85552",attachStacktrace:!0,tracesSampleRate:.2,enabled:!0,debug:!1,integrations:[new d.U],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1});const w=e=>{if(!("event"in e))return;const{event:t}=e,a={};var n,i;Object.entries(e).forEach((([e,t])=>{null!=t&&(a[e]=t)})),n=t,i=Object.assign({},a),h.b.load({writeKey:f}).then((([e])=>{e.track(n,i)})),"page-view"===t?y.trackPageview():y.trackEvent(t,{props:a})},E=u.zH((({children:e})=>{const{Track:t}=(0,g.rS)({type:"builder"},{dispatch:e=>{if(!("event"in e))return;const{event:t}=e,a={};Object.entries(e).forEach((([e,t])=>{null!=t&&(a[e]=t)})),"page-view"===t?y.trackPageview():y.trackEvent(t,{props:a})}});return i.createElement(t,null,e)}));var k=a(3656),F=a.n(k);const x=e=>`mw_${e}`,S=e=>x(e),I=(e,t)=>`${F()(e,t)}`,C=(0,i.createContext)({showOverlay:()=>{},batchShowOverlays:()=>{},toggleOverlay:()=>{},isOverlayVisible:()=>!1,registerOverlay:()=>{},unregisterOverlay:()=>{}}),P={activeOverlayUis:new Map},T=(e,t)=>{switch(t.type){case"overlay-ui/register":{const{ID:a,uiType:n,tags:i}=t,{activeOverlayUis:o}=e;return o.set(a,{ID:a,type:n,tags:null!=i?i:[],visibility:!1}),Object.assign(Object.assign({},e),{activeOverlayUis:o})}case"overlay-ui/unregister":{const{ID:a}=t,{activeOverlayUis:n}=e;return n.delete(a),Object.assign(Object.assign({},e),{activeOverlayUis:n})}case"overlay-ui/set-visibility":{const{ID:a,visibility:n}=t,{activeOverlayUis:i}=e,o=i.get(a);return void 0===o?e:(i.set(a,Object.assign(Object.assign({},o),{visibility:n})),Object.assign(Object.assign({},e),{activeOverlayUis:i}))}case"overlay-ui/batch-set-visibility":{const{options:a,visibility:n}=t,{activeOverlayUis:i}=e,{forIDs:o}=a;return null==o||o.forEach((e=>{const t=i.get(e);void 0!==t&&i.set(e,Object.assign(Object.assign({},t),{visibility:n}))})),Object.assign(Object.assign({},e),{activeOverlayUis:i})}case"overlay-ui/toggle-visibility":{const{ID:a}=t,{activeOverlayUis:n}=e,i=n.get(a);return void 0===i?e:(n.set(a,Object.assign(Object.assign({},i),{visibility:!i.visibility})),Object.assign(Object.assign({},e),{activeOverlayUis:n}))}default:return e}},N=S("overlay-ui-portal"),R=(0,i.memo)((({children:e})=>{const[{activeOverlayUis:t},a]=(0,i.useReducer)(T,P),n=(0,i.useRef)(a),o=(0,i.useCallback)(((e,t=!0)=>{n.current({type:"overlay-ui/set-visibility",ID:e,visibility:t})}),[]),s=(0,i.useCallback)(((e,t=!0)=>{n.current({type:"overlay-ui/batch-set-visibility",options:e,visibility:t})}),[]),r=(0,i.useCallback)((e=>{n.current({type:"overlay-ui/toggle-visibility",ID:e})}),[]),l=(0,i.useCallback)((e=>{var a,n;return null!==(n=null===(a=t.get(e))||void 0===a?void 0:a.visibility)&&void 0!==n&&n}),[t]),c=(0,i.useCallback)(((e,t,a)=>{n.current({type:"overlay-ui/register",ID:e,uiType:t,tags:a})}),[]),d=(0,i.useCallback)((e=>{n.current({type:"overlay-ui/unregister",ID:e})}),[]),u={showOverlay:o,batchShowOverlays:s,toggleOverlay:r,isOverlayVisible:l,registerOverlay:c,unregisterOverlay:d};return i.createElement(C.Provider,{value:u},e,i.createElement("div",{id:N}))}));R.displayName="OverlayUiContextProvider";const D=(0,i.memo)((({children:e})=>((e=>{const[t,a]=i.useState(void 0);i.useEffect((()=>{var e,t,n,i;e=void 0,t=void 0,i=function*(){let[e]=yield h.b.load({writeKey:f});a(e)},new((n=void 0)||(n=Promise))((function(a,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function r(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}l((i=i.apply(e,t||[])).next())}))}),[]),i.useEffect((()=>{t&&t.page()}),[t])})(),i.createElement(l.SV,null,i.createElement(E,null,i.createElement(R,null,e))))));D.displayName="MmmBaseWrapper";var O,A=a(79881),M=a(11283),z=a.n(M),L=a(35900),j=a.n(L),B=a(39960),U=a(35909);!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Message=2]="Message"}(O||(O={}));class _{constructor(e,t=O.Error){this.message=e,this.type=t}getMessage(){return this.message}}const H=new _("Page slug cannot be empty"),G=new _("Only letters, numbers, and underscore. No more than 50 characters"),q=new _("Must be in the format of G-XXXXXXXXXX"),W=new _("Page title cannot exceed 500 characters"),V=new _("Page title cannot exceed 2000 characters"),$=new _("Must be a valid domain name like example.com (or mooo.ooo)"),Y=new _("You don't need to include www. at the beginning"),X=new _("You don't need to include http(s) at the beginning"),K=new Set(["mm","mmm","mmmm","mmmmm","mmmmmm","mmmofficial","gallery","official","build","make","create","choose_username","tutorial","success","action","ok","fail"]),Z=new Set([".git",".htaccess",".htpasswd",".well-known","400","401","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","421","422","423","424","426","428","429","431","500","501","502","503","504","505","506","507","508","509","510","511","_domainkey","about","about-us","abuse","access","account","accounts","ad","add","admin","administration","administrator","ads","ads.txt","advertise","advertising","aes128-ctr","aes128-gcm","aes192-ctr","aes256-ctr","aes256-gcm","affiliate","affiliates","ajax","alert","alerts","alpha","amp","analytics","api","app","app-ads","app-ads.txt","apps","asc","assets","atom","auth","authentication","authorize","autoconfig","autodiscover","avatar","backup","banner","banners","bbs","beta","billing","billings","blog","blogs","board","bookmark","bookmarks","broadcasthost","business","buy","cache","calendar","campaign","captcha","careers","cart","cas","categories","category","cdn","cgi","cgi-bin","chacha20-poly1305","change","channel","channels","chart","chat","checkout","clear","client","close","cloud","cms","com","comment","comments","community","compare","compose","config","connect","contact","contest","cookies","copy","copyright","count","cp","cpanel","create","crossdomain","crossdomain.xml","css","curve25519-sha256","customer","customers","customize","dashboard","db","deals","debug","delete","desc","destroy","dev","developer","developers","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha1","disconnect","discuss","dns","dns0","dns1","dns2","dns3","dns4","docs","documentation","domain","download","downloads","downvote","draft","drop","ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","edit","editor","email","enterprise","error","errors","event","events","example","exception","exit","explore","export","extensions","false","family","faq","faqs","favicon","favicon.ico","features","feed","feedback","feeds","file","files","filter","follow","follower","followers","following","fonts","forgot","forgot-password","forgotpassword","form","forms","forum","forums","friend","friends","ftp","get","git","go","graphql","group","groups","guest","guidelines","guides","head","header","help","hide","hmac-sha","hmac-sha1","hmac-sha1-etm","hmac-sha2-256","hmac-sha2-256-etm","hmac-sha2-512","hmac-sha2-512-etm","home","host","hosting","hostmaster","htpasswd","http","httpd","https","humans","humans.txt","icons","images","imap","img","import","index","info","insert","investors","invitations","invite","invites","invoice","is","isatap","issues","it","jobs","join","js","json","keybase","keybase.txt","learn","legal","license","licensing","like","limit","live","load","local","localdomain","localhost","lock","login","logout","lost-password","m","mail","mail0","mail1","mail2","mail3","mail4","mail5","mail6","mail7","mail8","mail9","mailer-daemon","mailerdaemon","map","marketing","marketplace","master","me","media","member","members","message","messages","metrics","mis","mobile","moderator","modify","more","mx","mx1","my","net","network","new","news","newsletter","newsletters","next","nil","no-reply","nobody","noc","none","noreply","notification","notifications","ns","ns0","ns1","ns2","ns3","ns4","ns5","ns6","ns7","ns8","ns9","null","oauth","oauth2","offer","offers","online","openid","order","orders","overview","owa","owner","page","pages","partners","passwd","password","pay","payment","payments","paypal","photo","photos","pixel","plans","plugins","policies","policy","pop","pop3","popular","portal","portfolio","post","postfix","postmaster","poweruser","preferences","premium","press","previous","pricing","print","privacy","privacy-policy","private","prod","product","production","profile","profiles","project","projects","promo","public","purchase","put","quota","redirect","reduce","refund","refunds","register","registration","remove","replies","reply","report","request","request-password","reset","reset-password","response","return","returns","review","reviews","robots","robots.txt","root","rootuser","rsa-sha2-2","rsa-sha2-512","rss","rules","sales","save","script","sdk","search","secure","security","select","services","session","sessions","settings","setup","share","shift","shop","signin","signout","signup","site","sitemap","sites","smtp","sort","source","sql","ssh","ssh-rsa","ssl","ssladmin","ssladministrator","sslwebmaster","stage","staging","stat","static","statistics","stats","status","store","style","styles","stylesheet","stylesheets","subdomain","subscribe","sudo","super","superuser","support","survey","sync","sysadmin","system","tablet","tag","tags","team","telnet","terms","terms-of-use","test","testimonials","theme","themes","today","tools","topic","topics","tour","training","translate","translations","trending","trial","true","umac-128","umac-128-etm","umac-64","umac-64-etm","undefined","unfollow","unlike","unsubscribe","update","upgrade","usenet","user","username","users","uucp","var","verify","video","view","void","vote","vpn","webmail","webmaster","website","widget","widgets","wiki","wpad","write","www","www-data","www1","www2","www3","www4","you","yourname","yourusername","zlib"]);var J=a(75281);const Q=/^[a-zA-Z0-9_]{1,50}$/g,ee=J.Z_().min(1,"Must be at least 1 character.").max(50,"Cannot be longer than 50 characters.").matches(Q,"Only letters, numbers, and underscores."),te=/^[a-zA-Z0-9_]{2,20}$/g,ae=J.Z_().min(2,"Must be at least 2 characters.").max(20,"Cannot be longer than 20 characters.").test({name:"reserved-slug",test:(e,t)=>void 0!==e&&!ne(e)||t.createError({message:"Username is not available."})}).matches(te,"Only letters, numbers, and underscores."),ne=e=>Z.has(e)||K.has(e),ie=/^(?:\/)?([a-zA-Z0-9_]{2,20})(?:[\/.]([a-zA-Z0-9_]{1,50}))?$/g,oe=e=>new RegExp(Q).test(e)?[!0,void 0]:[!1,G],se=e=>`${e.site.slug}.${e.slug}`,re=e=>{const t=Array.from(e.matchAll(ie));if(0===t.length)return[void 0,void 0];const[,a,n]=t[0];return[a,n]};var le=a(95947);const ce={sendToSentry:!0};class de{constructor(e){this._defaultOptions=e}debug(e,t,a=ce){ue.debug(e,t,Object.assign(Object.assign({},this._defaultOptions),a))}info(e,t,a=ce){ue.info(e,t,Object.assign(Object.assign({},this._defaultOptions),a))}warn(e,t,a=ce){ue.warn(e,t,Object.assign(Object.assign({},this._defaultOptions),a))}error(e,t,a=ce){ue.error(e,t,Object.assign(Object.assign({},this._defaultOptions),a))}}class ue{static debug(e,t={},a=ce){ge("debug",e,t,a)}static info(e,t,a=ce){ge("info",e,t,a)}static warn(e,t={},a=ce){ge("warn",e,t,a)}static error(e,t={},a=ce){ge("error",e,t,a)}}const me={debug:"debug",info:"info",warn:"warning",error:"error"};function ge(e,t,a,n){var i;if("debug"!==e&&"info"!==e){if(n.caller&&(t=`[${n.caller}] ${t}`),n.sendToSentry){let n=null!==(i=me[e])&&void 0!==i?i:"info";(0,le.$e)((e=>{"debug"!==n&&(e.setLevel(n),null!==a&&e.setContext("meta",a),(0,le.uT)(t))}))}null==a?console[e](t):console[e](t,a)}}class pe{static set(e,t){window[this.getCacheString(t)]=e}static get(e){return window[this.getCacheString(e)]}static clear(e){delete window[this.getCacheString(e)]}static syncPageState({stable:e,inProgress:t,stableThingTree:a,inProgressThingTree:n}){var i,o;this.set({tree:a,things:null!==(i=null==e?void 0:e.things)&&void 0!==i?i:(0,A.D5)()},"stable"),this.set(n?{tree:n,things:null!==(o=null==t?void 0:t.things)&&void 0!==o?o:(0,A.D5)()}:void 0,"in-progress")}static getCacheString(e){return`cached__thing-dom-${e}`}}function he(e){return e!==Object(e)||Array.isArray(e)||e instanceof Function||A.l4.isSet(e)||A.D5.isMap(e)||A.aV.isList(e)||"doNotDeepMerge"in e}function fe(e,t){const a=Object.assign({},e),n=Object.entries(t);for(const[e,t]of n)he(t)?a[e]=t:a[e]=fe(a[e],t);return a}function be(e,t){const a=Object.assign({},e),n=Object.assign({},t),i=Object.entries(t);for(const[t,o]of i)if(he(o))n[t]=e[t],a[t]=o;else{const{result:e,before:i}=be(a[t],o);a[t]=e,n[t]=i}return{result:a,before:n,after:t}}function ye(e,t){return[...new Set([...null!=e?e:[],...null!=t?t:[]])]}const ve=new de({caller:"AutosaveManager"});class we{static clear(e){ve.info("Autosaved page cleared"),delete localStorage[this.generateKey(e)]}static save(e){if(e.isPublic)try{ve.info("Autosaved page"),localStorage[this.generateKey(e.ID)]=JSON.stringify({updatedAtMs:(new Date).getTime(),page:e})}catch(e){ve.warn(e)}}static retrieve(e,t){let a;ve.info("Retrieving autosaved page");try{a=JSON.parse(localStorage[this.generateKey(e)])}catch(e){return void ve.info("Failed to parse autosaved page found in localStorage")}if(void 0!==a)return a.updatedAtMs>=t?(ve.info("Valid autosaved page found"),a):(ve.info("Out-of-date autosaved page found. Clear it."),void this.clear(e));ve.info("No autosaved page found")}static generateKey(e){return`LAST_AUTOSAVED_PAGE_${e}`}}function Ee(e,t){return t}const ke=e=>e.device.isHoverCapable,Fe=e=>e.device.isTouchEnabled;var xe=a(27620),Se=a.n(xe);const Ie={modeHandler:void 0,modeState:{},selectedIds:(0,A.l4)(),selectedParentIds:(0,A.l4)(),hoveredId:void 0,layoutGuides:[],lastChangeSnapshot:void 0};var Ce;!function(e){e.None="none",e.Drawing="drawing",e.Layout="layout",e.TextEditing="text-editing",e.InlineTextEditing="inline-text-editing"}(Ce||(Ce={}));class Pe{constructor(e){this.onModeStart=e=>e,this.onModeEnd=e=>e,this.onKeyDown=(e,t)=>e,this.onKeyUp=(e,t)=>e,this.onTap=e=>e,this.onPointerDown=e=>e,this.onPointerMove=e=>e,this.onPointerUp=e=>e,this.onDragStart=()=>this.app,this.onDrag=e=>e,this.onDragEnd=e=>e,this.onPinchStart=e=>e,this.onPinch=e=>e,this.onPinchEnd=e=>e,this.app=e,this.name=Ce.None}}class Te extends Pe{constructor(){super(...arguments),this.name=Ce.Drawing}}var Ne=a(8710);const Re=new de({caller:"GestureCommands"}),De=e=>t=>t.gesture.active.includes(e),Oe=e=>e.gesture.canTouchMove,Ae=e=>e.gesture.pointer.positionCpx,Me=e=>e.gesture.keys,ze=e=>e.gesture.keys.has("shift"),Le=e=>e.gesture.keys.has("alt"),je=e=>{var t;return null===(t=e.gesture.drag)||void 0===t?void 0:t.buttons},Be=e=>{const{positionCpx:t}=e.gesture.pointer,{startCpx:a}=e.gesture.drag;return[t[0]-a[0],t[1]-a[1]]},Ue=e=>{var t;return null===(t=e.gesture.drag)||void 0===t?void 0:t.startCpx},_e=e=>e.gesture.active.includes("dragover"),He=e=>e.gesture.pinch,Ge=e=>e.gesture.handle,qe=e=>{if(!e.gesture.handle)return;const{position:t}=e.gesture.handle;return"top"===t||"bottom"===t},We=e=>{if(!e.gesture.handle)return;const{position:t}=e.gesture.handle;return"left"===t||"right"===t},Ve=e=>{if(!e.gesture.handle)return;const{position:t}=e.gesture.handle;return"bottom"===t||"bottom-left"===t||"bottom-right"===t},$e=e=>{if(!e.gesture.handle)return;const{position:t}=e.gesture.handle;return"right"===t||"top-right"===t||"bottom-right"===t},Ye=e=>{if(!e.gesture.handle)return;const{position:t}=e.gesture.handle;return"top-right"===t||"bottom-right"===t||"bottom-left"===t||"top-left"===t},Xe={gestureDetectionEnabled:!0,event:void 0,active:[],pointer:{positionCpx:[0,0]},drag:void 0,pinch:void 0,scroll:void 0,handle:void 0,canTouchMove:!0,keys:(0,A.l4)([])},Ke=(e,{withScheme:t=!0}={})=>void 0!==e.canonicalDomain?`${t?"https://":""}${e.canonicalDomain.domainName}`:`${t?"https://":""}${e.slug}.${p.baseViewerHostname}`,Ze=(e,{withScheme:t=!0}={})=>{const{site:a,slug:n}=e,i=Ke(a,{withScheme:t});return n===p.indexPageSlug||void 0===n?`${i}`:`${i}/${n}`},Je=e=>{var t,a,n;const{settings:i,site:o}=e;if(void 0!==i.title)return i.title;const s=new URL(Ze(e)),r=s.pathname.substring(1);return s.hostname===p.baseViewerHostname?r:0===r.length?null!==(n=null!==(a=null===(t=o.canonicalDomain)||void 0===t?void 0:t.domainName)&&void 0!==a?a:o.slug)&&void 0!==n?n:"":r};class Qe{constructor(e){this._vec=e}get x(){return this._vec[0]}get y(){return this._vec[1]}vec(){return this._vec}get length(){return Math.sqrt(this.x*this.x+this.y*this.y)}setX(e){return new Qe([e,this.y])}setY(e){return new Qe([this.x,e])}add(e){const[t,a]=Array.isArray(e)?e:e.vec();return new Qe([this._vec[0]+t,this._vec[1]+a])}sub(e){const[t,a]=Array.isArray(e)?e:e.vec();return new Qe([this._vec[0]-t,this._vec[1]-a])}div(e){const[t,a]=Array.isArray(e)?e:e.vec();return new Qe([this._vec[0]/t,this._vec[1]/a])}mult(e){const[t,a]=Array.isArray(e)?e:e.vec();return new Qe([this._vec[0]*t,this._vec[1]*a])}rotate(e,t=[0,0]){const[a,n]=this.sub(t).vec(),i=Math.cos(e),o=Math.sin(e);return new Qe([a*i-n*o,a*o+n*i]).add(t)}static centerOfBounds(e){return new Qe([e.minX+(e.maxX-e.minX)/2,e.minY+(e.maxY-e.minY)/2])}}const et=e=>[e.x,e.y],tt=(e,t)=>{const a=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(a*a+n*n)},at=(e,t)=>{const a=[e.x,e.y],n=[t.x,t.y];return tt(a,n)},nt=(e,t)=>{const{x:a,y:n,width:i,height:o}=t.getBoundingClientRect(),[s,r]=e;return s>=a&&s<a+i&&r>=n&&r<n+o},it=e=>{const t=lt(e);return[t.minX+t.width/2,t.minY+t.height/2]},ot=(e,t)=>{const{minX:a,maxX:n,minY:i,maxY:o}=t,[s,r]=e;return s>=a&&s<=n&&r>=i&&r<=o},st=e=>{const{x:t,y:a,height:n,width:i,rotationDeg:o}=e,s=Math.abs(n),r=Math.abs(i),l=ct(o),c=new Qe([-r/2,-s/2]).rotate(l).add([t,a]),d=new Qe([r/2,-s/2]).rotate(l).add([t,a]),u=new Qe([r/2,s/2]).rotate(l).add([t,a]),m=new Qe([-r/2,s/2]).rotate(l).add([t,a]),g=Math.min(c.y,d.y,u.y,m.y),p=Math.max(c.y,d.y,u.y,m.y),h=Math.min(c.x,d.x,u.x,m.x),f=Math.max(c.x,d.x,u.x,m.x);return{minY:g,maxY:p,minX:h,maxX:f,width:f-h,height:p-g}},rt=(e,t=0,a=0)=>{const{minY:n,maxY:i,minX:o,maxX:s}=e,r=s-o,l=i-n;return{x:o+r/2,y:n+l/2,width:r,height:l,rotationDeg:t,zIndex:a}},lt=e=>{const t={minY:Number.MAX_SAFE_INTEGER,maxY:Number.MIN_SAFE_INTEGER,minX:Number.MAX_SAFE_INTEGER,maxX:Number.MIN_SAFE_INTEGER,width:0,height:0};return e.forEach((e=>{const{minY:a,maxY:n,minX:i,maxX:o}=st(e);t.minY=Math.min(t.minY,a),t.maxY=Math.max(t.maxY,n),t.minX=Math.min(t.minX,i),t.maxX=Math.max(t.maxX,o)})),Object.assign(Object.assign({},t),{width:t.maxX-t.minX,height:t.maxY-t.minY})},ct=e=>e/180*Math.PI,dt=e=>180*e/Math.PI;var ut,mt,gt,pt,ht,ft,bt,yt,vt,wt,Et,kt,Ft,xt,St,It,Ct,Pt,Tt,Nt,Rt,Dt,Ot,At,Mt,zt,Lt,jt,Bt,Ut;function _t(e){if(e.type===zt.Group)return!1;const{width:t}=ta();return!!Ht(e,{viewportWidthPx:t})}function Ht(e,{viewportWidthPx:t}){const{hideOn:a}=e.properties;return!(a===Dt.Mobile&&t<p.maxWindowWidthPx||a===Dt.Desktop&&t>=p.maxWindowWidthPx)}function Gt(e,t){let a=Object.assign({},e);return void 0===a.pin&&(a.pin={}),a=Wt(a,void 0),a}function qt(e,t){const{x:a,pin:n}=e;return void 0!==t?pa.transform(e,{from:void 0,to:t}):e}function Wt(e,t){const a=Object.assign(Object.assign({},e),{pin:void 0});return void 0!==t?pa.transform(e,{from:t,to:void 0}):a}function Vt(e,t,a,n=[],o={}){const s=(0,i.useRef)();(0,i.useEffect)((()=>{s.current=a}),[a]),(0,i.useEffect)((()=>{if(!e)return;const a=e=>{var t;return null===(t=s.current)||void 0===t?void 0:t.call(s,e)};return e.addEventListener(t,a,o),()=>{var n;e.removeEventListener(t,a,o),null===(n=null==o?void 0:o.onListenerRemoved)||void 0===n||n.call(o)}}),[e,t,...n,o])}!function(e){e.Active="active",e.CloudflareDeleted="cloudflare_deleted",e.CloudflareMoved="cloudflare_moved",e.CloudflarePending="cloudflare_pending",e.VercelPending="vercel_pending"}(ut||(ut={})),function(e){e.Admin="admin",e.Basic="basic",e.Canary="canary",e.Insider="insider",e.Plus="plus",e.Pro="pro",e.Supporter="supporter"}(mt||(mt={})),function(e){e.Active="active",e.Deleted="deleted",e.Pending="pending"}(gt||(gt={})),function(e){e.Audio="audio",e.Font="font",e.Image="image",e.Vector="vector",e.Video="video"}(pt||(pt={})),function(e){e.CFAsset="cf_asset",e.CFStatic="cf_static",e.CFViewer="cf_viewer"}(ht||(ht={})),(Ut=ft||(ft={})).AccountDoesNotExist="account_does_not_exist",Ut.AccountInvalidUsername="account_invalid_username",Ut.AccountNoPermission="account_no_permission",Ut.AccountUnavailableUsername="account_unavailable_username",Ut.ContainsInvalidRoles="contains_invalid_roles",Ut.DomainDoesNotExist="domain_does_not_exist",Ut.DomainNameIsAlreadyCanonical="domain_name_is_already_canonical",Ut.DomainNameIsNotDNSName="domain_name_is_not_dns_name",Ut.DomainNoPermission="domain_no_permission",Ut.DomainURLParamsMalformed="domain_url_params_malformed",Ut.ErrBadRequest="err_bad_request",Ut.ErrInternalServerError="err_internal_server_error",Ut.ErrMalformedRequest="err_malformed_request",Ut.ErrNotFound="err_not_found",Ut.ErrUnauthorized="err_unauthorized",Ut.InsufficientPrivilegesToAddDomain="insufficient_privileges_to_add_domain",Ut.InsufficientPrivilegesToMakePagePrivate="insufficient_privileges_to_make_page_private",Ut.InvalidAssetURL="invalid_asset_url",Ut.InvalidRoleConfiguration="invalid_role_configuration",Ut.PageACLDoesNotExist="page_acl_does_not_exist",Ut.PageCannotDeleteOnlyPage="page_cannot_delete_only_page",Ut.PageCannotUpdateDisabledPage="page_cannot_update_disabled_page",Ut.PageDoesNotExist="page_does_not_exist",Ut.PageInsufficientPrivilegesToChangeFaviconImageURL="page_insufficient_privileges_to_change_favicon_image_url",Ut.PageInsufficientPrivilegesToChangeGoogleAnalytics4_ID="page_insufficient_privileges_to_change_google_analytics_4_id",Ut.PageInsufficientPrivilegesToChangeMetaTags="page_insufficient_privileges_to_change_meta_tags",Ut.PageInsufficientPrivilegesToChangeShareImageURL="page_insufficient_privileges_to_change_share_image_url",Ut.PageInvalidPageSlug="page_invalid_page_slug",Ut.PageInvalidPageStyle="page_invalid_page_style",Ut.PageInvalidThingFormat="page_invalid_thing_format",Ut.PageNoChangesCanBeMade="page_no_changes_can_be_made",Ut.PageNoPermission="page_no_permission",Ut.PageSettingsInvalidFaviconImageURL="page_settings_invalid_favicon_image_url",Ut.PageSettingsInvalidGoogleAnalytics4_ID="page_settings_invalid_google_analytics_4_id",Ut.PageSettingsInvalidPageDescription="page_settings_invalid_page_description",Ut.PageSettingsInvalidPageTitle="page_settings_invalid_page_title",Ut.PageSettingsInvalidShareImageURL="page_settings_invalid_share_image_url",Ut.PageSettingsUnsupportedFields="page_settings_unsupported_fields",Ut.PageSlugAlreadyUsed="page_slug_already_used",Ut.PageURLParamsMalformed="page_url_params_malformed",Ut.PagesPerAccountLimitExceeded="pages_per_account_limit_exceeded",Ut.ScraperURLInvalid="scraper_url_invalid",Ut.SiteACLDoesNotExist="site_acl_does_not_exist",Ut.SiteDoesNotExist="site_does_not_exist",Ut.SiteInsufficientPrivilegesToChangeFaviconImageURL="site_insufficient_privileges_to_change_favicon_image_url",Ut.SiteInsufficientPrivilegesToChangeGoogleAnalytics4_ID="site_insufficient_privileges_to_change_google_analytics_4_id",Ut.SiteInsufficientPrivilegesToChangeShareImageURL="site_insufficient_privileges_to_change_share_image_url",Ut.SiteInsufficientPrivilegesToHideAttribution="site_insufficient_privileges_to_hide_attribution",Ut.SiteInvalidSlug="site_invalid_slug",Ut.SiteSettingsInvalidFaviconImageURL="site_settings_invalid_favicon_image_url",Ut.SiteSettingsInvalidGoogleAnalytics4_ID="site_settings_invalid_google_analytics_4_id",Ut.SiteSettingsInvalidShareImageURL="site_settings_invalid_share_image_url",Ut.SiteSettingsUnsupportedFields="site_settings_unsupported_fields",Ut.SiteUnavailableSlug="site_unavailable_slug",Ut.StripeCustomerDoesNotExist="stripe_customer_does_not_exist",Ut.SubscriptionDoesNotExist="subscription_does_not_exist",Ut.ThingInvalidHyperlink="thing_invalid_hyperlink",Ut.ThingInvalidRelativePosition="thing_invalid_relative_position",Ut.ThingsPerPageLimitExceeded="things_per_page_limit_exceeded",function(e){e.Error="error",e.Info="info",e.ThreatLevelDemon="threat_level_demon",e.Warning="warning"}(bt||(bt={})),function(e){e.Client="client",e.Server="server",e.UserAction="user_action"}(yt||(yt={})),function(e){e.Paypal="paypal",e.Stripe="stripe"}(vt||(vt={})),function(e){e.PlusMonthly="plus_monthly",e.PlusYearly="plus_yearly",e.ProMonthly="pro_monthly",e.ProYearly="pro_yearly",e.SupporterMonthly="supporter_monthly",e.SupporterYearly="supporter_yearly"}(wt||(wt={})),function(e){e.Active="active",e.Inactive="inactive",e.PaymentPastDue="payment_past_due"}(Et||(Et={})),function(e){e.Square="square",e.Wide="wide"}(kt||(kt={})),function(e){e.AnonymousPro="anonymous-pro",e.Anton="anton",e.Archivo="archivo",e.Arial="arial",e.Arvo="arvo",e.Audiowide="audiowide",e.AveriaSerifLibre="averia-serif-libre",e.Ballet="ballet",e.BalsamiqSans="balsamiq-sans",e.Bangers="bangers",e.Barlow="barlow",e.BebasNeue="bebas-neue",e.Bitter="bitter",e.BizUdMincho="biz-ud-mincho",e.BreeSerif="bree-serif",e.BubblegumSans="bubblegum-sans",e.BungeeHairline="bungee-hairline",e.CabinSketch="cabin-sketch",e.Calistoga="calistoga",e.Chango="chango",e.Cinzel="cinzel",e.Codystar="codystar",e.Coiny="coiny",e.ComicNeue="comic-neue",e.ComicSans="comic-sans",e.ComingSoon="coming-soon",e.CormorantGaramond="cormorant-garamond",e.CourierNew="courier-new",e.CourierPrime="courier-prime",e.Creepster="creepster",e.CreteRound="crete-round",e.CutiveMono="cutive-mono",e.DancingScript="dancing-script",e.Dekko="dekko",e.DelaGothicOne="dela-gothic-one",e.Diplomata="diplomata",e.Domine="domine",e.DotGothic16="dot-gothic16",e.EbGaramond="eb-garamond",e.EricaOne="erica-one",e.Fascinate="fascinate",e.FingerPaint="finger-paint",e.FiraCode="fira-code",e.Flavors="flavors",e.FreckleFace="freckle-face",e.FrederickaTheGreat="fredericka-the-great",e.GamjaFlower="gamja-flower",e.GochiHand="gochi-hand",e.Heebo="heebo",e.HennyPenny="henny-penny",e.HomemadeApple="homemade-apple",e.IBMPlexMono="ibm-plex-mono",e.IBMPlexSans="ibm-plex-sans",e.IBMPlexSerif="ibm-plex-serif",e.InriaSerif="inria-serif",e.Inter="inter",e.Itim="itim",e.JetBrainsMono="jet-brains-mono",e.KirangHaerang="kirang-haerang",e.Knewave="knewave",e.KosugiMaru="kosugi-maru",e.Lalezar="lalezar",e.Lato="lato",e.LibreBarcode39="libre-barcode-39",e.LibreBarcode39Text="libre-barcode-39-text",e.LibreBaskerville="libre-baskerville",e.LibreBodoni="libre-bodoni",e.Lora="lora",e.LuckiestGuy="luckiest-guy",e.MajorMonoDisplay="major-mono-display",e.Martel="martel",e.Merriweather="merriweather",e.Modak="modak",e.Monofett="monofett",e.Monoton="monoton",e.Montserrat="montserrat",e.Mulish="mulish",e.NanumMyeongjo="nanum-myeongjo",e.NanumPenScript="nanum-pen-script",e.NotoSans="noto-sans",e.NotoSansMono="noto-sans-mono",e.NotoSerif="noto-serif",e.Nunito="nunito",e.OpenSans="open-sans",e.Oswald="oswald",e.OverpassMono="overpass-mono",e.OxygenMono="oxygen-mono",e.Pacifico="pacifico",e.PatrickHand="patrick-hand",e.PatrickHandSc="patrick-hand-sc",e.PermanentMarker="permanent-marker",e.Plaster="plaster",e.PlayfairDisplay="playfair-display",e.Poppins="poppins",e.Prata="prata",e.PressStart2P="press-start-2p",e.PtMono="pt-mono",e.PtSerif="pt-serif",e.Quicksand="quicksand",e.RalewayDots="raleway-dots",e.RedHatMono="red-hat-mono",e.Redacted="redacted",e.RedactedScript="redacted-script",e.RobotoCondensed="roboto-condensed",e.RobotoMono="roboto-mono",e.RobotoSlab="roboto-slab",e.RockSalt="rock-salt",e.Rokkitt="rokkitt",e.RubikGlitch="rubik-glitch",e.RubikMicrobe="rubik-microbe",e.RubikMoonrocks="rubik-moonrocks",e.RubikPuddles="rubik-puddles",e.Rye="rye",e.ShortStack="short-stack",e.Shrikhand="shrikhand",e.Slabo27Px="slabo-27px",e.SourceCodePro="source-code-pro",e.SourceSerifPro="source-serif-pro",e.SpaceMono="space-mono",e.SpecialElite="special-elite",e.SquarePeg="square-peg",e.Syncopate="syncopate",e.TimesNewRoman="times-new-roman",e.Ubuntu="ubuntu",e.Unkempt="unkempt",e.Volkhov="volkhov",e.Vollkorn="vollkorn",e.Vt323="vt323",e.WorkSans="work-sans",e.YesevaOne="yeseva-one",e.ZillaSlab="zilla-slab",e.ZillaSlabHighlight="zilla-slab-highlight"}(Ft||(Ft={})),function(e){e.Freeform="freeform",e.Grid="grid",e.Horizontal="horizontal",e.Vertical="vertical"}(xt||(xt={})),function(e){e.Fab42Group="fab-42-group",e.Fab500Px="fab-500px",e.FabAccessibleIcon="fab-accessible-icon",e.FabAccusoft="fab-accusoft",e.FabAdn="fab-adn",e.FabAdversal="fab-adversal",e.FabAffiliatetheme="fab-affiliatetheme",e.FabAirbnb="fab-airbnb",e.FabAlgolia="fab-algolia",e.FabAlipay="fab-alipay",e.FabAmazon="fab-amazon",e.FabAmazonPay="fab-amazon-pay",e.FabAmilia="fab-amilia",e.FabAndroid="fab-android",e.FabAngellist="fab-angellist",e.FabAngrycreative="fab-angrycreative",e.FabAngular="fab-angular",e.FabAppStore="fab-app-store",e.FabAppStoreIos="fab-app-store-ios",e.FabApper="fab-apper",e.FabApple="fab-apple",e.FabApplePay="fab-apple-pay",e.FabArtstation="fab-artstation",e.FabAsymmetrik="fab-asymmetrik",e.FabAtlassian="fab-atlassian",e.FabAudible="fab-audible",e.FabAutoprefixer="fab-autoprefixer",e.FabAvianex="fab-avianex",e.FabAviato="fab-aviato",e.FabAws="fab-aws",e.FabBandcamp="fab-bandcamp",e.FabBattleNet="fab-battle-net",e.FabBehance="fab-behance",e.FabBilibili="fab-bilibili",e.FabBimobject="fab-bimobject",e.FabBitbucket="fab-bitbucket",e.FabBitcoin="fab-bitcoin",e.FabBity="fab-bity",e.FabBlackTie="fab-black-tie",e.FabBlackberry="fab-blackberry",e.FabBlogger="fab-blogger",e.FabBloggerB="fab-blogger-b",e.FabBluetooth="fab-bluetooth",e.FabBluetoothB="fab-bluetooth-b",e.FabBootstrap="fab-bootstrap",e.FabBots="fab-bots",e.FabBtc="fab-btc",e.FabBuffer="fab-buffer",e.FabBuromobelexperte="fab-buromobelexperte",e.FabBuyNLarge="fab-buy-n-large",e.FabBuysellads="fab-buysellads",e.FabCanadianMapleLeaf="fab-canadian-maple-leaf",e.FabCcAmazonPay="fab-cc-amazon-pay",e.FabCcAmex="fab-cc-amex",e.FabCcApplePay="fab-cc-apple-pay",e.FabCcDinersClub="fab-cc-diners-club",e.FabCcDiscover="fab-cc-discover",e.FabCcJcb="fab-cc-jcb",e.FabCcMastercard="fab-cc-mastercard",e.FabCcPaypal="fab-cc-paypal",e.FabCcStripe="fab-cc-stripe",e.FabCcVisa="fab-cc-visa",e.FabCentercode="fab-centercode",e.FabCentos="fab-centos",e.FabChrome="fab-chrome",e.FabChromecast="fab-chromecast",e.FabCloudflare="fab-cloudflare",e.FabCloudscale="fab-cloudscale",e.FabCloudsmith="fab-cloudsmith",e.FabCloudversify="fab-cloudversify",e.FabCmplid="fab-cmplid",e.FabCodepen="fab-codepen",e.FabCodiepie="fab-codiepie",e.FabConfluence="fab-confluence",e.FabConnectdevelop="fab-connectdevelop",e.FabContao="fab-contao",e.FabCottonBureau="fab-cotton-bureau",e.FabCpanel="fab-cpanel",e.FabCreativeCommons="fab-creative-commons",e.FabCreativeCommonsBy="fab-creative-commons-by",e.FabCreativeCommonsNc="fab-creative-commons-nc",e.FabCreativeCommonsNcEu="fab-creative-commons-nc-eu",e.FabCreativeCommonsNcJp="fab-creative-commons-nc-jp",e.FabCreativeCommonsNd="fab-creative-commons-nd",e.FabCreativeCommonsPD="fab-creative-commons-pd",e.FabCreativeCommonsPDAlt="fab-creative-commons-pd-alt",e.FabCreativeCommonsRemix="fab-creative-commons-remix",e.FabCreativeCommonsSa="fab-creative-commons-sa",e.FabCreativeCommonsSampling="fab-creative-commons-sampling",e.FabCreativeCommonsSamplingPlus="fab-creative-commons-sampling-plus",e.FabCreativeCommonsShare="fab-creative-commons-share",e.FabCreativeCommonsZero="fab-creative-commons-zero",e.FabCriticalRole="fab-critical-role",e.FabCss3="fab-css3",e.FabCss3Alt="fab-css3-alt",e.FabCuttlefish="fab-cuttlefish",e.FabDAndD="fab-d-and-d",e.FabDAndDBeyond="fab-d-and-d-beyond",e.FabDailymotion="fab-dailymotion",e.FabDashcube="fab-dashcube",e.FabDeezer="fab-deezer",e.FabDelicious="fab-delicious",e.FabDeploydog="fab-deploydog",e.FabDeskpro="fab-deskpro",e.FabDev="fab-dev",e.FabDeviantart="fab-deviantart",e.FabDhl="fab-dhl",e.FabDiaspora="fab-diaspora",e.FabDigg="fab-digg",e.FabDigitalOcean="fab-digital-ocean",e.FabDiscord="fab-discord",e.FabDiscourse="fab-discourse",e.FabDochub="fab-dochub",e.FabDocker="fab-docker",e.FabDraft2Digital="fab-draft2digital",e.FabDribbble="fab-dribbble",e.FabDropbox="fab-dropbox",e.FabDrupal="fab-drupal",e.FabDyalog="fab-dyalog",e.FabEarlybirds="fab-earlybirds",e.FabEbay="fab-ebay",e.FabEdge="fab-edge",e.FabEdgeLegacy="fab-edge-legacy",e.FabElementor="fab-elementor",e.FabEllo="fab-ello",e.FabEmber="fab-ember",e.FabEmpire="fab-empire",e.FabEnvira="fab-envira",e.FabErlang="fab-erlang",e.FabEthereum="fab-ethereum",e.FabEtsy="fab-etsy",e.FabEvernote="fab-evernote",e.FabExpeditedssl="fab-expeditedssl",e.FabFacebook="fab-facebook",e.FabFacebookF="fab-facebook-f",e.FabFacebookMessenger="fab-facebook-messenger",e.FabFantasyFlightGames="fab-fantasy-flight-games",e.FabFedex="fab-fedex",e.FabFedora="fab-fedora",e.FabFigma="fab-figma",e.FabFirefox="fab-firefox",e.FabFirefoxBrowser="fab-firefox-browser",e.FabFirstOrder="fab-first-order",e.FabFirstOrderAlt="fab-first-order-alt",e.FabFirstdraft="fab-firstdraft",e.FabFlickr="fab-flickr",e.FabFlipboard="fab-flipboard",e.FabFly="fab-fly",e.FabFontAwesome="fab-font-awesome",e.FabFonticons="fab-fonticons",e.FabFonticonsFi="fab-fonticons-fi",e.FabFortAwesome="fab-fort-awesome",e.FabFortAwesomeAlt="fab-fort-awesome-alt",e.FabForumbee="fab-forumbee",e.FabFoursquare="fab-foursquare",e.FabFreeCodeCamp="fab-free-code-camp",e.FabFreebsd="fab-freebsd",e.FabFulcrum="fab-fulcrum",e.FabGalacticRepublic="fab-galactic-republic",e.FabGalacticSenate="fab-galactic-senate",e.FabGetPocket="fab-get-pocket",e.FabGg="fab-gg",e.FabGgCircle="fab-gg-circle",e.FabGit="fab-git",e.FabGitAlt="fab-git-alt",e.FabGithub="fab-github",e.FabGithubAlt="fab-github-alt",e.FabGitkraken="fab-gitkraken",e.FabGitlab="fab-gitlab",e.FabGitter="fab-gitter",e.FabGlide="fab-glide",e.FabGlideG="fab-glide-g",e.FabGofore="fab-gofore",e.FabGolang="fab-golang",e.FabGoodreads="fab-goodreads",e.FabGoodreadsG="fab-goodreads-g",e.FabGoogle="fab-google",e.FabGoogleDrive="fab-google-drive",e.FabGooglePay="fab-google-pay",e.FabGooglePlay="fab-google-play",e.FabGooglePlus="fab-google-plus",e.FabGooglePlusG="fab-google-plus-g",e.FabGoogleWallet="fab-google-wallet",e.FabGratipay="fab-gratipay",e.FabGrav="fab-grav",e.FabGripfire="fab-gripfire",e.FabGrunt="fab-grunt",e.FabGuilded="fab-guilded",e.FabGulp="fab-gulp",e.FabHackerNews="fab-hacker-news",e.FabHackerrank="fab-hackerrank",e.FabHashnode="fab-hashnode",e.FabHips="fab-hips",e.FabHireAHelper="fab-hire-a-helper",e.FabHive="fab-hive",e.FabHooli="fab-hooli",e.FabHornbill="fab-hornbill",e.FabHotjar="fab-hotjar",e.FabHouzz="fab-houzz",e.FabHtml5="fab-html5",e.FabHubspot="fab-hubspot",e.FabIdeal="fab-ideal",e.FabImdb="fab-imdb",e.FabInstagram="fab-instagram",e.FabInstalod="fab-instalod",e.FabIntercom="fab-intercom",e.FabInternetExplorer="fab-internet-explorer",e.FabInvision="fab-invision",e.FabIoxhost="fab-ioxhost",e.FabItchIo="fab-itch-io",e.FabItunes="fab-itunes",e.FabItunesNote="fab-itunes-note",e.FabJS="fab-js",e.FabJava="fab-java",e.FabJediOrder="fab-jedi-order",e.FabJenkins="fab-jenkins",e.FabJira="fab-jira",e.FabJoget="fab-joget",e.FabJoomla="fab-joomla",e.FabJsfiddle="fab-jsfiddle",e.FabKaggle="fab-kaggle",e.FabKeybase="fab-keybase",e.FabKeycdn="fab-keycdn",e.FabKickstarter="fab-kickstarter",e.FabKickstarterK="fab-kickstarter-k",e.FabKorvue="fab-korvue",e.FabLaravel="fab-laravel",e.FabLastfm="fab-lastfm",e.FabLeanpub="fab-leanpub",e.FabLess="fab-less",e.FabLine="fab-line",e.FabLinkedin="fab-linkedin",e.FabLinkedinIn="fab-linkedin-in",e.FabLinode="fab-linode",e.FabLinux="fab-linux",e.FabLyft="fab-lyft",e.FabMagento="fab-magento",e.FabMailchimp="fab-mailchimp",e.FabMandalorian="fab-mandalorian",e.FabMarkdown="fab-markdown",e.FabMastodon="fab-mastodon",e.FabMaxcdn="fab-maxcdn",e.FabMdb="fab-mdb",e.FabMedapps="fab-medapps",e.FabMedium="fab-medium",e.FabMedrt="fab-medrt",e.FabMeetup="fab-meetup",e.FabMegaport="fab-megaport",e.FabMendeley="fab-mendeley",e.FabMeta="fab-meta",e.FabMicroblog="fab-microblog",e.FabMicrosoft="fab-microsoft",e.FabMix="fab-mix",e.FabMixcloud="fab-mixcloud",e.FabMixer="fab-mixer",e.FabMizuni="fab-mizuni",e.FabModx="fab-modx",e.FabMonero="fab-monero",e.FabNFCDirectional="fab-nfc-directional",e.FabNFCSymbol="fab-nfc-symbol",e.FabNapster="fab-napster",e.FabNeos="fab-neos",e.FabNimblr="fab-nimblr",e.FabNode="fab-node",e.FabNodeJS="fab-node-js",e.FabNpm="fab-npm",e.FabNs8="fab-ns8",e.FabNutritionix="fab-nutritionix",e.FabOSI="fab-osi",e.FabOctopusDeploy="fab-octopus-deploy",e.FabOdnoklassniki="fab-odnoklassniki",e.FabOldRepublic="fab-old-republic",e.FabOpencart="fab-opencart",e.FabOpenid="fab-openid",e.FabOpera="fab-opera",e.FabOptinMonster="fab-optin-monster",e.FabOrcid="fab-orcid",e.FabPHP="fab-php",e.FabPadlet="fab-padlet",e.FabPage4="fab-page4",e.FabPagelines="fab-pagelines",e.FabPalfed="fab-palfed",e.FabPatreon="fab-patreon",e.FabPaypal="fab-paypal",e.FabPerbyte="fab-perbyte",e.FabPeriscope="fab-periscope",e.FabPhabricator="fab-phabricator",e.FabPhoenixFramework="fab-phoenix-framework",e.FabPhoenixSquadron="fab-phoenix-squadron",e.FabPiedPiper="fab-pied-piper",e.FabPiedPiperAlt="fab-pied-piper-alt",e.FabPiedPiperHat="fab-pied-piper-hat",e.FabPiedPiperPp="fab-pied-piper-pp",e.FabPinterest="fab-pinterest",e.FabPinterestP="fab-pinterest-p",e.FabPix="fab-pix",e.FabPlaystation="fab-playstation",e.FabProductHunt="fab-product-hunt",e.FabPushed="fab-pushed",e.FabPython="fab-python",e.FabQq="fab-qq",e.FabQuinscape="fab-quinscape",e.FabQuora="fab-quora",e.FabRProject="fab-r-project",e.FabRaspberryPi="fab-raspberry-pi",e.FabRavelry="fab-ravelry",e.FabReact="fab-react",e.FabReacteurope="fab-reacteurope",e.FabReadme="fab-readme",e.FabRebel="fab-rebel",e.FabRedRiver="fab-red-river",e.FabReddit="fab-reddit",e.FabRedditAlien="fab-reddit-alien",e.FabRedhat="fab-redhat",e.FabRenren="fab-renren",e.FabReplyd="fab-replyd",e.FabResearchgate="fab-researchgate",e.FabResolving="fab-resolving",e.FabRev="fab-rev",e.FabRocketchat="fab-rocketchat",e.FabRockrms="fab-rockrms",e.FabRust="fab-rust",e.FabSUSE="fab-suse",e.FabSafari="fab-safari",e.FabSalesforce="fab-salesforce",e.FabSass="fab-sass",e.FabSchlix="fab-schlix",e.FabScreenpal="fab-screenpal",e.FabScribd="fab-scribd",e.FabSearchengin="fab-searchengin",e.FabSellcast="fab-sellcast",e.FabSellsy="fab-sellsy",e.FabServicestack="fab-servicestack",e.FabShirtsinbulk="fab-shirtsinbulk",e.FabShopify="fab-shopify",e.FabShopware="fab-shopware",e.FabSimplybuilt="fab-simplybuilt",e.FabSistrix="fab-sistrix",e.FabSith="fab-sith",e.FabSitrox="fab-sitrox",e.FabSketch="fab-sketch",e.FabSkyatlas="fab-skyatlas",e.FabSkype="fab-skype",e.FabSlack="fab-slack",e.FabSlideshare="fab-slideshare",e.FabSnapchat="fab-snapchat",e.FabSoundcloud="fab-soundcloud",e.FabSourcetree="fab-sourcetree",e.FabSpaceAwesome="fab-space-awesome",e.FabSpeakap="fab-speakap",e.FabSpeakerDeck="fab-speaker-deck",e.FabSpotify="fab-spotify",e.FabSquareBehance="fab-square-behance",e.FabSquareDribbble="fab-square-dribbble",e.FabSquareFacebook="fab-square-facebook",e.FabSquareFontAwesome="fab-square-font-awesome",e.FabSquareFontAwesomeStroke="fab-square-font-awesome-stroke",e.FabSquareGit="fab-square-git",e.FabSquareGithub="fab-square-github",e.FabSquareGitlab="fab-square-gitlab",e.FabSquareGooglePlus="fab-square-google-plus",e.FabSquareHackerNews="fab-square-hacker-news",e.FabSquareInstagram="fab-square-instagram",e.FabSquareJS="fab-square-js",e.FabSquareLastfm="fab-square-lastfm",e.FabSquareOdnoklassniki="fab-square-odnoklassniki",e.FabSquarePiedPiper="fab-square-pied-piper",e.FabSquarePinterest="fab-square-pinterest",e.FabSquareReddit="fab-square-reddit",e.FabSquareSnapchat="fab-square-snapchat",e.FabSquareSteam="fab-square-steam",e.FabSquareTumblr="fab-square-tumblr",e.FabSquareTwitter="fab-square-twitter",e.FabSquareViadeo="fab-square-viadeo",e.FabSquareVimeo="fab-square-vimeo",e.FabSquareWhatsapp="fab-square-whatsapp",e.FabSquareXing="fab-square-xing",e.FabSquareYoutube="fab-square-youtube",e.FabSquarespace="fab-squarespace",e.FabStackExchange="fab-stack-exchange",e.FabStackOverflow="fab-stack-overflow",e.FabStackpath="fab-stackpath",e.FabStaylinked="fab-staylinked",e.FabSteam="fab-steam",e.FabSteamSymbol="fab-steam-symbol",e.FabStickerMule="fab-sticker-mule",e.FabStrava="fab-strava",e.FabStripe="fab-stripe",e.FabStripeS="fab-stripe-s",e.FabStudiovinari="fab-studiovinari",e.FabStumbleupon="fab-stumbleupon",e.FabStumbleuponCircle="fab-stumbleupon-circle",e.FabSuperpowers="fab-superpowers",e.FabSupple="fab-supple",e.FabSwift="fab-swift",e.FabSymfony="fab-symfony",e.FabTeamspeak="fab-teamspeak",e.FabTelegram="fab-telegram",e.FabTencentWeibo="fab-tencent-weibo",e.FabTheRedYeti="fab-the-red-yeti",e.FabThemeco="fab-themeco",e.FabThemeisle="fab-themeisle",e.FabThinkPeaks="fab-think-peaks",e.FabTiktok="fab-tiktok",e.FabTradeFederation="fab-trade-federation",e.FabTrello="fab-trello",e.FabTumblr="fab-tumblr",e.FabTwitch="fab-twitch",e.FabTwitter="fab-twitter",e.FabTypo3="fab-typo3",e.FabUPS="fab-ups",e.FabUSB="fab-usb",e.FabUber="fab-uber",e.FabUbuntu="fab-ubuntu",e.FabUikit="fab-uikit",e.FabUmbraco="fab-umbraco",e.FabUncharted="fab-uncharted",e.FabUniregistry="fab-uniregistry",e.FabUnity="fab-unity",e.FabUnsplash="fab-unsplash",e.FabUntappd="fab-untappd",e.FabUsps="fab-usps",e.FabUssunnah="fab-ussunnah",e.FabVaadin="fab-vaadin",e.FabViacoin="fab-viacoin",e.FabViadeo="fab-viadeo",e.FabViber="fab-viber",e.FabVimeo="fab-vimeo",e.FabVimeoV="fab-vimeo-v",e.FabVine="fab-vine",e.FabVk="fab-vk",e.FabVnv="fab-vnv",e.FabVuejs="fab-vuejs",e.FabWatchmanMonitoring="fab-watchman-monitoring",e.FabWaze="fab-waze",e.FabWeebly="fab-weebly",e.FabWeibo="fab-weibo",e.FabWeixin="fab-weixin",e.FabWhatsapp="fab-whatsapp",e.FabWhmcs="fab-whmcs",e.FabWikipediaW="fab-wikipedia-w",e.FabWindows="fab-windows",e.FabWirsindhandwerk="fab-wirsindhandwerk",e.FabWix="fab-wix",e.FabWizardsOfTheCoast="fab-wizards-of-the-coast",e.FabWodu="fab-wodu",e.FabWolfPackBattalion="fab-wolf-pack-battalion",e.FabWordpress="fab-wordpress",e.FabWordpressSimple="fab-wordpress-simple",e.FabWpbeginner="fab-wpbeginner",e.FabWpexplorer="fab-wpexplorer",e.FabWpforms="fab-wpforms",e.FabWpressr="fab-wpressr",e.FabXbox="fab-xbox",e.FabXing="fab-xing",e.FabYCombinator="fab-y-combinator",e.FabYahoo="fab-yahoo",e.FabYammer="fab-yammer",e.FabYandex="fab-yandex",e.FabYandexInternational="fab-yandex-international",e.FabYarn="fab-yarn",e.FabYelp="fab-yelp",e.FabYoast="fab-yoast",e.FabYoutube="fab-youtube",e.FabZhihu="fab-zhihu",e.Fas0="fas-0",e.Fas1="fas-1",e.Fas2="fas-2",e.Fas3="fas-3",e.Fas4="fas-4",e.Fas5="fas-5",e.Fas6="fas-6",e.Fas7="fas-7",e.Fas8="fas-8",e.Fas9="fas-9",e.FasA="fas-a",e.FasAddressBook="fas-address-book",e.FasAddressCard="fas-address-card",e.FasAlignCenter="fas-align-center",e.FasAlignJustify="fas-align-justify",e.FasAlignLeft="fas-align-left",e.FasAlignRight="fas-align-right",e.FasAnchor="fas-anchor",e.FasAnchorCircleCheck="fas-anchor-circle-check",e.FasAnchorCircleExclamation="fas-anchor-circle-exclamation",e.FasAnchorCircleXmark="fas-anchor-circle-xmark",e.FasAnchorLock="fas-anchor-lock",e.FasAngleDown="fas-angle-down",e.FasAngleLeft="fas-angle-left",e.FasAngleRight="fas-angle-right",e.FasAngleUp="fas-angle-up",e.FasAnglesDown="fas-angles-down",e.FasAnglesLeft="fas-angles-left",e.FasAnglesRight="fas-angles-right",e.FasAnglesUp="fas-angles-up",e.FasAnkh="fas-ankh",e.FasAppleWhole="fas-apple-whole",e.FasArchway="fas-archway",e.FasArrowDown="fas-arrow-down",e.FasArrowDown19="fas-arrow-down-1-9",e.FasArrowDown91="fas-arrow-down-9-1",e.FasArrowDownAZ="fas-arrow-down-a-z",e.FasArrowDownLong="fas-arrow-down-long",e.FasArrowDownShortWide="fas-arrow-down-short-wide",e.FasArrowDownUpAcrossLine="fas-arrow-down-up-across-line",e.FasArrowDownUpLock="fas-arrow-down-up-lock",e.FasArrowDownWideShort="fas-arrow-down-wide-short",e.FasArrowDownZA="fas-arrow-down-z-a",e.FasArrowLeft="fas-arrow-left",e.FasArrowLeftLong="fas-arrow-left-long",e.FasArrowPointer="fas-arrow-pointer",e.FasArrowRight="fas-arrow-right",e.FasArrowRightArrowLeft="fas-arrow-right-arrow-left",e.FasArrowRightFromBracket="fas-arrow-right-from-bracket",e.FasArrowRightLong="fas-arrow-right-long",e.FasArrowRightToBracket="fas-arrow-right-to-bracket",e.FasArrowRightToCity="fas-arrow-right-to-city",e.FasArrowRotateLeft="fas-arrow-rotate-left",e.FasArrowRotateRight="fas-arrow-rotate-right",e.FasArrowTrendDown="fas-arrow-trend-down",e.FasArrowTrendUp="fas-arrow-trend-up",e.FasArrowTurnDown="fas-arrow-turn-down",e.FasArrowTurnUp="fas-arrow-turn-up",e.FasArrowUp="fas-arrow-up",e.FasArrowUp19="fas-arrow-up-1-9",e.FasArrowUp91="fas-arrow-up-9-1",e.FasArrowUpAZ="fas-arrow-up-a-z",e.FasArrowUpFromBracket="fas-arrow-up-from-bracket",e.FasArrowUpFromGroundWater="fas-arrow-up-from-ground-water",e.FasArrowUpFromWaterPump="fas-arrow-up-from-water-pump",e.FasArrowUpLong="fas-arrow-up-long",e.FasArrowUpRightDots="fas-arrow-up-right-dots",e.FasArrowUpRightFromSquare="fas-arrow-up-right-from-square",e.FasArrowUpShortWide="fas-arrow-up-short-wide",e.FasArrowUpWideShort="fas-arrow-up-wide-short",e.FasArrowUpZA="fas-arrow-up-z-a",e.FasArrowsDownToLine="fas-arrows-down-to-line",e.FasArrowsDownToPeople="fas-arrows-down-to-people",e.FasArrowsLeftRight="fas-arrows-left-right",e.FasArrowsLeftRightToLine="fas-arrows-left-right-to-line",e.FasArrowsRotate="fas-arrows-rotate",e.FasArrowsSpin="fas-arrows-spin",e.FasArrowsSplitUpAndLeft="fas-arrows-split-up-and-left",e.FasArrowsToCircle="fas-arrows-to-circle",e.FasArrowsToDot="fas-arrows-to-dot",e.FasArrowsToEye="fas-arrows-to-eye",e.FasArrowsTurnRight="fas-arrows-turn-right",e.FasArrowsTurnToDots="fas-arrows-turn-to-dots",e.FasArrowsUpDown="fas-arrows-up-down",e.FasArrowsUpDownLeftRight="fas-arrows-up-down-left-right",e.FasArrowsUpToLine="fas-arrows-up-to-line",e.FasAsterisk="fas-asterisk",e.FasAt="fas-at",e.FasAtom="fas-atom",e.FasAudioDescription="fas-audio-description",e.FasAustralSign="fas-austral-sign",e.FasAward="fas-award",e.FasB="fas-b",e.FasBaby="fas-baby",e.FasBabyCarriage="fas-baby-carriage",e.FasBackward="fas-backward",e.FasBackwardFast="fas-backward-fast",e.FasBackwardStep="fas-backward-step",e.FasBacon="fas-bacon",e.FasBacteria="fas-bacteria",e.FasBacterium="fas-bacterium",e.FasBagShopping="fas-bag-shopping",e.FasBahai="fas-bahai",e.FasBahtSign="fas-baht-sign",e.FasBan="fas-ban",e.FasBanSmoking="fas-ban-smoking",e.FasBandage="fas-bandage",e.FasBangladeshiTakaSign="fas-bangladeshi-taka-sign",e.FasBarcode="fas-barcode",e.FasBars="fas-bars",e.FasBarsProgress="fas-bars-progress",e.FasBarsStaggered="fas-bars-staggered",e.FasBaseball="fas-baseball",e.FasBaseballBatBall="fas-baseball-bat-ball",e.FasBasketShopping="fas-basket-shopping",e.FasBasketball="fas-basketball",e.FasBath="fas-bath",e.FasBatteryEmpty="fas-battery-empty",e.FasBatteryFull="fas-battery-full",e.FasBatteryHalf="fas-battery-half",e.FasBatteryQuarter="fas-battery-quarter",e.FasBatteryThreeQuarters="fas-battery-three-quarters",e.FasBed="fas-bed",e.FasBedPulse="fas-bed-pulse",e.FasBeerMugEmpty="fas-beer-mug-empty",e.FasBell="fas-bell",e.FasBellConcierge="fas-bell-concierge",e.FasBellSlash="fas-bell-slash",e.FasBezierCurve="fas-bezier-curve",e.FasBicycle="fas-bicycle",e.FasBinoculars="fas-binoculars",e.FasBiohazard="fas-biohazard",e.FasBitcoinSign="fas-bitcoin-sign",e.FasBlender="fas-blender",e.FasBlenderPhone="fas-blender-phone",e.FasBlog="fas-blog",e.FasBold="fas-bold",e.FasBolt="fas-bolt",e.FasBoltLightning="fas-bolt-lightning",e.FasBomb="fas-bomb",e.FasBone="fas-bone",e.FasBong="fas-bong",e.FasBook="fas-book",e.FasBookAtlas="fas-book-atlas",e.FasBookBible="fas-book-bible",e.FasBookBookmark="fas-book-bookmark",e.FasBookJournalWhills="fas-book-journal-whills",e.FasBookMedical="fas-book-medical",e.FasBookOpen="fas-book-open",e.FasBookOpenReader="fas-book-open-reader",e.FasBookQuran="fas-book-quran",e.FasBookSkull="fas-book-skull",e.FasBookTanakh="fas-book-tanakh",e.FasBookmark="fas-bookmark",e.FasBorderAll="fas-border-all",e.FasBorderNone="fas-border-none",e.FasBorderTopLeft="fas-border-top-left",e.FasBoreHole="fas-bore-hole",e.FasBottleDroplet="fas-bottle-droplet",e.FasBottleWater="fas-bottle-water",e.FasBowlFood="fas-bowl-food",e.FasBowlRice="fas-bowl-rice",e.FasBowlingBall="fas-bowling-ball",e.FasBox="fas-box",e.FasBoxArchive="fas-box-archive",e.FasBoxOpen="fas-box-open",e.FasBoxTissue="fas-box-tissue",e.FasBoxesPacking="fas-boxes-packing",e.FasBoxesStacked="fas-boxes-stacked",e.FasBraille="fas-braille",e.FasBrain="fas-brain",e.FasBrazilianRealSign="fas-brazilian-real-sign",e.FasBreadSlice="fas-bread-slice",e.FasBridge="fas-bridge",e.FasBridgeCircleCheck="fas-bridge-circle-check",e.FasBridgeCircleExclamation="fas-bridge-circle-exclamation",e.FasBridgeCircleXmark="fas-bridge-circle-xmark",e.FasBridgeLock="fas-bridge-lock",e.FasBridgeWater="fas-bridge-water",e.FasBriefcase="fas-briefcase",e.FasBriefcaseMedical="fas-briefcase-medical",e.FasBroom="fas-broom",e.FasBroomBall="fas-broom-ball",e.FasBrush="fas-brush",e.FasBucket="fas-bucket",e.FasBug="fas-bug",e.FasBugSlash="fas-bug-slash",e.FasBugs="fas-bugs",e.FasBuilding="fas-building",e.FasBuildingCircleArrowRight="fas-building-circle-arrow-right",e.FasBuildingCircleCheck="fas-building-circle-check",e.FasBuildingCircleExclamation="fas-building-circle-exclamation",e.FasBuildingCircleXmark="fas-building-circle-xmark",e.FasBuildingColumns="fas-building-columns",e.FasBuildingFlag="fas-building-flag",e.FasBuildingLock="fas-building-lock",e.FasBuildingNgo="fas-building-ngo",e.FasBuildingShield="fas-building-shield",e.FasBuildingUn="fas-building-un",e.FasBuildingUser="fas-building-user",e.FasBuildingWheat="fas-building-wheat",e.FasBullhorn="fas-bullhorn",e.FasBullseye="fas-bullseye",e.FasBurger="fas-burger",e.FasBurst="fas-burst",e.FasBus="fas-bus",e.FasBusSimple="fas-bus-simple",e.FasBusinessTime="fas-business-time",e.FasC="fas-c",e.FasCableCar="fas-cable-car",e.FasCakeCandles="fas-cake-candles",e.FasCalculator="fas-calculator",e.FasCalendar="fas-calendar",e.FasCalendarCheck="fas-calendar-check",e.FasCalendarDay="fas-calendar-day",e.FasCalendarDays="fas-calendar-days",e.FasCalendarMinus="fas-calendar-minus",e.FasCalendarPlus="fas-calendar-plus",e.FasCalendarWeek="fas-calendar-week",e.FasCalendarXmark="fas-calendar-xmark",e.FasCamera="fas-camera",e.FasCameraRetro="fas-camera-retro",e.FasCameraRotate="fas-camera-rotate",e.FasCampground="fas-campground",e.FasCandyCane="fas-candy-cane",e.FasCannabis="fas-cannabis",e.FasCapsules="fas-capsules",e.FasCar="fas-car",e.FasCarBattery="fas-car-battery",e.FasCarBurst="fas-car-burst",e.FasCarOn="fas-car-on",e.FasCarRear="fas-car-rear",e.FasCarSide="fas-car-side",e.FasCarTunnel="fas-car-tunnel",e.FasCaravan="fas-caravan",e.FasCaretDown="fas-caret-down",e.FasCaretLeft="fas-caret-left",e.FasCaretRight="fas-caret-right",e.FasCaretUp="fas-caret-up",e.FasCarrot="fas-carrot",e.FasCartArrowDown="fas-cart-arrow-down",e.FasCartFlatbed="fas-cart-flatbed",e.FasCartFlatbedSuitcase="fas-cart-flatbed-suitcase",e.FasCartPlus="fas-cart-plus",e.FasCartShopping="fas-cart-shopping",e.FasCashRegister="fas-cash-register",e.FasCat="fas-cat",e.FasCediSign="fas-cedi-sign",e.FasCentSign="fas-cent-sign",e.FasCertificate="fas-certificate",e.FasChair="fas-chair",e.FasChalkboard="fas-chalkboard",e.FasChalkboardUser="fas-chalkboard-user",e.FasChampagneGlasses="fas-champagne-glasses",e.FasChargingStation="fas-charging-station",e.FasChartArea="fas-chart-area",e.FasChartBar="fas-chart-bar",e.FasChartColumn="fas-chart-column",e.FasChartGantt="fas-chart-gantt",e.FasChartLine="fas-chart-line",e.FasChartPie="fas-chart-pie",e.FasChartSimple="fas-chart-simple",e.FasCheck="fas-check",e.FasCheckDouble="fas-check-double",e.FasCheckToSlot="fas-check-to-slot",e.FasCheese="fas-cheese",e.FasChess="fas-chess",e.FasChessBishop="fas-chess-bishop",e.FasChessBoard="fas-chess-board",e.FasChessKing="fas-chess-king",e.FasChessKnight="fas-chess-knight",e.FasChessPawn="fas-chess-pawn",e.FasChessQueen="fas-chess-queen",e.FasChessRook="fas-chess-rook",e.FasChevronDown="fas-chevron-down",e.FasChevronLeft="fas-chevron-left",e.FasChevronRight="fas-chevron-right",e.FasChevronUp="fas-chevron-up",e.FasChild="fas-child",e.FasChildCombatant="fas-child-combatant",e.FasChildDress="fas-child-dress",e.FasChildReaching="fas-child-reaching",e.FasChildren="fas-children",e.FasChurch="fas-church",e.FasCircle="fas-circle",e.FasCircleArrowDown="fas-circle-arrow-down",e.FasCircleArrowLeft="fas-circle-arrow-left",e.FasCircleArrowRight="fas-circle-arrow-right",e.FasCircleArrowUp="fas-circle-arrow-up",e.FasCircleCheck="fas-circle-check",e.FasCircleChevronDown="fas-circle-chevron-down",e.FasCircleChevronLeft="fas-circle-chevron-left",e.FasCircleChevronRight="fas-circle-chevron-right",e.FasCircleChevronUp="fas-circle-chevron-up",e.FasCircleDollarToSlot="fas-circle-dollar-to-slot",e.FasCircleDot="fas-circle-dot",e.FasCircleDown="fas-circle-down",e.FasCircleExclamation="fas-circle-exclamation",e.FasCircleH="fas-circle-h",e.FasCircleHalfStroke="fas-circle-half-stroke",e.FasCircleInfo="fas-circle-info",e.FasCircleLeft="fas-circle-left",e.FasCircleMinus="fas-circle-minus",e.FasCircleNodes="fas-circle-nodes",e.FasCircleNotch="fas-circle-notch",e.FasCirclePause="fas-circle-pause",e.FasCirclePlay="fas-circle-play",e.FasCirclePlus="fas-circle-plus",e.FasCircleQuestion="fas-circle-question",e.FasCircleRadiation="fas-circle-radiation",e.FasCircleRight="fas-circle-right",e.FasCircleStop="fas-circle-stop",e.FasCircleUp="fas-circle-up",e.FasCircleUser="fas-circle-user",e.FasCircleXmark="fas-circle-xmark",e.FasCity="fas-city",e.FasClapperboard="fas-clapperboard",e.FasClipboard="fas-clipboard",e.FasClipboardCheck="fas-clipboard-check",e.FasClipboardList="fas-clipboard-list",e.FasClipboardQuestion="fas-clipboard-question",e.FasClipboardUser="fas-clipboard-user",e.FasClock="fas-clock",e.FasClockRotateLeft="fas-clock-rotate-left",e.FasClone="fas-clone",e.FasClosedCaptioning="fas-closed-captioning",e.FasCloud="fas-cloud",e.FasCloudArrowDown="fas-cloud-arrow-down",e.FasCloudArrowUp="fas-cloud-arrow-up",e.FasCloudBolt="fas-cloud-bolt",e.FasCloudMeatball="fas-cloud-meatball",e.FasCloudMoon="fas-cloud-moon",e.FasCloudMoonRain="fas-cloud-moon-rain",e.FasCloudRain="fas-cloud-rain",e.FasCloudShowersHeavy="fas-cloud-showers-heavy";e.FasCloudShowersWater="fas-cloud-showers-water",e.FasCloudSun="fas-cloud-sun",e.FasCloudSunRain="fas-cloud-sun-rain",e.FasClover="fas-clover",e.FasCode="fas-code",e.FasCodeBranch="fas-code-branch",e.FasCodeCommit="fas-code-commit",e.FasCodeCompare="fas-code-compare",e.FasCodeFork="fas-code-fork",e.FasCodeMerge="fas-code-merge",e.FasCodePullRequest="fas-code-pull-request",e.FasCoins="fas-coins",e.FasColonSign="fas-colon-sign",e.FasComment="fas-comment",e.FasCommentDollar="fas-comment-dollar",e.FasCommentDots="fas-comment-dots",e.FasCommentMedical="fas-comment-medical",e.FasCommentSMS="fas-comment-sms",e.FasCommentSlash="fas-comment-slash",e.FasComments="fas-comments",e.FasCommentsDollar="fas-comments-dollar",e.FasCompactDisc="fas-compact-disc",e.FasCompass="fas-compass",e.FasCompassDrafting="fas-compass-drafting",e.FasCompress="fas-compress",e.FasComputer="fas-computer",e.FasComputerMouse="fas-computer-mouse",e.FasCookie="fas-cookie",e.FasCookieBite="fas-cookie-bite",e.FasCopy="fas-copy",e.FasCopyright="fas-copyright",e.FasCouch="fas-couch",e.FasCow="fas-cow",e.FasCreditCard="fas-credit-card",e.FasCrop="fas-crop",e.FasCropSimple="fas-crop-simple",e.FasCross="fas-cross",e.FasCrosshairs="fas-crosshairs",e.FasCrow="fas-crow",e.FasCrown="fas-crown",e.FasCrutch="fas-crutch",e.FasCruzeiroSign="fas-cruzeiro-sign",e.FasCube="fas-cube",e.FasCubes="fas-cubes",e.FasCubesStacked="fas-cubes-stacked",e.FasD="fas-d",e.FasDatabase="fas-database",e.FasDeleteLeft="fas-delete-left",e.FasDemocrat="fas-democrat",e.FasDesktop="fas-desktop",e.FasDharmachakra="fas-dharmachakra",e.FasDiagramNext="fas-diagram-next",e.FasDiagramPredecessor="fas-diagram-predecessor",e.FasDiagramProject="fas-diagram-project",e.FasDiagramSuccessor="fas-diagram-successor",e.FasDiamond="fas-diamond",e.FasDiamondTurnRight="fas-diamond-turn-right",e.FasDice="fas-dice",e.FasDiceD20="fas-dice-d20",e.FasDiceD6="fas-dice-d6",e.FasDiceFive="fas-dice-five",e.FasDiceFour="fas-dice-four",e.FasDiceOne="fas-dice-one",e.FasDiceSix="fas-dice-six",e.FasDiceThree="fas-dice-three",e.FasDiceTwo="fas-dice-two",e.FasDisease="fas-disease",e.FasDisplay="fas-display",e.FasDivide="fas-divide",e.FasDna="fas-dna",e.FasDog="fas-dog",e.FasDollarSign="fas-dollar-sign",e.FasDolly="fas-dolly",e.FasDongSign="fas-dong-sign",e.FasDoorClosed="fas-door-closed",e.FasDoorOpen="fas-door-open",e.FasDove="fas-dove",e.FasDownLeftAndUpRightToCenter="fas-down-left-and-up-right-to-center",e.FasDownLong="fas-down-long",e.FasDownload="fas-download",e.FasDragon="fas-dragon",e.FasDrawPolygon="fas-draw-polygon",e.FasDroplet="fas-droplet",e.FasDropletSlash="fas-droplet-slash",e.FasDrum="fas-drum",e.FasDrumSteelpan="fas-drum-steelpan",e.FasDrumstickBite="fas-drumstick-bite",e.FasDumbbell="fas-dumbbell",e.FasDumpster="fas-dumpster",e.FasDumpsterFire="fas-dumpster-fire",e.FasDungeon="fas-dungeon",e.FasE="fas-e",e.FasEarDeaf="fas-ear-deaf",e.FasEarListen="fas-ear-listen",e.FasEarthAfrica="fas-earth-africa",e.FasEarthAmericas="fas-earth-americas",e.FasEarthAsia="fas-earth-asia",e.FasEarthEurope="fas-earth-europe",e.FasEarthOceania="fas-earth-oceania",e.FasEgg="fas-egg",e.FasEject="fas-eject",e.FasElevator="fas-elevator",e.FasEllipsis="fas-ellipsis",e.FasEllipsisVertical="fas-ellipsis-vertical",e.FasEnvelope="fas-envelope",e.FasEnvelopeCircleCheck="fas-envelope-circle-check",e.FasEnvelopeOpen="fas-envelope-open",e.FasEnvelopeOpenText="fas-envelope-open-text",e.FasEnvelopesBulk="fas-envelopes-bulk",e.FasEquals="fas-equals",e.FasEraser="fas-eraser",e.FasEthernet="fas-ethernet",e.FasEuroSign="fas-euro-sign",e.FasExclamation="fas-exclamation",e.FasExpand="fas-expand",e.FasExplosion="fas-explosion",e.FasEye="fas-eye",e.FasEyeDropper="fas-eye-dropper",e.FasEyeLowVision="fas-eye-low-vision",e.FasEyeSlash="fas-eye-slash",e.FasF="fas-f",e.FasFaceAngry="fas-face-angry",e.FasFaceDizzy="fas-face-dizzy",e.FasFaceFlushed="fas-face-flushed",e.FasFaceFrown="fas-face-frown",e.FasFaceFrownOpen="fas-face-frown-open",e.FasFaceGrimace="fas-face-grimace",e.FasFaceGrin="fas-face-grin",e.FasFaceGrinBeam="fas-face-grin-beam",e.FasFaceGrinBeamSweat="fas-face-grin-beam-sweat",e.FasFaceGrinHearts="fas-face-grin-hearts",e.FasFaceGrinSquint="fas-face-grin-squint",e.FasFaceGrinSquintTears="fas-face-grin-squint-tears",e.FasFaceGrinStars="fas-face-grin-stars",e.FasFaceGrinTears="fas-face-grin-tears",e.FasFaceGrinTongue="fas-face-grin-tongue",e.FasFaceGrinTongueSquint="fas-face-grin-tongue-squint",e.FasFaceGrinTongueWink="fas-face-grin-tongue-wink",e.FasFaceGrinWide="fas-face-grin-wide",e.FasFaceGrinWink="fas-face-grin-wink",e.FasFaceKiss="fas-face-kiss",e.FasFaceKissBeam="fas-face-kiss-beam",e.FasFaceKissWinkHeart="fas-face-kiss-wink-heart",e.FasFaceLaugh="fas-face-laugh",e.FasFaceLaughBeam="fas-face-laugh-beam",e.FasFaceLaughSquint="fas-face-laugh-squint",e.FasFaceLaughWink="fas-face-laugh-wink",e.FasFaceMeh="fas-face-meh",e.FasFaceMehBlank="fas-face-meh-blank",e.FasFaceRollingEyes="fas-face-rolling-eyes",e.FasFaceSadCry="fas-face-sad-cry",e.FasFaceSadTear="fas-face-sad-tear",e.FasFaceSmile="fas-face-smile",e.FasFaceSmileBeam="fas-face-smile-beam",e.FasFaceSmileWink="fas-face-smile-wink",e.FasFaceSurprise="fas-face-surprise",e.FasFaceTired="fas-face-tired",e.FasFan="fas-fan",e.FasFaucet="fas-faucet",e.FasFaucetDrip="fas-faucet-drip",e.FasFax="fas-fax",e.FasFeather="fas-feather",e.FasFeatherPointed="fas-feather-pointed",e.FasFerry="fas-ferry",e.FasFile="fas-file",e.FasFileArrowDown="fas-file-arrow-down",e.FasFileArrowUp="fas-file-arrow-up",e.FasFileAudio="fas-file-audio",e.FasFileCSV="fas-file-csv",e.FasFileCircleCheck="fas-file-circle-check",e.FasFileCircleExclamation="fas-file-circle-exclamation",e.FasFileCircleMinus="fas-file-circle-minus",e.FasFileCirclePlus="fas-file-circle-plus",e.FasFileCircleQuestion="fas-file-circle-question",e.FasFileCircleXmark="fas-file-circle-xmark",e.FasFileCode="fas-file-code",e.FasFileContract="fas-file-contract",e.FasFileExcel="fas-file-excel",e.FasFileExport="fas-file-export",e.FasFileImage="fas-file-image",e.FasFileImport="fas-file-import",e.FasFileInvoice="fas-file-invoice",e.FasFileInvoiceDollar="fas-file-invoice-dollar",e.FasFileLines="fas-file-lines",e.FasFileMedical="fas-file-medical",e.FasFilePDF="fas-file-pdf",e.FasFilePen="fas-file-pen",e.FasFilePowerpoint="fas-file-powerpoint",e.FasFilePrescription="fas-file-prescription",e.FasFileShield="fas-file-shield",e.FasFileSignature="fas-file-signature",e.FasFileVideo="fas-file-video",e.FasFileWaveform="fas-file-waveform",e.FasFileWord="fas-file-word",e.FasFileZipper="fas-file-zipper",e.FasFill="fas-fill",e.FasFillDrip="fas-fill-drip",e.FasFilm="fas-film",e.FasFilter="fas-filter",e.FasFilterCircleDollar="fas-filter-circle-dollar",e.FasFilterCircleXmark="fas-filter-circle-xmark",e.FasFingerprint="fas-fingerprint",e.FasFire="fas-fire",e.FasFireBurner="fas-fire-burner",e.FasFireExtinguisher="fas-fire-extinguisher",e.FasFireFlameCurved="fas-fire-flame-curved",e.FasFireFlameSimple="fas-fire-flame-simple",e.FasFish="fas-fish",e.FasFishFins="fas-fish-fins",e.FasFlag="fas-flag",e.FasFlagCheckered="fas-flag-checkered",e.FasFlagUsa="fas-flag-usa",e.FasFlask="fas-flask",e.FasFlaskVial="fas-flask-vial",e.FasFloppyDisk="fas-floppy-disk",e.FasFlorinSign="fas-florin-sign",e.FasFolder="fas-folder",e.FasFolderClosed="fas-folder-closed",e.FasFolderMinus="fas-folder-minus",e.FasFolderOpen="fas-folder-open",e.FasFolderPlus="fas-folder-plus",e.FasFolderTree="fas-folder-tree",e.FasFont="fas-font",e.FasFontAwesome="fas-font-awesome",e.FasFootball="fas-football",e.FasForward="fas-forward",e.FasForwardFast="fas-forward-fast",e.FasForwardStep="fas-forward-step",e.FasFrancSign="fas-franc-sign",e.FasFrog="fas-frog",e.FasFutbol="fas-futbol",e.FasG="fas-g",e.FasGamepad="fas-gamepad",e.FasGasPump="fas-gas-pump",e.FasGauge="fas-gauge",e.FasGaugeHigh="fas-gauge-high",e.FasGaugeSimple="fas-gauge-simple",e.FasGaugeSimpleHigh="fas-gauge-simple-high",e.FasGavel="fas-gavel",e.FasGear="fas-gear",e.FasGears="fas-gears",e.FasGem="fas-gem",e.FasGenderless="fas-genderless",e.FasGhost="fas-ghost",e.FasGift="fas-gift",e.FasGifts="fas-gifts",e.FasGlassWater="fas-glass-water",e.FasGlassWaterDroplet="fas-glass-water-droplet",e.FasGlasses="fas-glasses",e.FasGlobe="fas-globe",e.FasGolfBallTee="fas-golf-ball-tee",e.FasGopuram="fas-gopuram",e.FasGraduationCap="fas-graduation-cap",e.FasGreaterThan="fas-greater-than",e.FasGreaterThanEqual="fas-greater-than-equal",e.FasGrip="fas-grip",e.FasGripLines="fas-grip-lines",e.FasGripLinesVertical="fas-grip-lines-vertical",e.FasGripVertical="fas-grip-vertical",e.FasGroupArrowsRotate="fas-group-arrows-rotate",e.FasGuaraniSign="fas-guarani-sign",e.FasGuitar="fas-guitar",e.FasGun="fas-gun",e.FasH="fas-h",e.FasHammer="fas-hammer",e.FasHamsa="fas-hamsa",e.FasHand="fas-hand",e.FasHandBackFist="fas-hand-back-fist",e.FasHandDots="fas-hand-dots",e.FasHandFist="fas-hand-fist",e.FasHandHolding="fas-hand-holding",e.FasHandHoldingDollar="fas-hand-holding-dollar",e.FasHandHoldingDroplet="fas-hand-holding-droplet",e.FasHandHoldingHand="fas-hand-holding-hand",e.FasHandHoldingHeart="fas-hand-holding-heart",e.FasHandHoldingMedical="fas-hand-holding-medical",e.FasHandLizard="fas-hand-lizard",e.FasHandMiddleFinger="fas-hand-middle-finger",e.FasHandPeace="fas-hand-peace",e.FasHandPointDown="fas-hand-point-down",e.FasHandPointLeft="fas-hand-point-left",e.FasHandPointRight="fas-hand-point-right",e.FasHandPointUp="fas-hand-point-up",e.FasHandPointer="fas-hand-pointer",e.FasHandScissors="fas-hand-scissors",e.FasHandSparkles="fas-hand-sparkles",e.FasHandSpock="fas-hand-spock",e.FasHandcuffs="fas-handcuffs",e.FasHands="fas-hands",e.FasHandsAslInterpreting="fas-hands-asl-interpreting",e.FasHandsBound="fas-hands-bound",e.FasHandsBubbles="fas-hands-bubbles",e.FasHandsClapping="fas-hands-clapping",e.FasHandsHolding="fas-hands-holding",e.FasHandsHoldingChild="fas-hands-holding-child",e.FasHandsHoldingCircle="fas-hands-holding-circle",e.FasHandsPraying="fas-hands-praying",e.FasHandshake="fas-handshake",e.FasHandshakeAngle="fas-handshake-angle",e.FasHandshakeSimple="fas-handshake-simple",e.FasHandshakeSimpleSlash="fas-handshake-simple-slash",e.FasHandshakeSlash="fas-handshake-slash",e.FasHanukiah="fas-hanukiah",e.FasHardDrive="fas-hard-drive",e.FasHashtag="fas-hashtag",e.FasHatCowboy="fas-hat-cowboy",e.FasHatCowboySide="fas-hat-cowboy-side",e.FasHatWizard="fas-hat-wizard",e.FasHeadSideCough="fas-head-side-cough",e.FasHeadSideCoughSlash="fas-head-side-cough-slash",e.FasHeadSideMask="fas-head-side-mask",e.FasHeadSideVirus="fas-head-side-virus",e.FasHeading="fas-heading",e.FasHeadphones="fas-headphones",e.FasHeadphonesSimple="fas-headphones-simple",e.FasHeadset="fas-headset",e.FasHeart="fas-heart",e.FasHeartCircleBolt="fas-heart-circle-bolt",e.FasHeartCircleCheck="fas-heart-circle-check",e.FasHeartCircleExclamation="fas-heart-circle-exclamation",e.FasHeartCircleMinus="fas-heart-circle-minus",e.FasHeartCirclePlus="fas-heart-circle-plus",e.FasHeartCircleXmark="fas-heart-circle-xmark",e.FasHeartCrack="fas-heart-crack",e.FasHeartPulse="fas-heart-pulse",e.FasHelicopter="fas-helicopter",e.FasHelicopterSymbol="fas-helicopter-symbol",e.FasHelmetSafety="fas-helmet-safety",e.FasHelmetUn="fas-helmet-un",e.FasHighlighter="fas-highlighter",e.FasHillAvalanche="fas-hill-avalanche",e.FasHillRockslide="fas-hill-rockslide",e.FasHippo="fas-hippo",e.FasHockeyPuck="fas-hockey-puck",e.FasHollyBerry="fas-holly-berry",e.FasHorse="fas-horse",e.FasHorseHead="fas-horse-head",e.FasHospital="fas-hospital",e.FasHospitalUser="fas-hospital-user",e.FasHotTubPerson="fas-hot-tub-person",e.FasHotdog="fas-hotdog",e.FasHotel="fas-hotel",e.FasHourglass="fas-hourglass",e.FasHourglassEnd="fas-hourglass-end",e.FasHourglassHalf="fas-hourglass-half",e.FasHourglassStart="fas-hourglass-start",e.FasHouse="fas-house",e.FasHouseChimney="fas-house-chimney",e.FasHouseChimneyCrack="fas-house-chimney-crack",e.FasHouseChimneyMedical="fas-house-chimney-medical",e.FasHouseChimneyUser="fas-house-chimney-user",e.FasHouseChimneyWindow="fas-house-chimney-window",e.FasHouseCircleCheck="fas-house-circle-check",e.FasHouseCircleExclamation="fas-house-circle-exclamation",e.FasHouseCircleXmark="fas-house-circle-xmark",e.FasHouseCrack="fas-house-crack",e.FasHouseFire="fas-house-fire",e.FasHouseFlag="fas-house-flag",e.FasHouseFloodWater="fas-house-flood-water",e.FasHouseFloodWaterCircleArrowRight="fas-house-flood-water-circle-arrow-right",e.FasHouseLaptop="fas-house-laptop",e.FasHouseLock="fas-house-lock",e.FasHouseMedical="fas-house-medical",e.FasHouseMedicalCircleCheck="fas-house-medical-circle-check",e.FasHouseMedicalCircleExclamation="fas-house-medical-circle-exclamation",e.FasHouseMedicalCircleXmark="fas-house-medical-circle-xmark",e.FasHouseMedicalFlag="fas-house-medical-flag",e.FasHouseSignal="fas-house-signal",e.FasHouseTsunami="fas-house-tsunami",e.FasHouseUser="fas-house-user",e.FasHryvniaSign="fas-hryvnia-sign",e.FasHurricane="fas-hurricane",e.FasI="fas-i",e.FasICursor="fas-i-cursor",e.FasIDBadge="fas-id-badge",e.FasIDCard="fas-id-card",e.FasIDCardClip="fas-id-card-clip",e.FasIceCream="fas-ice-cream",e.FasIcicles="fas-icicles",e.FasIcons="fas-icons",e.FasIgloo="fas-igloo",e.FasImage="fas-image",e.FasImagePortrait="fas-image-portrait",e.FasImages="fas-images",e.FasInbox="fas-inbox",e.FasIndent="fas-indent",e.FasIndianRupeeSign="fas-indian-rupee-sign",e.FasIndustry="fas-industry",e.FasInfinity="fas-infinity",e.FasInfo="fas-info",e.FasItalic="fas-italic",e.FasJ="fas-j",e.FasJar="fas-jar",e.FasJarWheat="fas-jar-wheat",e.FasJedi="fas-jedi",e.FasJetFighter="fas-jet-fighter",e.FasJetFighterUp="fas-jet-fighter-up",e.FasJoint="fas-joint",e.FasJugDetergent="fas-jug-detergent",e.FasK="fas-k",e.FasKaaba="fas-kaaba",e.FasKey="fas-key",e.FasKeyboard="fas-keyboard",e.FasKhanda="fas-khanda",e.FasKipSign="fas-kip-sign",e.FasKitMedical="fas-kit-medical",e.FasKitchenSet="fas-kitchen-set",e.FasKiwiBird="fas-kiwi-bird",e.FasL="fas-l",e.FasLandMineOn="fas-land-mine-on",e.FasLandmark="fas-landmark",e.FasLandmarkDome="fas-landmark-dome",e.FasLandmarkFlag="fas-landmark-flag",e.FasLanguage="fas-language",e.FasLaptop="fas-laptop",e.FasLaptopCode="fas-laptop-code",e.FasLaptopFile="fas-laptop-file",e.FasLaptopMedical="fas-laptop-medical",e.FasLariSign="fas-lari-sign",e.FasLayerGroup="fas-layer-group",e.FasLeaf="fas-leaf",e.FasLeftLong="fas-left-long",e.FasLeftRight="fas-left-right",e.FasLemon="fas-lemon",e.FasLessThan="fas-less-than",e.FasLessThanEqual="fas-less-than-equal",e.FasLifeRing="fas-life-ring",e.FasLightbulb="fas-lightbulb",e.FasLinesLeaning="fas-lines-leaning",e.FasLink="fas-link",e.FasLinkSlash="fas-link-slash",e.FasLiraSign="fas-lira-sign",e.FasList="fas-list",e.FasListCheck="fas-list-check",e.FasListOl="fas-list-ol",e.FasListUL="fas-list-ul",e.FasLitecoinSign="fas-litecoin-sign",e.FasLocationArrow="fas-location-arrow",e.FasLocationCrosshairs="fas-location-crosshairs",e.FasLocationDot="fas-location-dot",e.FasLocationPin="fas-location-pin",e.FasLocationPinLock="fas-location-pin-lock",e.FasLock="fas-lock",e.FasLockOpen="fas-lock-open",e.FasLocust="fas-locust",e.FasLungs="fas-lungs",e.FasLungsVirus="fas-lungs-virus",e.FasM="fas-m",e.FasMagnet="fas-magnet",e.FasMagnifyingGlass="fas-magnifying-glass",e.FasMagnifyingGlassArrowRight="fas-magnifying-glass-arrow-right",e.FasMagnifyingGlassChart="fas-magnifying-glass-chart",e.FasMagnifyingGlassDollar="fas-magnifying-glass-dollar",e.FasMagnifyingGlassLocation="fas-magnifying-glass-location",e.FasMagnifyingGlassMinus="fas-magnifying-glass-minus",e.FasMagnifyingGlassPlus="fas-magnifying-glass-plus",e.FasManatSign="fas-manat-sign",e.FasMap="fas-map",e.FasMapLocation="fas-map-location",e.FasMapLocationDot="fas-map-location-dot",e.FasMapPin="fas-map-pin",e.FasMarker="fas-marker",e.FasMars="fas-mars",e.FasMarsAndVenus="fas-mars-and-venus",e.FasMarsAndVenusBurst="fas-mars-and-venus-burst",e.FasMarsDouble="fas-mars-double",e.FasMarsStroke="fas-mars-stroke",e.FasMarsStrokeRight="fas-mars-stroke-right",e.FasMarsStrokeUp="fas-mars-stroke-up",e.FasMartiniGlass="fas-martini-glass",e.FasMartiniGlassCitrus="fas-martini-glass-citrus",e.FasMartiniGlassEmpty="fas-martini-glass-empty",e.FasMask="fas-mask",e.FasMaskFace="fas-mask-face",e.FasMaskVentilator="fas-mask-ventilator",e.FasMasksTheater="fas-masks-theater",e.FasMattressPillow="fas-mattress-pillow",e.FasMaximize="fas-maximize",e.FasMedal="fas-medal",e.FasMemory="fas-memory",e.FasMenorah="fas-menorah",e.FasMercury="fas-mercury",e.FasMessage="fas-message",e.FasMeteor="fas-meteor",e.FasMicrochip="fas-microchip",e.FasMicrophone="fas-microphone",e.FasMicrophoneLines="fas-microphone-lines",e.FasMicrophoneLinesSlash="fas-microphone-lines-slash",e.FasMicrophoneSlash="fas-microphone-slash",e.FasMicroscope="fas-microscope",e.FasMillSign="fas-mill-sign",e.FasMinimize="fas-minimize",e.FasMinus="fas-minus",e.FasMitten="fas-mitten",e.FasMobile="fas-mobile",e.FasMobileButton="fas-mobile-button",e.FasMobileRetro="fas-mobile-retro",e.FasMobileScreen="fas-mobile-screen",e.FasMobileScreenButton="fas-mobile-screen-button",e.FasMoneyBill="fas-money-bill",e.FasMoneyBill1="fas-money-bill-1",e.FasMoneyBill1Wave="fas-money-bill-1-wave",e.FasMoneyBillTransfer="fas-money-bill-transfer",e.FasMoneyBillTrendUp="fas-money-bill-trend-up",e.FasMoneyBillWave="fas-money-bill-wave",e.FasMoneyBillWheat="fas-money-bill-wheat",e.FasMoneyBills="fas-money-bills",e.FasMoneyCheck="fas-money-check",e.FasMoneyCheckDollar="fas-money-check-dollar",e.FasMonument="fas-monument",e.FasMoon="fas-moon",e.FasMortarPestle="fas-mortar-pestle",e.FasMosque="fas-mosque",e.FasMosquito="fas-mosquito",e.FasMosquitoNet="fas-mosquito-net",e.FasMotorcycle="fas-motorcycle",e.FasMound="fas-mound",e.FasMountain="fas-mountain",e.FasMountainCity="fas-mountain-city",e.FasMountainSun="fas-mountain-sun",e.FasMugHot="fas-mug-hot",e.FasMugSaucer="fas-mug-saucer",e.FasMusic="fas-music",e.FasN="fas-n",e.FasNairaSign="fas-naira-sign",e.FasNetworkWired="fas-network-wired",e.FasNeuter="fas-neuter",e.FasNewspaper="fas-newspaper",e.FasNotEqual="fas-not-equal",e.FasNotdef="fas-notdef",e.FasNoteSticky="fas-note-sticky",e.FasNotesMedical="fas-notes-medical",e.FasO="fas-o",e.FasObjectGroup="fas-object-group",e.FasObjectUngroup="fas-object-ungroup",e.FasOilCan="fas-oil-can",e.FasOilWell="fas-oil-well",e.FasOm="fas-om",e.FasOtter="fas-otter",e.FasOutdent="fas-outdent",e.FasP="fas-p",e.FasPager="fas-pager",e.FasPaintRoller="fas-paint-roller",e.FasPaintbrush="fas-paintbrush",e.FasPalette="fas-palette",e.FasPallet="fas-pallet",e.FasPanorama="fas-panorama",e.FasPaperPlane="fas-paper-plane",e.FasPaperclip="fas-paperclip",e.FasParachuteBox="fas-parachute-box",e.FasParagraph="fas-paragraph",e.FasPassport="fas-passport",e.FasPaste="fas-paste",e.FasPause="fas-pause",e.FasPaw="fas-paw",e.FasPeace="fas-peace",e.FasPen="fas-pen",e.FasPenClip="fas-pen-clip",e.FasPenFancy="fas-pen-fancy",e.FasPenNib="fas-pen-nib",e.FasPenRuler="fas-pen-ruler",e.FasPenToSquare="fas-pen-to-square",e.FasPencil="fas-pencil",e.FasPeopleArrows="fas-people-arrows",e.FasPeopleCarryBox="fas-people-carry-box",e.FasPeopleGroup="fas-people-group",e.FasPeopleLine="fas-people-line",e.FasPeoplePulling="fas-people-pulling",e.FasPeopleRobbery="fas-people-robbery",e.FasPeopleRoof="fas-people-roof",e.FasPepperHot="fas-pepper-hot",e.FasPercent="fas-percent",e.FasPerson="fas-person",e.FasPersonArrowDownToLine="fas-person-arrow-down-to-line",e.FasPersonArrowUpFromLine="fas-person-arrow-up-from-line",e.FasPersonBiking="fas-person-biking",e.FasPersonBooth="fas-person-booth",e.FasPersonBreastfeeding="fas-person-breastfeeding",e.FasPersonBurst="fas-person-burst",e.FasPersonCane="fas-person-cane",e.FasPersonChalkboard="fas-person-chalkboard",e.FasPersonCircleCheck="fas-person-circle-check",e.FasPersonCircleExclamation="fas-person-circle-exclamation",e.FasPersonCircleMinus="fas-person-circle-minus",e.FasPersonCirclePlus="fas-person-circle-plus",e.FasPersonCircleQuestion="fas-person-circle-question",e.FasPersonCircleXmark="fas-person-circle-xmark",e.FasPersonDigging="fas-person-digging",e.FasPersonDotsFromLine="fas-person-dots-from-line",e.FasPersonDress="fas-person-dress",e.FasPersonDressBurst="fas-person-dress-burst",e.FasPersonDrowning="fas-person-drowning",e.FasPersonFalling="fas-person-falling",e.FasPersonFallingBurst="fas-person-falling-burst",e.FasPersonHalfDress="fas-person-half-dress",e.FasPersonHarassing="fas-person-harassing",e.FasPersonHiking="fas-person-hiking",e.FasPersonMilitaryPointing="fas-person-military-pointing",e.FasPersonMilitaryRifle="fas-person-military-rifle",e.FasPersonMilitaryToPerson="fas-person-military-to-person",e.FasPersonPraying="fas-person-praying",e.FasPersonPregnant="fas-person-pregnant",e.FasPersonRays="fas-person-rays",e.FasPersonRifle="fas-person-rifle",e.FasPersonRunning="fas-person-running",e.FasPersonShelter="fas-person-shelter",e.FasPersonSkating="fas-person-skating",e.FasPersonSkiing="fas-person-skiing",e.FasPersonSkiingNordic="fas-person-skiing-nordic",e.FasPersonSnowboarding="fas-person-snowboarding",e.FasPersonSwimming="fas-person-swimming",e.FasPersonThroughWindow="fas-person-through-window",e.FasPersonWalking="fas-person-walking",e.FasPersonWalkingArrowLoopLeft="fas-person-walking-arrow-loop-left",e.FasPersonWalkingArrowRight="fas-person-walking-arrow-right",e.FasPersonWalkingDashedLineArrowRight="fas-person-walking-dashed-line-arrow-right",e.FasPersonWalkingLuggage="fas-person-walking-luggage",e.FasPersonWalkingWithCane="fas-person-walking-with-cane",e.FasPesetaSign="fas-peseta-sign",e.FasPesoSign="fas-peso-sign",e.FasPhone="fas-phone",e.FasPhoneFlip="fas-phone-flip",e.FasPhoneSlash="fas-phone-slash",e.FasPhoneVolume="fas-phone-volume",e.FasPhotoFilm="fas-photo-film",e.FasPiggyBank="fas-piggy-bank",e.FasPills="fas-pills",e.FasPizzaSlice="fas-pizza-slice",e.FasPlaceOfWorship="fas-place-of-worship",e.FasPlane="fas-plane",e.FasPlaneArrival="fas-plane-arrival",e.FasPlaneCircleCheck="fas-plane-circle-check",e.FasPlaneCircleExclamation="fas-plane-circle-exclamation",e.FasPlaneCircleXmark="fas-plane-circle-xmark",e.FasPlaneDeparture="fas-plane-departure",e.FasPlaneLock="fas-plane-lock",e.FasPlaneSlash="fas-plane-slash",e.FasPlaneUp="fas-plane-up",e.FasPlantWilt="fas-plant-wilt",e.FasPlateWheat="fas-plate-wheat",e.FasPlay="fas-play",e.FasPlug="fas-plug",e.FasPlugCircleBolt="fas-plug-circle-bolt",e.FasPlugCircleCheck="fas-plug-circle-check",e.FasPlugCircleExclamation="fas-plug-circle-exclamation",e.FasPlugCircleMinus="fas-plug-circle-minus",e.FasPlugCirclePlus="fas-plug-circle-plus",e.FasPlugCircleXmark="fas-plug-circle-xmark",e.FasPlus="fas-plus",e.FasPlusMinus="fas-plus-minus",e.FasPodcast="fas-podcast",e.FasPoo="fas-poo",e.FasPooStorm="fas-poo-storm",e.FasPoop="fas-poop",e.FasPowerOff="fas-power-off",e.FasPrescription="fas-prescription",e.FasPrescriptionBottle="fas-prescription-bottle",e.FasPrescriptionBottleMedical="fas-prescription-bottle-medical",e.FasPrint="fas-print",e.FasPumpMedical="fas-pump-medical",e.FasPumpSoap="fas-pump-soap",e.FasPuzzlePiece="fas-puzzle-piece",e.FasQ="fas-q",e.FasQrcode="fas-qrcode",e.FasQuestion="fas-question",e.FasQuoteLeft="fas-quote-left",e.FasQuoteRight="fas-quote-right",e.FasR="fas-r",e.FasRSS="fas-rss",e.FasRadiation="fas-radiation",e.FasRadio="fas-radio",e.FasRainbow="fas-rainbow",e.FasRankingStar="fas-ranking-star",e.FasReceipt="fas-receipt",e.FasRecordVinyl="fas-record-vinyl",e.FasRectangleAd="fas-rectangle-ad",e.FasRectangleList="fas-rectangle-list",e.FasRectangleXmark="fas-rectangle-xmark",e.FasRecycle="fas-recycle",e.FasRegistered="fas-registered",e.FasRepeat="fas-repeat",e.FasReply="fas-reply",e.FasReplyAll="fas-reply-all",e.FasRepublican="fas-republican",e.FasRestroom="fas-restroom",e.FasRetweet="fas-retweet",e.FasRibbon="fas-ribbon",e.FasRightFromBracket="fas-right-from-bracket",e.FasRightLeft="fas-right-left",e.FasRightLong="fas-right-long",e.FasRightToBracket="fas-right-to-bracket",e.FasRing="fas-ring",e.FasRoad="fas-road",e.FasRoadBarrier="fas-road-barrier",e.FasRoadBridge="fas-road-bridge",e.FasRoadCircleCheck="fas-road-circle-check",e.FasRoadCircleExclamation="fas-road-circle-exclamation",e.FasRoadCircleXmark="fas-road-circle-xmark",e.FasRoadLock="fas-road-lock",e.FasRoadSpikes="fas-road-spikes",e.FasRobot="fas-robot",e.FasRocket="fas-rocket",e.FasRotate="fas-rotate",e.FasRotateLeft="fas-rotate-left",e.FasRotateRight="fas-rotate-right",e.FasRoute="fas-route",e.FasRubleSign="fas-ruble-sign",e.FasRug="fas-rug",e.FasRuler="fas-ruler",e.FasRulerCombined="fas-ruler-combined",e.FasRulerHorizontal="fas-ruler-horizontal",e.FasRulerVertical="fas-ruler-vertical",e.FasRupeeSign="fas-rupee-sign",e.FasRupiahSign="fas-rupiah-sign",e.FasS="fas-s",e.FasSDCard="fas-sd-card",e.FasSPA="fas-spa",e.FasSackDollar="fas-sack-dollar",e.FasSackXmark="fas-sack-xmark",e.FasSailboat="fas-sailboat",e.FasSatellite="fas-satellite",e.FasSatelliteDish="fas-satellite-dish",e.FasScaleBalanced="fas-scale-balanced",e.FasScaleUnbalanced="fas-scale-unbalanced",e.FasScaleUnbalancedFlip="fas-scale-unbalanced-flip",e.FasSchool="fas-school",e.FasSchoolCircleCheck="fas-school-circle-check",e.FasSchoolCircleExclamation="fas-school-circle-exclamation",e.FasSchoolCircleXmark="fas-school-circle-xmark",e.FasSchoolFlag="fas-school-flag",e.FasSchoolLock="fas-school-lock",e.FasScissors="fas-scissors",e.FasScrewdriver="fas-screwdriver",e.FasScrewdriverWrench="fas-screwdriver-wrench",e.FasScroll="fas-scroll",e.FasScrollTorah="fas-scroll-torah",e.FasSection="fas-section",e.FasSeedling="fas-seedling",e.FasServer="fas-server",e.FasShapes="fas-shapes",e.FasShare="fas-share",e.FasShareFromSquare="fas-share-from-square",e.FasShareNodes="fas-share-nodes",e.FasSheetPlastic="fas-sheet-plastic",e.FasShekelSign="fas-shekel-sign",e.FasShield="fas-shield",e.FasShieldCat="fas-shield-cat",e.FasShieldDog="fas-shield-dog",e.FasShieldHalved="fas-shield-halved",e.FasShieldHeart="fas-shield-heart",e.FasShieldVirus="fas-shield-virus",e.FasShip="fas-ship",e.FasShirt="fas-shirt",e.FasShoePrints="fas-shoe-prints",e.FasShop="fas-shop",e.FasShopLock="fas-shop-lock",e.FasShopSlash="fas-shop-slash",e.FasShower="fas-shower",e.FasShrimp="fas-shrimp",e.FasShuffle="fas-shuffle",e.FasShuttleSpace="fas-shuttle-space",e.FasSignHanging="fas-sign-hanging",e.FasSignal="fas-signal",e.FasSignature="fas-signature",e.FasSignsPost="fas-signs-post",e.FasSimCard="fas-sim-card",e.FasSink="fas-sink",e.FasSitemap="fas-sitemap",e.FasSkull="fas-skull",e.FasSkullCrossbones="fas-skull-crossbones",e.FasSlash="fas-slash",e.FasSleigh="fas-sleigh",e.FasSliders="fas-sliders",e.FasSmog="fas-smog",e.FasSmoking="fas-smoking",e.FasSnowflake="fas-snowflake",e.FasSnowman="fas-snowman",e.FasSnowplow="fas-snowplow",e.FasSoap="fas-soap",e.FasSocks="fas-socks",e.FasSolarPanel="fas-solar-panel",e.FasSort="fas-sort",e.FasSortDown="fas-sort-down",e.FasSortUp="fas-sort-up",e.FasSpaghettiMonsterFlying="fas-spaghetti-monster-flying",e.FasSpellCheck="fas-spell-check",e.FasSpider="fas-spider",e.FasSpinner="fas-spinner",e.FasSplotch="fas-splotch",e.FasSpoon="fas-spoon",e.FasSprayCan="fas-spray-can",e.FasSprayCanSparkles="fas-spray-can-sparkles",e.FasSquare="fas-square",e.FasSquareArrowUpRight="fas-square-arrow-up-right",e.FasSquareCaretDown="fas-square-caret-down",e.FasSquareCaretLeft="fas-square-caret-left",e.FasSquareCaretRight="fas-square-caret-right",e.FasSquareCaretUp="fas-square-caret-up",e.FasSquareCheck="fas-square-check",e.FasSquareEnvelope="fas-square-envelope";e.FasSquareFull="fas-square-full",e.FasSquareH="fas-square-h",e.FasSquareMinus="fas-square-minus",e.FasSquareNfi="fas-square-nfi",e.FasSquareParking="fas-square-parking",e.FasSquarePen="fas-square-pen",e.FasSquarePersonConfined="fas-square-person-confined",e.FasSquarePhone="fas-square-phone",e.FasSquarePhoneFlip="fas-square-phone-flip",e.FasSquarePlus="fas-square-plus",e.FasSquarePollHorizontal="fas-square-poll-horizontal",e.FasSquarePollVertical="fas-square-poll-vertical",e.FasSquareRSS="fas-square-rss",e.FasSquareRootVariable="fas-square-root-variable",e.FasSquareShareNodes="fas-square-share-nodes",e.FasSquareUpRight="fas-square-up-right",e.FasSquareVirus="fas-square-virus",e.FasSquareXmark="fas-square-xmark",e.FasStaffSnake="fas-staff-snake",e.FasStairs="fas-stairs",e.FasStamp="fas-stamp",e.FasStapler="fas-stapler",e.FasStar="fas-star",e.FasStarAndCrescent="fas-star-and-crescent",e.FasStarHalf="fas-star-half",e.FasStarHalfStroke="fas-star-half-stroke",e.FasStarOfDavid="fas-star-of-david",e.FasStarOfLife="fas-star-of-life",e.FasSterlingSign="fas-sterling-sign",e.FasStethoscope="fas-stethoscope",e.FasStop="fas-stop",e.FasStopwatch="fas-stopwatch",e.FasStopwatch20="fas-stopwatch-20",e.FasStore="fas-store",e.FasStoreSlash="fas-store-slash",e.FasStreetView="fas-street-view",e.FasStrikethrough="fas-strikethrough",e.FasStroopwafel="fas-stroopwafel",e.FasSubscript="fas-subscript",e.FasSuitcase="fas-suitcase",e.FasSuitcaseMedical="fas-suitcase-medical",e.FasSuitcaseRolling="fas-suitcase-rolling",e.FasSun="fas-sun",e.FasSunPlantWilt="fas-sun-plant-wilt",e.FasSuperscript="fas-superscript",e.FasSwatchbook="fas-swatchbook",e.FasSynagogue="fas-synagogue",e.FasSyringe="fas-syringe",e.FasT="fas-t",e.FasTTY="fas-tty",e.FasTable="fas-table",e.FasTableCells="fas-table-cells",e.FasTableCellsLarge="fas-table-cells-large",e.FasTableColumns="fas-table-columns",e.FasTableList="fas-table-list",e.FasTableTennisPaddleBall="fas-table-tennis-paddle-ball",e.FasTablet="fas-tablet",e.FasTabletButton="fas-tablet-button",e.FasTabletScreenButton="fas-tablet-screen-button",e.FasTablets="fas-tablets",e.FasTachographDigital="fas-tachograph-digital",e.FasTag="fas-tag",e.FasTags="fas-tags",e.FasTape="fas-tape",e.FasTarp="fas-tarp",e.FasTarpDroplet="fas-tarp-droplet",e.FasTaxi="fas-taxi",e.FasTeeth="fas-teeth",e.FasTeethOpen="fas-teeth-open",e.FasTemperatureArrowDown="fas-temperature-arrow-down",e.FasTemperatureArrowUp="fas-temperature-arrow-up",e.FasTemperatureEmpty="fas-temperature-empty",e.FasTemperatureFull="fas-temperature-full",e.FasTemperatureHalf="fas-temperature-half",e.FasTemperatureHigh="fas-temperature-high",e.FasTemperatureLow="fas-temperature-low",e.FasTemperatureQuarter="fas-temperature-quarter",e.FasTemperatureThreeQuarters="fas-temperature-three-quarters",e.FasTengeSign="fas-tenge-sign",e.FasTent="fas-tent",e.FasTentArrowDownToLine="fas-tent-arrow-down-to-line",e.FasTentArrowLeftRight="fas-tent-arrow-left-right",e.FasTentArrowTurnLeft="fas-tent-arrow-turn-left",e.FasTentArrowsDown="fas-tent-arrows-down",e.FasTents="fas-tents",e.FasTerminal="fas-terminal",e.FasTextHeight="fas-text-height",e.FasTextSlash="fas-text-slash",e.FasTextWidth="fas-text-width",e.FasThermometer="fas-thermometer",e.FasThumbsDown="fas-thumbs-down",e.FasThumbsUp="fas-thumbs-up",e.FasThumbtack="fas-thumbtack",e.FasTicket="fas-ticket",e.FasTicketSimple="fas-ticket-simple",e.FasTimeline="fas-timeline",e.FasToggleOff="fas-toggle-off",e.FasToggleOn="fas-toggle-on",e.FasToilet="fas-toilet",e.FasToiletPaper="fas-toilet-paper",e.FasToiletPaperSlash="fas-toilet-paper-slash",e.FasToiletPortable="fas-toilet-portable",e.FasToiletsPortable="fas-toilets-portable",e.FasToolbox="fas-toolbox",e.FasTooth="fas-tooth",e.FasToriiGate="fas-torii-gate",e.FasTornado="fas-tornado",e.FasTowerBroadcast="fas-tower-broadcast",e.FasTowerCell="fas-tower-cell",e.FasTowerObservation="fas-tower-observation",e.FasTractor="fas-tractor",e.FasTrademark="fas-trademark",e.FasTrafficLight="fas-traffic-light",e.FasTrailer="fas-trailer",e.FasTrain="fas-train",e.FasTrainSubway="fas-train-subway",e.FasTrainTram="fas-train-tram",e.FasTransgender="fas-transgender",e.FasTrash="fas-trash",e.FasTrashArrowUp="fas-trash-arrow-up",e.FasTrashCan="fas-trash-can",e.FasTrashCanArrowUp="fas-trash-can-arrow-up",e.FasTree="fas-tree",e.FasTreeCity="fas-tree-city",e.FasTriangleExclamation="fas-triangle-exclamation",e.FasTrophy="fas-trophy",e.FasTrowel="fas-trowel",e.FasTrowelBricks="fas-trowel-bricks",e.FasTruck="fas-truck",e.FasTruckArrowRight="fas-truck-arrow-right",e.FasTruckDroplet="fas-truck-droplet",e.FasTruckFast="fas-truck-fast",e.FasTruckField="fas-truck-field",e.FasTruckFieldUn="fas-truck-field-un",e.FasTruckFront="fas-truck-front",e.FasTruckMedical="fas-truck-medical",e.FasTruckMonster="fas-truck-monster",e.FasTruckMoving="fas-truck-moving",e.FasTruckPickup="fas-truck-pickup",e.FasTruckPlane="fas-truck-plane",e.FasTruckRampBox="fas-truck-ramp-box",e.FasTurkishLiraSign="fas-turkish-lira-sign",e.FasTurnDown="fas-turn-down",e.FasTurnUp="fas-turn-up",e.FasTv="fas-tv",e.FasU="fas-u",e.FasUmbrella="fas-umbrella",e.FasUmbrellaBeach="fas-umbrella-beach",e.FasUnderline="fas-underline",e.FasUniversalAccess="fas-universal-access",e.FasUnlock="fas-unlock",e.FasUnlockKeyhole="fas-unlock-keyhole",e.FasUpDown="fas-up-down",e.FasUpDownLeftRight="fas-up-down-left-right",e.FasUpLong="fas-up-long",e.FasUpRightAndDownLeftFromCenter="fas-up-right-and-down-left-from-center",e.FasUpRightFromSquare="fas-up-right-from-square",e.FasUpload="fas-upload",e.FasUser="fas-user",e.FasUserAstronaut="fas-user-astronaut",e.FasUserCheck="fas-user-check",e.FasUserClock="fas-user-clock",e.FasUserDoctor="fas-user-doctor",e.FasUserGear="fas-user-gear",e.FasUserGraduate="fas-user-graduate",e.FasUserGroup="fas-user-group",e.FasUserInjured="fas-user-injured",e.FasUserLarge="fas-user-large",e.FasUserLargeSlash="fas-user-large-slash",e.FasUserLock="fas-user-lock",e.FasUserMinus="fas-user-minus",e.FasUserNinja="fas-user-ninja",e.FasUserNurse="fas-user-nurse",e.FasUserPen="fas-user-pen",e.FasUserPlus="fas-user-plus",e.FasUserSecret="fas-user-secret",e.FasUserShield="fas-user-shield",e.FasUserSlash="fas-user-slash",e.FasUserTag="fas-user-tag",e.FasUserTie="fas-user-tie",e.FasUserXmark="fas-user-xmark",e.FasUsers="fas-users",e.FasUsersBetweenLines="fas-users-between-lines",e.FasUsersGear="fas-users-gear",e.FasUsersLine="fas-users-line",e.FasUsersRays="fas-users-rays",e.FasUsersRectangle="fas-users-rectangle",e.FasUsersSlash="fas-users-slash",e.FasUsersViewfinder="fas-users-viewfinder",e.FasUtensils="fas-utensils",e.FasV="fas-v",e.FasVRCardboard="fas-vr-cardboard",e.FasVanShuttle="fas-van-shuttle",e.FasVault="fas-vault",e.FasVectorSquare="fas-vector-square",e.FasVenus="fas-venus",e.FasVenusDouble="fas-venus-double",e.FasVenusMars="fas-venus-mars",e.FasVest="fas-vest",e.FasVestPatches="fas-vest-patches",e.FasVial="fas-vial",e.FasVialCircleCheck="fas-vial-circle-check",e.FasVialVirus="fas-vial-virus",e.FasVials="fas-vials",e.FasVideo="fas-video",e.FasVideoSlash="fas-video-slash",e.FasVihara="fas-vihara",e.FasVirus="fas-virus",e.FasVirusCovid="fas-virus-covid",e.FasVirusCovidSlash="fas-virus-covid-slash",e.FasVirusSlash="fas-virus-slash",e.FasViruses="fas-viruses",e.FasVoicemail="fas-voicemail",e.FasVolcano="fas-volcano",e.FasVolleyball="fas-volleyball",e.FasVolumeHigh="fas-volume-high",e.FasVolumeLow="fas-volume-low",e.FasVolumeOff="fas-volume-off",e.FasVolumeXmark="fas-volume-xmark",e.FasW="fas-w",e.FasWalkieTalkie="fas-walkie-talkie",e.FasWallet="fas-wallet",e.FasWandMagic="fas-wand-magic",e.FasWandMagicSparkles="fas-wand-magic-sparkles",e.FasWandSparkles="fas-wand-sparkles",e.FasWarehouse="fas-warehouse",e.FasWater="fas-water",e.FasWaterLadder="fas-water-ladder",e.FasWaveSquare="fas-wave-square",e.FasWeightHanging="fas-weight-hanging",e.FasWeightScale="fas-weight-scale",e.FasWheatAwn="fas-wheat-awn",e.FasWheatAwnCircleExclamation="fas-wheat-awn-circle-exclamation",e.FasWheelchair="fas-wheelchair",e.FasWheelchairMove="fas-wheelchair-move",e.FasWhiskeyGlass="fas-whiskey-glass",e.FasWifi="fas-wifi",e.FasWind="fas-wind",e.FasWindowMaximize="fas-window-maximize",e.FasWindowMinimize="fas-window-minimize",e.FasWindowRestore="fas-window-restore",e.FasWineBottle="fas-wine-bottle",e.FasWineGlass="fas-wine-glass",e.FasWineGlassEmpty="fas-wine-glass-empty",e.FasWonSign="fas-won-sign",e.FasWorm="fas-worm",e.FasWrench="fas-wrench",e.FasX="fas-x",e.FasXRay="fas-x-ray",e.FasXmark="fas-xmark",e.FasXmarksLines="fas-xmarks-lines",e.FasY="fas-y",e.FasYenSign="fas-yen-sign",e.FasYinYang="fas-yin-yang",e.FasZ="fas-z"}(St||(St={})),function(e){e.Left="left",e.Right="right"}(It||(It={})),function(e){e.Center="center",e.Justify="justify",e.Left="left",e.Right="right"}(Ct||(Ct={})),function(e){e.ArrowThick="arrow-thick",e.ArrowThin="arrow-thin",e.Asterisk="asterisk",e.Ban="ban",e.BreadSlice="bread-slice",e.Certificate="certificate",e.Check="check",e.Cloud="cloud",e.CommentBubble="comment-bubble",e.CommentRectangle="comment-rectangle",e.File="file",e.Folder="folder",e.Heart="heart",e.MapMarker="map-marker",e.Oval="oval",e.Path="path",e.Rectangle="rectangle",e.Shield="shield",e.StickyNote="sticky-note",e.Tag="tag",e.Triangle="triangle"}(Pt||(Pt={})),function(e){e.Profile="profile",e.Tweet="tweet"}(Tt||(Tt={})),function(e){e.Desktop="desktop",e.Window="window"}(Nt||(Nt={})),function(e){e.Grow="grow"}(Rt||(Rt={})),function(e){e.Desktop="desktop",e.Mobile="mobile"}(Dt||(Dt={})),function(e){e.Blank="_blank",e.Self="_self"}(Ot||(Ot={})),function(e){e.All="all",e.None="none"}(At||(At={})),function(e){e.Hidden="hidden",e.Scroll="scroll",e.Visible="visible"}(Mt||(Mt={})),function(e){e.Button="button",e.CodeEmbed="code-embed",e.Codepen="codepen",e.Drawing="drawing",e.GIF="gif",e.GoogleForms="google-forms",e.Group="group",e.Image="image",e.RichButton="rich-button",e.Shape="shape",e.Soundcloud="soundcloud",e.Spotify="spotify",e.Substack="substack",e.Text="text",e.Twitch="twitch",e.Twitter="twitter",e.Typeform="typeform",e.Youtube="youtube",e.Zora="zora"}(zt||(zt={})),function(e){e.Percent="percent",e.Pixel="pixel",e.Rem="rem"}(Lt||(Lt={})),function(e){e.Login="login",e.SignUp="sign-up"}(jt||(jt={})),function(e){e.Canary="canary",e.Localhost="localhost",e.Stable="stable"}(Bt||(Bt={})),p.maxDesktopContentWidthPx,p.maxWindowWidthPx;const $t=new de({caller:"useResizeObserver"});function Yt(e,t){(0,i.useEffect)((()=>{let a;if(a="string"==typeof e?document.getElementById(e):e,!a)return void $t.error(`Element not found: ${a}`);const n=new ResizeObserver((e=>{for(let a of e)t(a)}));return n.observe(a),()=>{n.disconnect()}}),[e,t])}const Xt="editor-canvas",Kt="editor-canvas-scroll-region",Zt="editor-page-view",Jt=new de({caller:"useRelativePositionSystem"}),Qt="mmm_CANVAS_RECT_KEY",ea="mmm_PAGE_VIEW_RECT_KEY";function ta(){return window[Qt]}function aa(e){window[Qt]=Object.assign(Object.assign({},window[Qt]),e),e.width&&document.documentElement.style.setProperty("--override-canvas-width",`${e.width}px`),e.height&&document.documentElement.style.setProperty("--override-canvas-height",`${e.height}px`)}function na(){return window[ea]}function ia(e){window[ea]=Object.assign(Object.assign({},window[ea]),e),e.height&&document.documentElement.style.setProperty("--override-page-view-height",`${e.height}px`)}function oa(){const{width:e,height:t}=ta(),{scrollOffset:[a,n]}=na();return{minY:n,maxY:n+t,minX:a,maxX:e+a,width:e,height:t}}function sa(){return na().scrollOffset[1]}function ra(e,t=!1){const{top:a,left:n}=ta(),{scrollOffset:[,i]}=na(),[o,s]=e;return[o-n,s-a+(t?0:i+window.scrollY)]}function la(e,t=!1){const{top:a,left:n}=ta(),{scrollOffset:[,i]}=na(),[o,s]=e;return[o+n,s+a-(t?0:i+window.scrollY)]}window[ea]={scrollOffset:[0,0],height:0},window[Qt]={top:0,left:0,width:document.body.clientWidth,height:document.body.clientHeight};const ca=(e,t)=>{const{minY:a,maxY:n}=st(pa.transform(e,{from:t,to:void 0})),i=oa();return a>=i.minY&&a<=i.maxY||n>=i.minY&&n<=i.maxY||a<=i.minY&&n>=i.maxY};var da,ua;class ma{}da=ma,ma.intialize=e=>(0,A.zN)().withMutations((t=>{var a;const n=null!==(a=e.fromMap)&&void 0!==a?a:(0,A.zN)(e.fromArray.map((e=>[e.ID,e])));n.forEach((e=>{var a;const{ID:i,parentId:o}=e;t.has(i)||t.set(i,{id:i,parentId:o,children:[]}),t.has(o)||t.set(o,{id:o,parentId:o?null===(a=n.get(o))||void 0===a?void 0:a.parentId:void 0,children:[]}),t.get(o).children.push(i)})),t.forEach(((e,a)=>{t.set(a,Object.assign(Object.assign({},e),{children:e.children.sort(da.sortComparator(e.id,n))}))}))})),ma.sortComparator=(e,t)=>(a,n)=>{var i;const o=t.get(a),s=t.get(n);if(void 0===o||void 0===s)return 0;if(void 0!==e&&(null===(i=t.get(e))||void 0===i?void 0:i.content.groupDisplay)===xt.Freeform){const{minY:e}=st(o.position),{minY:t}=st(o.position);return t-e}return void 0===o.content.groupOrder||void 0===s.content.groupOrder?0:o.content.groupOrder-s.content.groupOrder};const ga=new de({caller:"ThingDom"});class pa{static update(e,{added:t=[],removed:a=[],updated:n=[],next:i,prev:o}){const{tree:s}=pe.get(e);let r=!1;const l=s.withMutations((e=>{n.forEach((t=>{const a=i.get(t),n=o.get(t);if(void 0===a||void 0===n)return ga.error("ID missing in prev or next when attempting to update tree");if(a.parentId===n.parentId)return;const s=e.get(n.parentId);e.set(s.id,Object.assign(Object.assign({},s),{children:s.children.filter((e=>e!==t))}));const l=e.get(a.parentId);e.set(l.id,Object.assign(Object.assign({},l),{children:[...l.children,t].sort(ma.sortComparator(l.id,i))}));const c=e.get(t);e.set(t,Object.assign(Object.assign({},c),{parentId:l.id})),r=!0})),a.forEach((t=>{const a=o.get(t);if(void 0===a)return ga.error("ID missing in prev when attempting to remove from tree");const n=e.get(a.parentId);e.set(n.id,Object.assign(Object.assign({},n),{children:n.children.filter((e=>e!==t))})),r=!0})),t.forEach((t=>{const a=i.get(t);if(void 0===a)return ga.error("ID missing in next when attempting to add to tree");const n=e.get(a.parentId);e.set(n.id,Object.assign(Object.assign({},n),{children:[...n.children,t].sort(ma.sortComparator(n.id,i))})),r=!0}))}));return r?ga.info(`Tree updated: ${e}`):ga.debug("Nothing changed. Tree not updated, but things still updated."),pe.set({tree:l,things:i},e),l}static clear(e){pe.clear(e)}static commit({src:e,dst:t}){pe.clear(e),ga.info(`Commited ${e} to ${t}`)}static getMostLikelySectionId(){const{maxX:e,minX:t,maxY:a,minY:n}=oa(),i=[(e+t)/2,(a+n)/2];return this.getSectionId(i,{inSpace:void 0})}static getSectionId(e,{inSpace:t}){var a,n;const{tree:i,things:o}=pe.get("stable"),s=i.get(void 0).children,[,r]=this.transformPoint(e,{from:t,to:void 0}),{width:l}=ta(),c=null!==(n=null===(a=o.get(s[0]))||void 0===a?void 0:a.position.width)&&void 0!==n?n:1,d=Math.min(l/c,1);let u=0;for(let e=0;e<s.length;e++){const t=o.get(s[e]);if(t&&(u+=t.position.height*d),r<=u)return s[e]}return s[s.length-1]}static transformPoint(e,{from:t,to:a,scaleOnly:n}={from:void 0,to:void 0,scaleOnly:!1}){const i=this.transform({x:e[0],y:e[1],width:0,height:0,zIndex:0,rotationDeg:0},{from:t,to:a,scaleOnly:n});return[i.x,i.y]}static transform(e,{from:t,to:a,scaleOnly:n}={from:void 0,to:void 0,scaleOnly:!1}){if(t===a)return e;const{things:i}=pe.get("stable");let{x:o,y:s,width:r,height:l}=e;const{width:c}=ta();let d=t;for(;void 0!==d;){const t=i.get(d);if(void 0===t)return e;const{x:a,width:u,y:m}=t.position;if(void 0===t.parentId){const e=Math.min(c/u,1);o*=e,s*=e,n||(o+=Math.max(c-u,0)/2,s+=this.getSectionYOffset(d)*e),r*=e,l*=e}else o+=a,s+=m;d=t.parentId}const u=[];let m=a;for(;void 0!==m;){const t=i.get(m);if(void 0===t)return e;u.push(t),m=t.parentId}for(let e=0;e<u.length;e++){const{x:t,width:a,y:i}=u[e].position;if(0===e){const t=Math.max(a/c,1);n||(o-=Math.max(c-a,0)/2,s-=this.getSectionYOffset(u[e].ID)/t),o*=t,s*=t,r*=t,l*=t}else o-=t,s-=i}return Object.assign(Object.assign({},e),{x:o,y:s,width:r,height:l})}static getIdsAt(e,t){const{tree:a,things:n}=pe.get(t),i=this.getSectionId(e,{inSpace:void 0}),o=this.transformPoint(e,{from:void 0,to:i}),{children:s}=a.get(i),r=s.sort(((e,t)=>{var a,i;const o=null===(a=n.get(e))||void 0===a?void 0:a.position.zIndex,s=null===(i=n.get(t))||void 0===i?void 0:i.position.zIndex;return void 0===o||void 0===s?(ga.error("Thing found in children of node, but not in global things"),0):s-o})),l=new Array;return r.forEach((e=>{const t=n.get(e);t&&this.isPointInPosition(o,t.position)&&_t(t)&&l.push(e)})),0===l.length&&n.valueSeq().toArray().sort(((e,t)=>{const a=e.position.zIndex,n=t.position.zIndex;return void 0===a||void 0===n?(ga.error("Thing found in children of node, but not in global things"),0):n-a})).forEach((t=>{const a=this.transformPoint(e,{from:void 0,to:t.parentId});this.isPointInPosition(a,t.position)&&_t(t)&&l.push(t.ID)})),l}static getChildrenFor(e){const{tree:t}=pe.get("stable");return t.get(e).children}}ua=pa,pa.initialize=(e,t="stable",a=!0)=>{const n=ma.intialize({fromMap:e});return ga.info("Tree initialized",t),a&&pe.set({tree:n,things:e},t),n},pa.getSectionAtIndex=e=>{const{tree:t,things:a}=pe.get("stable"),n=t.get(void 0).children;if(!(n.length<e+1))return a.get(n[e])},pa.isFirstSection=e=>{const{tree:t}=pe.get("stable"),a=t.get(void 0);return void 0!==a&&a.children[0]===e},pa.isLastSection=e=>{const{tree:t}=pe.get("stable"),a=t.get(void 0);return(null==a?void 0:a.children[t.get(void 0).children.length-1])===e},pa.getSectionIds=()=>{const{tree:e}=pe.get("stable");return e.get(void 0).children},pa.getLastSectionId=()=>ua.getSectionIds()[ua.getSectionIds().length-1],pa.getSectionYOffset=e=>{const{tree:t,things:a}=pe.get("stable"),n=t.get(void 0);if(void 0===n)return 0;const i=n.children;let o=0;for(let t=0;t<i.length&&i[t]!==e;t++){const e=a.get(i[t]);e&&(o+=e.position.height)}return o},pa.isPointInPosition=(e,t)=>{let{x:a,y:n,height:i,width:o,rotationDeg:s}=t;const[r,l]=e,c=Math.abs(i),d=Math.abs(o),u=Math.sin(-s/180*Math.PI),m=Math.cos(-s/180*Math.PI);let g={x:r-a,y:l-n};return g={x:g.x*m-g.y*u,y:g.x*u+g.y*m},g={x:g.x+a,y:g.y+n},g.x>=a-d/2&&g.x<=a+d/2&&g.y>=n-c/2&&g.y<=n+c/2};const ha=48;class fa{constructor(){this.version="0.2.0"}up(e){const t={ID:Math.floor(Math.random()*Number.MIN_SAFE_INTEGER),type:zt.Group,altText:null,content:{groupDisplay:xt.Freeform,groupOrder:0},position:{x:0,y:0,height:e.relativeHeight,width:1,rotationDeg:0,zIndex:1},locked:!1,properties:{htmlId:"section-main"},styles:{}};return e.things.forEach((e=>e.parentId=t.ID)),e.things.push(t),e.settings.editorVersion=this.version,e}down(e){throw new Error("Method not implemented.")}patchViewer(e,t){return{page:this.up(e),renderOptions:t}}}class ba{constructor(){this.version="0.3.0"}up(e){return e.things=e.things.map((e=>{const{x:t,y:a,width:n,height:i}=e.position;if(e.position=Object.assign(Object.assign({},e.position),{x:ya(t),y:ya(a),width:ya(n),height:ya(i)}),e.type===zt.Text){const{fontSize:t}=e.content;e.content.fontSize=t*p.maxWindowWidthPx}return e})),e.settings.editorVersion=this.version,e}down(e){throw new Error("Method not implemented.")}patchViewer(e,t){return{page:this.up(e),renderOptions:t}}}function ya(e){return va(e*p.maxWindowWidthPx,2)}const va=(e,t=0)=>Math.round(e*Math.pow(10,t))/Math.pow(10,t);var wa,Ea,ka=a(59065),Fa=a(93026),xa=a(71341),Sa=a(18934),Ia=a(80722),Ca=a(36729),Pa=a(15936),Ta=a(13348),Na=a(72157),Ra=a(35597),Da=a(4822),Oa=a(56735),Aa=a(30036);!function(e){e[e.Serif=0]="Serif",e[e.SansSerif=1]="SansSerif",e[e.Display=2]="Display",e[e.Monospace=3]="Monospace",e[e.Script=4]="Script"}(wa||(wa={})),function(e){e.Variable="variable",e.Regular100="regular-100",e.Italic100="italic-100",e.Regular200="regular-200",e.Italic200="italic-200",e.Regular300="regular-300",e.Italic300="italic-300",e.Regular400="regular-400",e.Italic400="italic-400",e.Regular500="regular-500",e.Italic500="italic-500",e.Regular600="regular-600",e.Italic600="italic-600",e.Regular700="regular-700",e.Italic700="italic-700",e.Regular800="regular-800",e.Italic800="italic-800",e.Regular900="regular-900",e.Italic900="italic-900"}(Ea||(Ea={}));const Ma={font:Ft.Bangers,googleFontsName:"Bangers",cssName:"Bangers",category:wa.Display,styles:[Ea.Regular400]},za={font:Ft.EbGaramond,googleFontsName:"EB Garamond",cssName:"EB Garamond",category:wa.Serif,styles:[Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700,Ea.Italic800]},La={font:Ft.RobotoSlab,googleFontsName:"Roboto Slab",cssName:"Roboto Slab",category:wa.Serif,styles:[Ea.Regular100,Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900]},ja={font:Ft.Merriweather,googleFontsName:"Merriweather",cssName:"Merriweather",category:wa.Serif,styles:[Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700,Ea.Regular900,Ea.Italic900]},Ba={font:Ft.PlayfairDisplay,googleFontsName:"Playfair Display",cssName:"Playfair Display",category:wa.Serif,styles:[Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700,Ea.Italic800,Ea.Italic900]},Ua={font:Ft.Lora,googleFontsName:"Lora",cssName:"Lora",category:wa.Serif,styles:[Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700]},_a={font:Ft.PtSerif,googleFontsName:"PT Serif",cssName:"PT Serif",category:wa.Serif,styles:[Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},Ha={font:Ft.NotoSerif,googleFontsName:"Noto Serif",cssName:"Noto Serif",category:wa.Serif,styles:[Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},Ga={font:Ft.LibreBaskerville,googleFontsName:"Libre Baskerville",cssName:"Libre Baskerville",category:wa.Serif,styles:[Ea.Regular400,Ea.Italic400,Ea.Regular700]},qa={font:Ft.Bitter,googleFontsName:"Bitter",cssName:"Bitter",category:wa.Serif,styles:[Ea.Regular100,Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900,Ea.Italic100,Ea.Italic200,Ea.Italic300,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700,Ea.Italic800,Ea.Italic900]},Wa={font:Ft.SourceSerifPro,googleFontsName:"Source Serif Pro",cssName:"Source Serif Pro",category:wa.Serif,styles:[Ea.Regular200,Ea.Italic200,Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular600,Ea.Italic600,Ea.Regular700,Ea.Italic700,Ea.Regular900,Ea.Italic900]},Va={font:Ft.Arvo,googleFontsName:"Arvo",cssName:"Arvo",category:wa.Serif,styles:[Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},$a={font:Ft.Slabo27Px,googleFontsName:"Slabo 27px",cssName:"Slabo 27px",category:wa.Serif,styles:[Ea.Regular400]},Ya={font:Ft.IBMPlexSerif,googleFontsName:"IBM Plex Serif",cssName:"IBM Plex Serif",category:wa.Serif,styles:[Ea.Regular100,Ea.Italic100,Ea.Regular200,Ea.Italic200,Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular500,Ea.Italic500,Ea.Regular600,Ea.Italic600,Ea.Regular700,Ea.Italic700]},Xa={font:Ft.CormorantGaramond,googleFontsName:"Cormorant Garamond",cssName:"Cormorant Garamond",category:wa.Serif,styles:[Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular500,Ea.Italic500,Ea.Regular600,Ea.Italic600,Ea.Regular700,Ea.Italic700]},Ka={font:Ft.Domine,googleFontsName:"Domine",cssName:"Domine",category:wa.Serif,styles:[Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700]},Za={font:Ft.ZillaSlab,googleFontsName:"Zilla Slab",cssName:"Zilla Slab",category:wa.Serif,styles:[Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular500,Ea.Italic500,Ea.Regular600,Ea.Italic600,Ea.Regular700,Ea.Italic700]},Ja={font:Ft.NanumMyeongjo,googleFontsName:"Nanum Myeongjo",cssName:"Nanum Myeongjo",category:wa.Serif,styles:[Ea.Regular400,Ea.Regular700,Ea.Regular800]},Qa={font:Ft.BreeSerif,googleFontsName:"Bree Serif",cssName:"Bree Serif",category:wa.Serif,styles:[Ea.Regular400]},en={font:Ft.Vollkorn,googleFontsName:"Vollkorn",cssName:"Vollkorn",category:wa.Serif,styles:[Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700,Ea.Italic800,Ea.Italic900]},tn={font:Ft.Martel,googleFontsName:"Martel",cssName:"Martel",category:wa.Serif,styles:[Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900]},an={font:Ft.Cinzel,googleFontsName:"Cinzel",cssName:"Cinzel",category:wa.Serif,styles:[Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900]},nn={font:Ft.CreteRound,googleFontsName:"Crete Round",cssName:"Crete Round",category:wa.Serif,styles:[Ea.Regular400,Ea.Italic400]},on={font:Ft.Prata,googleFontsName:"Prata",cssName:"Prata",category:wa.Serif,styles:[Ea.Regular400]},sn={font:Ft.Volkhov,googleFontsName:"Volkhov",cssName:"Volkhov",category:wa.Serif,styles:[Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},rn={font:Ft.LibreBodoni,googleFontsName:"Libre Bodoni",cssName:"Libre Bodoni",category:wa.Serif,styles:[Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700]},ln={font:Ft.InriaSerif,googleFontsName:"Inria Serif",cssName:"Inria Serif",category:wa.Serif,styles:[Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},cn={font:Ft.ComicNeue,googleFontsName:"Comic Neue",cssName:"Comic Neue",category:wa.Script,styles:[Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},dn={font:Ft.Lato,googleFontsName:"Lato",cssName:"Lato",category:wa.SansSerif,styles:[Ea.Regular100,Ea.Italic100,Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700,Ea.Regular900,Ea.Italic900]},un={font:Ft.OpenSans,googleFontsName:"Open Sans",cssName:"Open Sans",category:wa.SansSerif,styles:[Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Italic300,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700,Ea.Italic800]},mn={font:Ft.Montserrat,googleFontsName:"Montserrat",cssName:"Montserrat",category:wa.SansSerif,styles:[Ea.Regular100,Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900,Ea.Italic100,Ea.Italic200,Ea.Italic300,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700,Ea.Italic800,Ea.Italic900]},gn={font:Ft.Inter,googleFontsName:"Inter",cssName:"Inter",category:wa.SansSerif,styles:[Ea.Regular100,Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900]},pn={font:Ft.Poppins,googleFontsName:"Poppins",cssName:"Poppins",category:wa.SansSerif,styles:[Ea.Regular100,Ea.Italic100,Ea.Regular200,Ea.Italic200,Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular500,Ea.Italic500,Ea.Regular600,Ea.Italic600,Ea.Regular700,Ea.Italic700,Ea.Regular800,Ea.Italic800,Ea.Regular900,Ea.Italic900]},hn={font:Ft.Anton,googleFontsName:"Anton",cssName:"Anton",category:wa.SansSerif,styles:[Ea.Regular400]},fn={font:Ft.WorkSans,googleFontsName:"Work Sans",cssName:"Work Sans",category:wa.SansSerif,styles:[Ea.Regular100,Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900,Ea.Italic100,Ea.Italic200,Ea.Italic300,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700,Ea.Italic800,Ea.Italic900]},bn={font:Ft.Oswald,googleFontsName:"Oswald",cssName:"Oswald",category:wa.SansSerif,styles:[Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700]},yn={font:Ft.RobotoCondensed,googleFontsName:"Roboto Condensed",cssName:"Roboto Condensed",category:wa.SansSerif,styles:[Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},vn={font:Ft.NotoSans,googleFontsName:"Noto Sans",cssName:"Noto Sans",category:wa.SansSerif,styles:[Ea.Regular100,Ea.Italic100,Ea.Regular200,Ea.Italic200,Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular500,Ea.Italic500,Ea.Regular600,Ea.Italic600,Ea.Regular700,Ea.Italic700,Ea.Regular800,Ea.Italic800,Ea.Regular900,Ea.Italic900]},wn={font:Ft.Ubuntu,googleFontsName:"Ubuntu",cssName:"Ubuntu",category:wa.SansSerif,styles:[Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular500,Ea.Italic500,Ea.Regular700,Ea.Italic700]},En={font:Ft.Nunito,googleFontsName:"Nunito",cssName:"Nunito",category:wa.SansSerif,styles:[Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900,Ea.Italic200,Ea.Italic300,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700,Ea.Italic800,Ea.Italic900]},kn={font:Ft.Quicksand,googleFontsName:"Quicksand",cssName:"Quicksand",category:wa.SansSerif,styles:[Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700]},Fn={font:Ft.Barlow,googleFontsName:"Barlow",cssName:"Barlow",category:wa.SansSerif,styles:[Ea.Regular100,Ea.Italic100,Ea.Regular200,Ea.Italic200,Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular500,Ea.Italic500,Ea.Regular600,Ea.Italic600,Ea.Regular700,Ea.Italic700,Ea.Regular800,Ea.Italic800,Ea.Regular900,Ea.Italic900]},xn={font:Ft.Mulish,googleFontsName:"Mulish",cssName:"Mulish",category:wa.SansSerif,styles:[Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900,Ea.Italic200,Ea.Italic300,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700,Ea.Italic800,Ea.Italic900]},Sn={font:Ft.Heebo,googleFontsName:"Heebo",cssName:"Heebo",category:wa.SansSerif,styles:[Ea.Regular100,Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900]},In={font:Ft.IBMPlexSans,googleFontsName:"IBM Plex Sans",cssName:"IBM Plex Sans",category:wa.SansSerif,styles:[Ea.Regular100,Ea.Italic100,Ea.Regular200,Ea.Italic200,Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular500,Ea.Italic500,Ea.Regular600,Ea.Italic600,Ea.Regular700,Ea.Italic700]},Cn={font:Ft.BebasNeue,googleFontsName:"Bebas Neue",cssName:"Bebas Neue",category:wa.Display,styles:[Ea.Regular400]},Pn={font:Ft.Pacifico,googleFontsName:"Pacifico",cssName:"Pacifico",category:wa.Script,styles:[Ea.Regular400]},Tn={font:Ft.RubikGlitch,googleFontsName:"Rubik Glitch",cssName:"Rubik Glitch",category:wa.Display,styles:[Ea.Regular400]},Nn={font:Ft.RubikMoonrocks,googleFontsName:"Rubik Moonrocks",cssName:"Rubik Moonrocks",category:wa.Display,styles:[Ea.Regular400]},Rn={font:Ft.RubikPuddles,googleFontsName:"Rubik Puddles",cssName:"Rubik Puddles",category:wa.Display,styles:[Ea.Regular400]},Dn={font:Ft.Vt323,googleFontsName:"VT323",cssName:"VT323",category:wa.Monospace,styles:[Ea.Regular400]},On={font:Ft.ZillaSlabHighlight,googleFontsName:"Zilla Slab Highlight",cssName:"Zilla Slab Highlight",category:wa.Display,styles:[Ea.Regular400,Ea.Regular700]},An={font:Ft.LibreBarcode39,googleFontsName:"Libre Barcode 39",cssName:"Libre Barcode 39",category:wa.Display,styles:[Ea.Regular400]},Mn={font:Ft.LibreBarcode39Text,googleFontsName:"Libre Barcode 39 Text",cssName:"Libre Barcode 39 Text",category:wa.Display,styles:[Ea.Regular400]},zn={font:Ft.Syncopate,googleFontsName:"Syncopate",cssName:"Syncopate",category:wa.SansSerif,styles:[Ea.Regular400,Ea.Regular700]},Ln={font:Ft.Monoton,googleFontsName:"Monoton",cssName:"Monoton",category:wa.Display,styles:[Ea.Regular400]},jn={font:Ft.FrederickaTheGreat,googleFontsName:"Fredericka the Great",cssName:"Fredericka the Great",category:wa.Display,styles:[Ea.Regular400]},Bn={font:Ft.Creepster,googleFontsName:"Creepster",cssName:"Creepster",category:wa.Display,styles:[Ea.Regular400]},Un={font:Ft.PressStart2P,googleFontsName:"Press Start 2P",cssName:"Press Start 2P",category:wa.Display,styles:[Ea.Regular400]},_n={font:Ft.KirangHaerang,googleFontsName:"Kirang Haerang",cssName:"Kirang Haerang",category:wa.Display,styles:[Ea.Regular400]},Hn={font:Ft.Archivo,googleFontsName:"Archivo",cssName:"Archivo",category:wa.SansSerif,styles:[Ea.Regular100,Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900,Ea.Italic100,Ea.Italic200,Ea.Italic300,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700,Ea.Italic800,Ea.Italic900]},Gn={font:Ft.KosugiMaru,googleFontsName:"Kosugi Maru",cssName:"Kosugi Maru",category:wa.SansSerif,styles:[Ea.Regular400]},qn={font:Ft.MajorMonoDisplay,googleFontsName:"Major Mono Display",cssName:"Major Mono Display",category:wa.Monospace,styles:[Ea.Regular400]},Wn={font:Ft.Rokkitt,googleFontsName:"Rokkitt",cssName:"Rokkitt",category:wa.Serif,styles:[Ea.Regular100,Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900,Ea.Italic100,Ea.Italic200,Ea.Italic300,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700,Ea.Italic800,Ea.Italic900]},Vn={font:Ft.DelaGothicOne,googleFontsName:"Dela Gothic One",cssName:"Dela Gothic One",category:wa.Display,styles:[Ea.Regular400]},$n={font:Ft.DotGothic16,googleFontsName:"DotGothic16",cssName:"DotGothic16",category:wa.SansSerif,styles:[Ea.Regular400]},Yn={font:Ft.BizUdMincho,googleFontsName:"BIZ UDMincho",cssName:"BIZ UDMincho",category:wa.Serif,styles:[Ea.Regular400,Ea.Regular700]},Xn={font:Ft.SpecialElite,googleFontsName:"Special Elite",cssName:"Special Elite",category:wa.Display,styles:[Ea.Regular400]},Kn={font:Ft.LuckiestGuy,googleFontsName:"Luckiest Guy",cssName:"Luckiest Guy",category:wa.Display,styles:[Ea.Regular400]},Zn={font:Ft.YesevaOne,googleFontsName:"Yeseva One",cssName:"Yeseva One",category:wa.Display,styles:[Ea.Regular400]},Jn={font:Ft.Audiowide,googleFontsName:"Audiowide",cssName:"Audiowide",category:wa.Display,styles:[Ea.Regular400]},Qn={font:Ft.Lalezar,googleFontsName:"Lalezar",cssName:"Lalezar",category:wa.Display,styles:[Ea.Regular400]},ei={font:Ft.BubblegumSans,googleFontsName:"Bubblegum Sans",cssName:"Bubblegum Sans",category:wa.Display,styles:[Ea.Regular400]},ti={font:Ft.BalsamiqSans,googleFontsName:"Balsamiq Sans",cssName:"Balsamiq Sans",category:wa.Display,styles:[Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},ai={font:Ft.CabinSketch,googleFontsName:"Cabin Sketch",cssName:"Cabin Sketch",category:wa.Display,styles:[Ea.Regular400,Ea.Regular700]},ni={font:Ft.Rye,googleFontsName:"Rye",cssName:"Rye",category:wa.Display,styles:[Ea.Regular400]},ii={font:Ft.HennyPenny,googleFontsName:"Henny Penny",cssName:"Henny Penny",category:wa.Display,styles:[Ea.Regular400]},oi={font:Ft.AveriaSerifLibre,googleFontsName:"Averia Serif Libre",cssName:"Averia Serif Libre",category:wa.Display,styles:[Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},si={font:Ft.Knewave,googleFontsName:"Knewave",cssName:"Knewave",category:wa.Display,styles:[Ea.Regular400]},ri={font:Ft.Calistoga,googleFontsName:"Calistoga",cssName:"Calistoga",category:wa.Display,styles:[Ea.Regular400]},li={font:Ft.RalewayDots,googleFontsName:"Raleway Dots",cssName:"Raleway Dots",category:wa.Display,styles:[Ea.Regular400]},ci={font:Ft.FreckleFace,googleFontsName:"Freckle Face",cssName:"Freckle Face",category:wa.Display,styles:[Ea.Regular400]},di={font:Ft.Codystar,googleFontsName:"Codystar",cssName:"Codystar",category:wa.Display,styles:[Ea.Regular300,Ea.Regular400]},ui={font:Ft.FingerPaint,googleFontsName:"Finger Paint",cssName:"Finger Paint",category:wa.Display,styles:[Ea.Regular400]},mi={font:Ft.Unkempt,googleFontsName:"Unkempt",cssName:"Unkempt",category:wa.Display,styles:[Ea.Regular400,Ea.Regular700]},gi={font:Ft.Coiny,googleFontsName:"Coiny",cssName:"Coiny",category:wa.Display,styles:[Ea.Regular400]},pi={font:Ft.Modak,googleFontsName:"Modak",cssName:"Modak",category:wa.Display,styles:[Ea.Regular400]},hi={font:Ft.Chango,googleFontsName:"Chango",cssName:"Chango",category:wa.Display,styles:[Ea.Regular400]},fi={font:Ft.Monofett,googleFontsName:"Monofett",cssName:"Monofett",category:wa.Display,styles:[Ea.Regular400]},bi={font:Ft.Diplomata,googleFontsName:"Diplomata",cssName:"Diplomata",category:wa.Display,styles:[Ea.Regular400]},yi={font:Ft.Plaster,googleFontsName:"Plaster",cssName:"Plaster",category:wa.Display,styles:[Ea.Regular400]},vi={font:Ft.Flavors,googleFontsName:"Flavors",cssName:"Flavors",category:wa.Display,styles:[Ea.Regular400]},wi={font:Ft.Fascinate,googleFontsName:"Fascinate",cssName:"Fascinate",category:wa.Display,styles:[Ea.Regular400]},Ei={font:Ft.BungeeHairline,googleFontsName:"Bungee Hairline",cssName:"Bungee Hairline",category:wa.Display,styles:[Ea.Regular400]},ki={font:Ft.EricaOne,googleFontsName:"Erica One",cssName:"Erica One",category:wa.Display,styles:[Ea.Regular400]},Fi={font:Ft.RubikMicrobe,googleFontsName:"Rubik Microbe",cssName:"Rubik Microbe",category:wa.Display,styles:[Ea.Regular400]},xi={font:Ft.RedactedScript,googleFontsName:"Redacted Script",cssName:"Redacted Script",category:wa.Display,styles:[Ea.Regular300,Ea.Regular400,Ea.Regular700]},Si={font:Ft.Redacted,googleFontsName:"Redacted",cssName:"Redacted",category:wa.Display,styles:[Ea.Regular400]},Ii={font:Ft.SpaceMono,googleFontsName:"Space Mono",cssName:"Space Mono",category:wa.Monospace,styles:[Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},Ci={font:Ft.RobotoMono,googleFontsName:"Roboto Mono",cssName:"Roboto Mono",category:wa.Monospace,styles:[Ea.Regular100,Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Italic100,Ea.Italic200,Ea.Italic300,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700]},Pi={font:Ft.AnonymousPro,googleFontsName:"Anonymous Pro",cssName:"Anonymous Pro",category:wa.Monospace,styles:[Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},Ti={font:Ft.FiraCode,googleFontsName:"Fira Code",cssName:"Fira Code",category:wa.Monospace,styles:[Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700]},Ni={font:Ft.SourceCodePro,googleFontsName:"Source Code Pro",cssName:"Source Code Pro",category:wa.Monospace,styles:[Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900,Ea.Italic200,Ea.Italic300,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700,Ea.Italic800,Ea.Italic900]},Ri={font:Ft.IBMPlexMono,googleFontsName:"IBM Plex Mono",cssName:"IBM Plex Mono",category:wa.Monospace,styles:[Ea.Regular100,Ea.Italic100,Ea.Regular200,Ea.Italic200,Ea.Regular300,Ea.Italic300,Ea.Regular400,Ea.Italic400,Ea.Regular500,Ea.Italic500,Ea.Regular600,Ea.Italic600,Ea.Regular700,Ea.Italic700]},Di={font:Ft.PtMono,googleFontsName:"PT Mono",cssName:"PT Mono",category:wa.Monospace,styles:[Ea.Regular400]},Oi={font:Ft.CourierPrime,googleFontsName:"Courier Prime",cssName:"Courier Prime",category:wa.Monospace,styles:[Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},Ai={font:Ft.CutiveMono,googleFontsName:"Cutive Mono",cssName:"Cutive Mono",category:wa.Monospace,styles:[Ea.Regular400]},Mi={font:Ft.OverpassMono,googleFontsName:"Overpass Mono",cssName:"Overpass Mono",category:wa.Monospace,styles:[Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700]},zi={font:Ft.OxygenMono,googleFontsName:"Oxygen Mono",cssName:"Oxygen Mono",category:wa.Monospace,styles:[Ea.Regular400]},Li={font:Ft.JetBrainsMono,googleFontsName:"JetBrains Mono",cssName:"JetBrains Mono",category:wa.Monospace,styles:[Ea.Regular100,Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Italic100,Ea.Italic200,Ea.Italic300,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700,Ea.Italic800]},ji={font:Ft.NotoSansMono,googleFontsName:"Noto Sans Mono",cssName:"Noto Sans Mono",category:wa.Monospace,styles:[Ea.Regular100,Ea.Regular200,Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Regular800,Ea.Regular900]},Bi={font:Ft.RedHatMono,googleFontsName:"Red Hat Mono",cssName:"Red Hat Mono",category:wa.Monospace,styles:[Ea.Regular300,Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700,Ea.Italic300,Ea.Italic400,Ea.Italic500,Ea.Italic600,Ea.Italic700]},Ui={font:Ft.Shrikhand,googleFontsName:"Shrikhand",cssName:"Shrikhand",category:wa.Display,styles:[Ea.Regular400]},_i={font:Ft.NanumPenScript,googleFontsName:"Nanum Pen Script",cssName:"Nanum Pen Script",category:wa.Script,styles:[Ea.Regular400]},Hi={font:Ft.DancingScript,googleFontsName:"Dancing Script",cssName:"Dancing Script",category:wa.Script,styles:[Ea.Regular400,Ea.Regular500,Ea.Regular600,Ea.Regular700]},Gi={font:Ft.PermanentMarker,googleFontsName:"Permanent Marker",cssName:"Permanent Marker",category:wa.Script,styles:[Ea.Regular400]},qi={font:Ft.RockSalt,googleFontsName:"Rock Salt",cssName:"Rock Salt",category:wa.Script,styles:[Ea.Regular400]},Wi={font:Ft.SquarePeg,googleFontsName:"Square Peg",cssName:"Square Peg",category:wa.Script,styles:[Ea.Regular400]},Vi={font:Ft.PatrickHand,googleFontsName:"Patrick Hand",cssName:"Patrick Hand",category:wa.Script,styles:[Ea.Regular400]},$i={font:Ft.HomemadeApple,googleFontsName:"Homemade Apple",cssName:"Homemade Apple",category:wa.Script,styles:[Ea.Regular400]},Yi={font:Ft.GochiHand,googleFontsName:"Gochi Hand",cssName:"Gochi Hand",category:wa.Script,styles:[Ea.Regular400]},Xi={font:Ft.Itim,googleFontsName:"Itim",cssName:"Itim",category:wa.Script,styles:[Ea.Regular400]},Ki={font:Ft.ShortStack,googleFontsName:"Short Stack",cssName:"Short Stack",category:wa.Script,styles:[Ea.Regular400]},Zi={font:Ft.ComingSoon,googleFontsName:"Coming Soon",cssName:"Coming Soon",category:wa.Script,styles:[Ea.Regular400]},Ji={font:Ft.PatrickHandSc,googleFontsName:"Patrick Hand SC",cssName:"Patrick Hand SC",category:wa.Script,styles:[Ea.Regular400]},Qi={font:Ft.GamjaFlower,googleFontsName:"Gamja Flower",cssName:"Gamja Flower",category:wa.Script,styles:[Ea.Regular400]},eo={font:Ft.Dekko,googleFontsName:"Dekko",cssName:"Dekko",category:wa.Script,styles:[Ea.Regular400]},to={font:Ft.Ballet,googleFontsName:"Ballet",cssName:"Ballet",category:wa.Script,styles:[Ea.Regular400]},ao={font:Ft.Arial,googleFontsName:void 0,cssName:"Arial",category:wa.Serif,styles:[Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},no={font:Ft.ComicSans,googleFontsName:void 0,cssName:"Comic Sans",category:wa.Serif,styles:[Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},io={font:Ft.CourierNew,googleFontsName:void 0,cssName:"Courier New",category:wa.Serif,styles:[Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},oo={font:Ft.TimesNewRoman,googleFontsName:void 0,cssName:"Times New Roman",category:wa.Serif,styles:[Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]},so=new Map([[Ft.Bangers,Ma],[Ft.EbGaramond,za],[Ft.RobotoSlab,La],[Ft.Merriweather,ja],[Ft.PlayfairDisplay,Ba],[Ft.Lora,Ua],[Ft.PtSerif,_a],[Ft.NotoSerif,Ha],[Ft.LibreBaskerville,Ga],[Ft.Bitter,qa],[Ft.SourceSerifPro,Wa],[Ft.Arvo,Va],[Ft.Slabo27Px,$a],[Ft.IBMPlexSerif,Ya],[Ft.CormorantGaramond,Xa],[Ft.Domine,Ka],[Ft.ZillaSlab,Za],[Ft.NanumMyeongjo,Ja],[Ft.BreeSerif,Qa],[Ft.Vollkorn,en],[Ft.Martel,tn],[Ft.Cinzel,an],[Ft.CreteRound,nn],[Ft.Prata,on],[Ft.Volkhov,sn],[Ft.LibreBodoni,rn],[Ft.InriaSerif,ln],[Ft.ComicNeue,cn],[Ft.Lato,dn],[Ft.OpenSans,un],[Ft.Montserrat,mn],[Ft.Inter,gn],[Ft.Poppins,pn],[Ft.Anton,hn],[Ft.WorkSans,fn],[Ft.Oswald,bn],[Ft.RobotoCondensed,yn],[Ft.NotoSans,vn],[Ft.Ubuntu,wn],[Ft.Nunito,En],[Ft.Quicksand,kn],[Ft.Barlow,Fn],[Ft.Mulish,xn],[Ft.Heebo,Sn],[Ft.IBMPlexSans,In],[Ft.BebasNeue,Cn],[Ft.Pacifico,Pn],[Ft.RubikGlitch,Tn],[Ft.RubikMoonrocks,Nn],[Ft.RubikPuddles,Rn],[Ft.Vt323,Dn],[Ft.ZillaSlabHighlight,On],[Ft.LibreBarcode39,An],[Ft.LibreBarcode39Text,Mn],[Ft.Syncopate,zn],[Ft.Monoton,Ln],[Ft.FrederickaTheGreat,jn],[Ft.Creepster,Bn],[Ft.PressStart2P,Un],[Ft.KirangHaerang,_n],[Ft.Archivo,Hn],[Ft.KosugiMaru,Gn],[Ft.MajorMonoDisplay,qn],[Ft.Rokkitt,Wn],[Ft.DelaGothicOne,Vn],[Ft.DotGothic16,$n],[Ft.BizUdMincho,Yn],[Ft.SpecialElite,Xn],[Ft.LuckiestGuy,Kn],[Ft.YesevaOne,Zn],[Ft.Audiowide,Jn],[Ft.Lalezar,Qn],[Ft.BubblegumSans,ei],[Ft.BalsamiqSans,ti],[Ft.CabinSketch,ai],[Ft.Rye,ni],[Ft.HennyPenny,ii],[Ft.AveriaSerifLibre,oi],[Ft.Knewave,si],[Ft.Calistoga,ri],[Ft.RalewayDots,li],[Ft.FreckleFace,ci],[Ft.Codystar,di],[Ft.FingerPaint,ui],[Ft.Unkempt,mi],[Ft.Coiny,gi],[Ft.Modak,pi],[Ft.Chango,hi],[Ft.Monofett,fi],[Ft.Diplomata,bi],[Ft.Plaster,yi],[Ft.Flavors,vi],[Ft.Fascinate,wi],[Ft.BungeeHairline,Ei],[Ft.EricaOne,ki],[Ft.RubikMicrobe,Fi],[Ft.RedactedScript,xi],[Ft.Redacted,Si],[Ft.SpaceMono,Ii],[Ft.RobotoMono,Ci],[Ft.AnonymousPro,Pi],[Ft.FiraCode,Ti],[Ft.SourceCodePro,Ni],[Ft.IBMPlexMono,Ri],[Ft.PtMono,Di],[Ft.CourierPrime,Oi],[Ft.CutiveMono,Ai],[Ft.OverpassMono,Mi],[Ft.OxygenMono,zi],[Ft.JetBrainsMono,Li],[Ft.NotoSansMono,ji],[Ft.RedHatMono,Bi],[Ft.Shrikhand,Ui],[Ft.NanumPenScript,_i],[Ft.DancingScript,Hi],[Ft.PermanentMarker,Gi],[Ft.RockSalt,qi],[Ft.SquarePeg,Wi],[Ft.PatrickHand,Vi],[Ft.HomemadeApple,$i],[Ft.GochiHand,Yi],[Ft.Itim,Xi],[Ft.ShortStack,Ki],[Ft.ComingSoon,Zi],[Ft.PatrickHandSc,Ji],[Ft.GamjaFlower,Qi],[Ft.Dekko,eo],[Ft.Ballet,to],[Ft.Arial,ao],[Ft.ComicSans,no],[Ft.CourierNew,io],[Ft.TimesNewRoman,oo]]),ro=[Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700],lo=(e,t)=>{const a={font:e.font,styles:ye(e.styles,t.styles)};return e.glyphs&&t.glyphs&&(a.glyphs=ye(e.glyphs,t.glyphs)),a},co=(zt.Text,new Map([[wa.Serif,'"Times New Roman", serif'],[wa.SansSerif,"Arial, sans-serif"],[wa.Monospace,'"Courier New", monospace'],[wa.Display,"Arial, sans-serif"],[wa.Script,"Arial, sans-serif"]])),uo=(e,t=!1)=>{const a=so.get(e);if(void 0===a)return t?"Arial, sans-serif":"Arial";const{cssName:n,category:i}=a,o=[];return o.push(n.includes(" ")?`"${n}"`:n),t&&o.push(co.get(i)),o.join(", ")},mo=new de({caller:"FontHelper"}),go={regular:{100:Ea.Regular100,200:Ea.Regular200,300:Ea.Regular300,400:Ea.Regular400,500:Ea.Regular500,600:Ea.Regular600,700:Ea.Regular700,800:Ea.Regular800,900:Ea.Regular900},italic:{100:Ea.Italic100,200:Ea.Italic200,300:Ea.Italic300,400:Ea.Italic400,500:Ea.Italic500,600:Ea.Italic600,700:Ea.Italic700,800:Ea.Italic800,900:Ea.Italic900}},po=new Map(Array.from(so.keys()).map((e=>[uo(e),e]))),ho=(e,t=!1)=>uo(e,t),fo=(e,t)=>{var a;const n=null===(a=so.get(e))||void 0===a?void 0:a.styles;return void 0===n?(mo.error(`No available styles found for ${e}`),[]):void 0===t?ro.filter((e=>n.includes(e))):t.filter((e=>n.includes(e)))};var bo=a(45023);const yo=Ft.Lato,vo={font:yo,fontSize:18,fontWeight:400,color:"#000000",lineHeight:1.25,textAlign:Ct.Left,italic:!1,underline:!1},wo={color:vo.color,font:vo.font,fontSize:vo.fontSize,text:"",textAlign:vo.textAlign,isBold:vo.fontWeight>=600,isItalic:vo.italic,useAutosize:!1},Eo=bo.vc.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:e=>!!e.hasAttribute("style")&&{}}],onTransaction(){},renderHTML({HTMLAttributes:e}){return["span",(0,bo.P1)(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const a=(0,bo.Jo)(e,this.type);return!!Object.entries(a).some((([,e])=>!!e))||t.unsetMark(this.name)}}}}),ko=bo.hj.create({name:"color",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:vo.color,renderHTML:e=>e.color?{style:`color: ${e.color}`}:{},parseHTML:e=>e.style.color.replace(/['"]+/g,"")}}}]},addCommands:()=>({setColor:e=>({commands:t})=>t.setMark("textStyle",{color:e}),unsetColor:()=>({chain:e})=>e().setColor(vo.color).removeEmptyTextStyle().run()})}),Fo=bo.hj.create({name:"fontFamily",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{font:{default:vo.font,renderHTML:e=>e.font?{style:`font-family: ${ho(e.font)}`}:{},parseHTML:e=>""===e.style.fontFamily?vo.font:(e=>{var t;return null!==(t=po.get(e))&&void 0!==t?t:Ft.Arial})(e.style.fontFamily.replace(/\\"/g,'"'))}}}]},addCommands:()=>({setFontFamily:e=>({commands:t})=>t.setMark("textStyle",{font:e}),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{}).removeEmptyTextStyle().run()})}),xo=bo.hj.create({name:"fontSize",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:vo.fontSize,renderHTML:e=>e.fontSize?{style:`--font-size: ${e.fontSize}`}:{},parseHTML:e=>{try{return parseFloat(e.style.getPropertyValue("--font-size"))}catch(t){return parseFloat(e.style["--font-size"])}}}}}]},addCommands:()=>({setFontSize:e=>({commands:t})=>t.setMark("textStyle",{fontSize:e}),unsetFontSize:()=>({chain:e})=>e().setFontSize(vo.fontSize).removeEmptyTextStyle().run()})});var So=a(97982),Io=a(92834);const Co=bo.hj.create({name:"lineHeight",addOptions:()=>({types:["paragraph"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:vo.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{style:`line-height: ${vo.lineHeight}`},parseHTML:e=>{const t=parseFloat(e.style.lineHeight);return isNaN(t)?vo.lineHeight:t}}}}]},addCommands(){return{setLineHeight:e=>({commands:t})=>this.options.types.every((a=>t.updateAttributes(a,{lineHeight:e}))),unsetLineHeight:()=>({commands:e})=>this.options.types.every((t=>e.resetAttributes(t,"lineHeight")))}}}),Po=bo.NB.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",(0,bo.P1)(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setStyleableHardBreak:()=>({commands:e,chain:t,state:a,editor:n})=>e.first([()=>e.exitCode(),()=>e.command((()=>{const{selection:e,storedMarks:i}=a;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:s}=n.extensionManager,r=i||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command((({tr:e,dispatch:t})=>{if(t&&r&&o){const t=r.filter((e=>s.includes(e.type.name)));e.ensureMarks(t)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setStyleableHardBreak(),"Shift-Enter":()=>this.editor.commands.setStyleableHardBreak()}}}),To=[Na.x,Fa.B,Pa.n,ko,Oa.v,Sa.Tx,ka.d8,Ca.H,Ia.r.configure({openOnClick:!1}),Ta.Re,Po.configure({keepMarks:!0}),xo,Co,Eo,Fo,Ra.Z.configure({types:["paragraph"],alignments:["left","center","right","justify"],defaultAlignment:Ct.Left})].concat([xa.A,Da.ZT]),No=(e,t)=>{const{fontSize:a,text:n,color:i,font:o,textAlign:s}=e,{lineHeight:r}=t,l=ho(o);return function(e,t){const a=(0,bo.J1)(t),n=(0,Io.rg)(e);return So.aw.fromSchema(a).parse(n,{preserveWhitespace:!0}).toJSON()}(n.split("\n").map((e=>`<p style="text-align: ${s};"><span style='color: ${i}; --font-size: ${a}; line-height: ${null!=r?r:p.defaultLineHeight}; font-family: ${l};'>${e}</span></p>`)).join(""),To)},Ro=(e,t=!1)=>{let a="";try{const t=JSON.parse(e);a=(0,Aa.a)(t,To)}catch(n){if(t){const t={type:"doc",content:[]};t.content=e.split("\n").map((e=>e.length>0?{type:"paragraph",content:[{type:"text",text:e}]}:{type:"paragraph"})),a=(0,Aa.a)(t,To)}else a=e}return a};class Do{constructor(){this.version="0.4.0"}up(e){return e.things=e.things.map((e=>(e.type===zt.Text&&(e.content.text=JSON.stringify(No(e.content,e.styles))),e))),e.settings.editorVersion=this.version,e}down(e){throw new Error("Method not implemented.")}patchViewer(e,t){return{page:e,renderOptions:Object.assign(Object.assign({},t),{useLegacyTextView:!0})}}}class Oo{constructor(){this.version="0.4.1"}up(e){const t=Ze(e);return e.things=e.things.map((e=>(e.properties.hyperlink&&(e.properties.hyperlinkTarget=((e,t)=>{try{const a=new URL(e),n=new URL(t);return!(a.hostname!==n.hostname&&n.hostname!==p.baseViewerHostname||!(e=>{let t;try{t=new URL(e)}catch(e){return!1}const a=t.pathname.substring(1);if(t.hostname===p.baseViewerHostname){const e=a.split(".");return n=e[0],new RegExp(te).test(n)&&!Z.has(n)&&!K.has(n)&&(1===e.length||oe(e[1])[0])}var n;return 0===a.length||oe(a)[0]})(n.href))}catch(e){return!1}})(t,e.properties.hyperlink)?Ot.Self:Ot.Blank),e))),e.settings.editorVersion=this.version,e}down(e){throw new Error("Method not implemented.")}patchViewer(e,t){return{page:this.up(e),renderOptions:t}}}class Ao{constructor(){this.version="0.5.1"}up(e){return e.things=e.things.map((e=>{if(e.type!==zt.Text)return e;const{text:t}=e.content;try{const a=Mo(JSON.parse(t));e.content.text=JSON.stringify(a)}catch(e){}return e})),e.settings.editorVersion=this.version,e}down(e){throw new Error("Method not implemented.")}patchViewer(e,t){return t.useLegacyTextView?{page:e,renderOptions:t}:{page:this.up(e),renderOptions:t}}}function Mo(e){const{type:t,attrs:a,content:n}=e,i=Object.assign({},a);if("paragraph"===t&&void 0!==n&&(null==n?void 0:n.length)>0){const e=[];n.forEach((t=>{"text"===t.type&&void 0!==t.marks&&t.marks.forEach((t=>{"textStyle"===t.type&&void 0!==t.attrs&&e.push(t.attrs.lineHeight)}))})),e.length>0&&(i.lineHeight=Math.max(...e))}return Object.assign(Object.assign({},e),{attrs:i,content:null==n?void 0:n.flatMap((e=>Mo(e)))})}class zo{constructor(){this.version="0.5.2"}up(e){const t=new Map,a=new Map;e.things.forEach((e=>{if(e.type===zt.Group&&void 0===e.parentId){const n=a.get(e.position.width);void 0!==n?a.set(e.position.width,n+1):a.set(e.position.width,1),t.set(e.ID,e.position.width)}return e}));let n=0;return Array.from(a.entries()).forEach((([e,t])=>{t>0&&(n=e)})),e.things.forEach((e=>{if(e.type===zt.Group&&void 0===e.parentId)e.position=Object.assign(Object.assign({},e.position),{width:n});else if(void 0!==e.parentId){const a=t.get(e.parentId),i=(n-a)/2;e.position.x+=i}return e})),e.settings.referenceWidth=n,e.settings.editorVersion=this.version,e}down(e){throw new Error("Method not implemented.")}patchViewer(e,t){return{page:this.up(e),renderOptions:t}}}var Lo=a(68665),jo=a.n(Lo),Bo=a(94211),Uo=a.n(Bo),_o=a(69538),Ho=a.n(_o);a(39953);const Go=e=>{const t=e.split(":");return 2===t.length&&"mailto"===t[0]&&!!Ho()(t[1])},qo=e=>{let t;try{t=new URL(e)}catch(e){return!1}return void 0!==Uo().isWebUri(e)&&t.host.includes(".")},Wo=(e,t=168)=>{let a,n,i;if(e.match(/^rgb/)){const t=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);if(!t)return!1;[a,n,i]=t}else{const t=+`0x${e.slice(1).replace(e.length<5&&/./g,"$&$&")}`;a=t>>16,n=t>>8&255,i=255&t}return Math.sqrt(a*a*.299+n*n*.587+i*i*.114)>t};class Vo{}Vo.fontSizeRatio=.34,Vo.paddingFontSizeRatio=1.2,Vo.defaultPosition={width:548,height:83},Vo.defaultContent={richButtonColor:"#000",richButtonIcon:{icon:St.FasLink,placement:It.Left},richButtonText:{text:"Test",font:Ft.Lato,color:"white",size:Vo.defaultPosition.height*Vo.fontSizeRatio,align:Ct.Center,bold:!1},richButtonTextHidden:!1},Vo.defaultBorderRadius=8;class $o{constructor(){this.version="0.5.3"}up(e){return e.things.forEach((e=>{var t;if(e.type!==zt.Button)return;const a=e.content,{text:n,font:i,color:o}=a,s={richButtonText:{text:n,font:i,size:Vo.defaultPosition.height*Vo.fontSizeRatio,align:Ct.Center,color:Wo(o)?"#000":"#fff",bold:Vo.defaultContent.richButtonText.bold},richButtonColor:o,richButtonIcon:{icon:Xo(null!==(t=e.properties.hyperlink)&&void 0!==t?t:""),placement:It.Left}};return e.type=zt.RichButton,e.content=s,e.styles.borderRadius=6,e})),e}down(e){throw new Error("Method not implemented.")}patchViewer(e,t){return{page:this.up(e),renderOptions:t}}}const Yo=new Map([["amazon.com",St.FabAmazon],["apple.com",St.FabApple],["music.apple.com",St.FabItunesNote],["bandcamp.com",St.FabBandcamp],["discord.gg",St.FabDiscord],["discord.com",St.FabDiscord],["etsy.com",St.FabEtsy],["facebook.com",St.FabFacebookF],["fb.me",St.FabFacebookF],["github.com",St.FabGithub],["instagram.com",St.FabInstagram],["linkedin.com",St.FabLinkedinIn],["patreon.com",St.FabPatreon],["paypal.com",St.FabPaypal],["snapchat.com",St.FabSnapchat],["soundcloud.com",St.FabSoundcloud],["spotify.com",St.FabSpotify],["open.spotify.com",St.FabSpotify],["tiktok.com",St.FabTiktok],["telegram.com",St.FabTelegram],["twitch.com",St.FabTwitch],["twitch.tv",St.FabTwitch],["twitter.com",St.FabTwitter],["whatsapp.com",St.FabWhatsapp],["youtube.com",St.FabYoutube]]),Xo=e=>{var t,a;if(Go(e))return St.FasEnvelope;let n;try{n=new URL(e)}catch(e){return St.FasLink}const i=n.host.split(".").slice(-2).join(".");return null!==(a=null!==(t=Yo.get(n.host))&&void 0!==t?t:Yo.get(i))&&void 0!==a?a:St.FasLink},Ko={useLegacyTextView:!1,useOptimizedImages:!1};class Zo{patchViewer(e){let t=z()(e),a=Ko;const{editorVersion:n}=t.settings;if(!Zo.isAtLeast(n,"0.2.0")){const e=new fa;({page:t,renderOptions:a}=e.patchViewer(t,a))}if(!Zo.isAtLeast(n,"0.3.0")){const e=new ba;({page:t,renderOptions:a}=e.patchViewer(t,a))}if(!Zo.isAtLeast(n,"0.4.0")){const e=new Do;({page:t,renderOptions:a}=e.patchViewer(t,a))}if(!Zo.isAtLeast(n,"0.4.1")){const e=new Oo;({page:t,renderOptions:a}=e.patchViewer(t,a))}if(!Zo.isAtLeast(n,"0.5.1")){const e=new Ao;({page:t,renderOptions:a}=e.patchViewer(t,a))}if(!Zo.isAtLeast(n,"0.5.2")){const e=new zo;({page:t,renderOptions:a}=e.patchViewer(t,a))}if(!Zo.isAtLeast(n,"0.5.3")){const e=new $o;({page:t,renderOptions:a}=e.patchViewer(t,a))}return{page:t,renderOptions:a}}up(e){const{editorVersion:t}=e.settings;return Zo.isAtLeast(t,"0.2.0")||(e=(new fa).up(e)),Zo.isAtLeast(t,"0.3.0")||(e=(new ba).up(e)),Zo.isAtLeast(t,"0.4.0")||(e=(new Do).up(e)),Zo.isAtLeast(t,"0.4.1")||(e=(new Oo).up(e)),Zo.isAtLeast(t,"0.5.1")||(e=(new Ao).up(e)),Zo.isAtLeast(t,"0.5.2")||(e=(new zo).up(e)),Zo.isAtLeast(t,"0.5.3")||(e=(new $o).up(e)),e}static isAtLeast(e,t){if(void 0===e)return!1;const a=e.split(".").map((e=>parseInt(e))),n=t.split(".").map((e=>parseInt(e)));return!(a[0]<n[0]||a[1]<n[1]||a[2]<n[2])}}var Jo;const Qo=new de({caller:"AtomicPageMutator"});class es{static loadPage(e,t,a=!1){t.settings.editorVersion!==(t=(new Zo).up(t)).settings.editorVersion&&(a=!0);const n=this.toOptimizedPage(t);n.things=this.recalculateZIndices(n.things);const i=pa.initialize(n.things);return Qo.info("Loaded new page:",t.ID),Object.assign(Object.assign({},e),{stable:n,stableThingTree:i,hasPublishableChanges:a,migrated:a})}static setPage(e,t,a=!1){const n=pa.initialize(t.things);return a||we.save(ts(t)),a?(Qo.debug("Set new page:",t.ID),Object.assign(Object.assign({},e),{inProgress:t,inProgressThingTree:n})):(Qo.info("Set new page:",t.ID),Object.assign(Object.assign({},e),{inProgress:void 0,inProgressThingTree:void 0,stable:t,stableThingTree:n,hasPublishableChanges:!0}))}static setThings(e,t,a=!1){const n=a?e.inProgress:e.stable,i=a?e.inProgressThingTree:e.stableThingTree;if(!n)return Qo.warn("Error attempting to setThings() on an undefined page",{page:n,tree:i}),{pageState:e,newParentIds:void 0};if(!i)return Qo.warn("Error attempting to setThings() on an undefined tree",{page:n,tree:i}),{pageState:e,newParentIds:void 0};const o=i.get(void 0);let s;if(void 0===o){Qo.error("Root is undefined!");const e=n.things.filter((e=>void 0===e.parentId));let t=-1;e.forEach((e=>{void 0!==e.content.groupOrder&&(e.content.groupOrder==t&&Qo.error("Found two identical groupOrders"),e.content.groupOrder>=t&&(t=e.content.groupOrder,s=e.ID))}))}else s=o.children[o.children.length-1];if(void 0===s)return Qo.error("No op. lastSectionId undefined..."),{pageState:e,newParentIds:void 0};const r=n.things.get(s);if(void 0===r)return Qo.error("No op. lastSection undefined..."),{pageState:e,newParentIds:void 0};const l=r.position.height;let c=0,d=!1;const u=n.things.withMutations((i=>{t.forEach((t=>{var n,o;if(void 0!==t.parentId){const i=pa.getSectionId([t.position.x,t.position.y],{inSpace:t.parentId});if(i!==(a?null===(o=null===(n=e.inProgress)||void 0===n?void 0:n.things.get(t.ID))||void 0===o?void 0:o.parentId:t.parentId)&&(d=!0),i!==t.parentId&&(t.position=pa.transform(t.position,{from:t.parentId,to:i}),t.parentId=i),i===s){const{maxY:e}=st(t.position);c=Math.max(c,e)}}i.set(t.ID,t)}));const o=c+ha;if(o>l){const e=Object.assign({},n.things.get(s));e.position=Object.assign(Object.assign({},e.position),{height:o}),i.set(s,e)}})),m=d?(0,A.l4)(t.map((e=>{var t;return null===(t=u.get(e.ID))||void 0===t?void 0:t.parentId}))):void 0,g=pa.update(a?"in-progress":"stable",{updated:t.map((e=>e.ID)),prev:n.things,next:u}),p=Object.assign(Object.assign({},n),{things:u});return a||we.save(ts(n)),a?(Qo.debug(`Set ${t.length} things in inProgress`),{pageState:Object.assign(Object.assign({},e),{inProgress:p,inProgressThingTree:g}),newParentIds:m}):(Qo.info(`Set ${t.length} things in stable`),{pageState:Object.assign(Object.assign({},e),{stable:p,hasPublishableChanges:!0,stableThingTree:g}),newParentIds:m})}static removeThings(e,t){if(!e.stable)return e;let a=e.stable.things.withMutations((e=>t.forEach((t=>{e.remove(t)}))));const n=pa.update("stable",{prev:e.stable.things,next:a,removed:t});Qo.info(`Removed ${t.length} blocks`);const i=pa.getLastSectionId(),o=pa.getChildrenFor(i);let s=-1;pa.isFirstSection(i)&&(s=1e3),o.forEach((e=>{const t=a.get(e);if(void 0===t)return;const{maxY:n}=st(t.position);s=Math.max(s,n)})),a=a.withMutations((e=>{const t=Object.assign({},a.get(i));t.position=Object.assign(Object.assign({},t.position),{height:s+ha}),e.set(i,t)}));const r=Object.assign(Object.assign({},e.stable),{things:a});return we.save(ts(r)),Object.assign(Object.assign({},e),{stable:r,stableThingTree:n,hasPublishableChanges:!0})}static buildThings(e,t){if(!e.stable)return e;let a=e.stable.things.withMutations((e=>t.forEach((t=>{e.set(t.ID,t)}))));a=this.recalculateZIndices(a,!0);const n=pa.update("stable",{prev:e.stable.things,next:a,added:t.map((e=>e.ID))});Qo.info(`Added ${a.size} blocks`);const i=Object.assign(Object.assign({},e.stable),{things:a});return we.save(ts(i)),Object.assign(Object.assign({},e),{stable:i,hasPublishableChanges:!0,stableThingTree:n})}static toOptimizedPage(e){return Object.assign(Object.assign({},e),{things:(0,A.zN)(e.things.map((e=>[e.ID,e])))})}}function ts(e){return Object.assign(Object.assign({},e),{things:Array.from(e.things.values())})}Jo=es,es.zIndexBuffer=1e3,es.recalculateZIndices=(e,t=!1)=>{let a=e;if(a.size>0){const{max:e,min:n}=Jo.calcZIndexOptima(a);(t||e>=p.maxSafeZIndex-Jo.zIndexBuffer||n<=p.minSafeZIndex+Jo.zIndexBuffer)&&(a=Jo.getCompressedZIndices(a))}return a},es.calcZIndexOptima=e=>{if(0===e.size)return{max:p.medianSafeZIndex,min:p.medianSafeZIndex};const t=e.valueSeq().map((e=>e.position.zIndex));return{max:Math.max(...t),min:Math.min(...t)}},es.getCompressedZIndices=e=>{const t=e.valueSeq().toArray(),a=t.sort(((e,t)=>e.position.zIndex-t.position.zIndex));return e.withMutations((e=>{const n=Math.floor(p.medianSafeZIndex-a.length/2*5);for(let t=0;t<a.length;t++){const i=a[t];e.set(i.ID,Object.assign(Object.assign({},i),{position:Object.assign(Object.assign({},i.position),{zIndex:n+5*t})}))}return t}))};const as=(e,t)=>{var a;let n=0;return e.valueSeq().forEach((e=>{n=Math.max(n,st(e.position).maxY)})),Math.max(2,n+(null!==(a=null==t?void 0:t.bottom)&&void 0!==a?a:.2))};var ns=a(54933),is=a(24534),os=a.n(is),ss=a(55122),rs=a(36988);const ls=e=>{let t=0;for(let a=0;a<e.length;a++)t=(t<<5)-t+e.charCodeAt(a),t&=t;return new Uint32Array([t])[0].toString(36)},cs=e=>e.replace(/\s/g,"_").replace(/([^a-zA-Z0-9_]+)/gi,""),ds=e=>e.replace(/\s/g,"_").replace(/([^a-zA-Z0-9-:.]+)/gi,""),us=()=>"touch"===rs.R8,ms=e=>{const t=[...e];let a,n,i=t.length;for(;0!==i;)n=Math.floor(Math.random()*i),i-=1,a=t[i],t[i]=t[n],t[n]=a;return t};var gs=a(88863),ps=a(28586);function hs(){return(0,i.useContext)(C)}function fs(e,t){return(0,i.memo)((0,i.forwardRef)(e),t)}const bs=fs((({id:e,type:t,tags:a,idsToIgnoreForOutsideClick:n,closeOnTapOutside:o=!0,forceVisible:s,onClose:r,children:l,className:c,style:d={},portalOverride:u},m)=>{const{registerOverlay:g,unregisterOverlay:p,showOverlay:h,isOverlayVisible:f}=hs(),b=null!=s?s:f(e),y=(0,i.useRef)(null),v=(0,gs.Z)(y,m);(0,i.useEffect)((()=>(g(e,t,a),()=>p(e))),[e,t]),(0,i.useRef)(!1),(0,i.useEffect)((()=>{if(!b)return void(void 0!==r&&r());if(!o)return()=>{};const t=t=>{if(void 0!==n){let e=t.target;for(;e;){if(n.includes(e.id))return;e=e.parentElement}}null!==y.current&&b&&y.current!==t.target&&!y.current.contains(t.target)&&h(e,!1)};return window.addEventListener("pointerdown",t),()=>{window.removeEventListener("pointerdown",t)}}),[n,o,b,e,r,h]);const w=i.useMemo((()=>I(`${x("base-overlay-ui")} ${null!=c?c:""}`,{visible:b})),[c,b]),E=document.getElementById(N);return null==E?i.createElement(i.Fragment,null):b?ps.createPortal(i.createElement("div",{id:e,className:w,style:d,ref:v},l),null!=u?u:E):i.createElement(i.Fragment,null)}));bs.displayName="BaseOverlayUi";const ys=16,vs=(e,t,a)=>Math.min(Math.max(e,t),a),ws=(e,t,a,n={selfBounds:void 0,selfCenter:!0})=>{var i,o,s,r;const{top:l,left:c,width:d,height:u}=t,{selfBounds:m,selfCenter:g}=n,p=window.innerWidth,h=window.innerHeight,f=e=>{var t,a;return vs(e,16+(null!==(t=null==m?void 0:m.height)&&void 0!==t?t:0)/2,h-ys-(null!==(a=null==m?void 0:m.height)&&void 0!==a?a:0)/2)},b=e=>{var t,a;return vs(e,16+(null!==(t=null==m?void 0:m.width)&&void 0!==t?t:0)/2,p-ys-(null!==(a=null==m?void 0:m.width)&&void 0!==a?a:0)/2)};switch(e){case"right":return{top:f(g?l+u/2:l),left:vs(c+d+a,16,p-ys),transform:g?"translate(0, -50%)":"translateX(0)"};case"left":return{top:f(g?l+u/2:l),left:vs(c-a,16+(null!==(i=null==m?void 0:m.width)&&void 0!==i?i:0)/2,p-ys),transform:g?"translate(-100%, -50%)":"translateX(-100%)"};case"below":return{top:vs(u+l+a,16,h-ys-(null!==(o=null==m?void 0:m.height)&&void 0!==o?o:0)),left:b(c+d/2),transform:"translateX(-50%)"};default:return{top:vs(t.top-a-(null!==(s=null==m?void 0:m.height)&&void 0!==s?s:0),16,h-ys-a-(null!==(r=null==m?void 0:m.height)&&void 0!==r?r:0)),left:b(c+d/2),transform:"translateX(-50%)"}}},Es=({hint:e})=>void 0===e?i.createElement(i.Fragment,null):i.createElement("div",{className:"tooltip-hint"},e);Es.displayName="TooltipHint";const ks=(0,i.memo)((({id:e,hint:t,options:{placement:a="above",margin:n=12}={},targetRef:o,children:s})=>{const r=(0,i.useRef)(null!=e?e:(0,ss.v4)()),[l,c]=(0,i.useState)({}),{showOverlay:d}=hs();i.useEffect((()=>{r.current=null!=e?e:(0,ss.v4)()}),[e]);const u=(0,i.useCallback)((e=>{var t;if(null!==e){const i=null===(t=o.current)||void 0===t?void 0:t.getBoundingClientRect(),s=e.getBoundingClientRect();if(void 0!==i){const e=ws(a,i,n,{selfBounds:s,selfCenter:!0});c(e)}}}),[c,o,n,a]),m=(0,i.useCallback)((()=>{d(r.current,!1)}),[d]),g=(0,i.useCallback)((()=>{d(r.current,!0)}),[d]),p=(0,i.useCallback)((()=>{d(r.current,!1)}),[d]);return(0,i.useEffect)((()=>{var e;if(us())return;const t=null!==(e=o.current)&&void 0!==e?e:void 0;return void 0!==t?(t.addEventListener("click",m),t.addEventListener("mouseenter",g),t.addEventListener("mouseleave",p),()=>{t.removeEventListener("click",m),t.removeEventListener("mouseenter",g),t.removeEventListener("mouseleave",p)}):void 0}),[g,p,m,o]),i.createElement(bs,{id:r.current,ref:u,type:"tooltip",className:I(x("tooltip-wrapper")),style:l,closeOnTapOutside:!1},s,i.createElement(Es,{hint:t}))}));ks.displayName="Tooltip";var Fs=a(64255);const xs=(0,i.memo)((e=>i.createElement(Fs.G,Object.assign({},e))));xs.displayName="FaIcon";const Ss=(0,i.memo)((({children:e,noBullet:t=!1,note:a,label:n,highlight:o})=>{const s=i.useRef(null);return i.createElement("div",{className:os()("line-item",{highlight:o})},!t&&i.createElement("span",null,i.createElement(xs,{icon:ns.LEp})),i.createElement("span",null,e),a&&i.createElement(i.Fragment,null,i.createElement(ks,{targetRef:s,options:{placement:"above",margin:4}},a),i.createElement("span",{className:"note",ref:s},i.createElement(xs,{icon:ns.sqG}))),n&&i.createElement("div",{className:"coming-soon"},n))}));Ss.displayName="FeatureItem";const Is=e=>e.includes(mt.Admin)?Cs.ADMIN:e.includes(mt.Pro)?Cs.PRO:e.includes(mt.Plus)?Cs.PLUS:e.includes(mt.Supporter)?Cs.SUPPORTER:Cs.BASIC,Cs={BASIC:{priority:10,maxThingsPerPage:50,maxPagesPerAccount:5,maxUploadSizeMb:5,siteDomain:!1,privatePages:!1,pageSettingsShareImageURL:!1,pageSettingsFaviconImageURL:!1,pageSettingsGoogleAnalytics4ID:!1,pageSettingsMetaTags:!1,siteSettingsShareImageURL:!1,siteSettingsFaviconImageURL:!1,siteSettingsGoogleAnalytics4ID:!1,siteSettingsHideAttribution:!1,disallowedThingTypes:[zt.CodeEmbed]},SUPPORTER:{priority:5,maxThingsPerPage:500,maxPagesPerAccount:25,maxUploadSizeMb:5,siteDomain:!1,privatePages:!1,pageSettingsShareImageURL:!1,pageSettingsFaviconImageURL:!1,pageSettingsGoogleAnalytics4ID:!1,pageSettingsMetaTags:!1,siteSettingsShareImageURL:!1,siteSettingsFaviconImageURL:!1,siteSettingsGoogleAnalytics4ID:!1,siteSettingsHideAttribution:!0,disallowedThingTypes:[zt.CodeEmbed]},PLUS:{priority:3,maxThingsPerPage:1e3,maxPagesPerAccount:100,maxUploadSizeMb:20,siteDomain:!0,privatePages:!0,pageSettingsShareImageURL:!0,pageSettingsFaviconImageURL:!0,pageSettingsGoogleAnalytics4ID:!0,pageSettingsMetaTags:!0,siteSettingsShareImageURL:!0,siteSettingsFaviconImageURL:!0,siteSettingsGoogleAnalytics4ID:!0,siteSettingsHideAttribution:!0,disallowedThingTypes:[]},PRO:{priority:1,maxThingsPerPage:1e4,maxPagesPerAccount:1e4,maxUploadSizeMb:20,siteDomain:!0,privatePages:!0,pageSettingsShareImageURL:!0,pageSettingsFaviconImageURL:!0,pageSettingsGoogleAnalytics4ID:!0,pageSettingsMetaTags:!0,siteSettingsShareImageURL:!0,siteSettingsFaviconImageURL:!0,siteSettingsGoogleAnalytics4ID:!0,siteSettingsHideAttribution:!0,disallowedThingTypes:[]},ADMIN:{priority:0,maxThingsPerPage:Number.POSITIVE_INFINITY,maxPagesPerAccount:Number.POSITIVE_INFINITY,maxUploadSizeMb:20,siteDomain:!0,privatePages:!0,pageSettingsShareImageURL:!0,pageSettingsFaviconImageURL:!0,pageSettingsGoogleAnalytics4ID:!0,pageSettingsMetaTags:!0,siteSettingsShareImageURL:!0,siteSettingsFaviconImageURL:!0,siteSettingsGoogleAnalytics4ID:!0,siteSettingsHideAttribution:!0,disallowedThingTypes:[]}};var Ps=a(24387),Ts=a(77500),Ns=a(78093),Rs=a(99968),Ds=a(88043),Os=a(52785),As=a(11462),Ms=a(65472),zs=a(85844),Ls=a(53815),js=a(20922),Bs=a(99806);const Us=new de({caller:"SfxManager"}),_s=new Map([["appear",{asset:Ts}],["small-crunch",{asset:Ms}],["denied",{asset:Ns}],["heavy-click",{asset:Rs}],["light-click",{asset:Ds}],["medium-click",{asset:Os}],["publish-success",{asset:As}],["snap",{asset:zs}],["stick",{asset:Ls}],["thump",{asset:js,volume:.1}],["whoosh",{asset:Bs,delaySeconds:.1}]]),Hs=new class{constructor(){this.enabled=!0,this.howlMap=new Map}enable(e=!0){this.enabled=e}preload(){_s.forEach((({asset:e},t)=>{const a=new Ps.Howl({src:e,volume:.3});if(void 0===a)return Us.error("Audio object undefined on creation");this.howlMap.set(t,a)}))}play(e,t){let a=this.howlMap.get(e);if(void 0===a){const{asset:t,volume:n}=_s.get(e);if(a=new Ps.Howl({src:t,volume:null!=n?n:.3}),void 0===a)return Us.error("Audio object undefined on creation");this.howlMap.set(e,a)}if(!this.enabled)return;const{delaySeconds:n,volume:i}=_s.get(e);a.once("play",(()=>{var e;void 0!==n&&(null==a||a.seek(n)),void 0===t&&void 0===i||null==a||a.volume(null!==(e=null!=t?t:i)&&void 0!==e?e:.3)})),a.play()}},Gs=({activeValue:e,options:t,onSelect:a,className:n,style:o={}})=>i.createElement("div",{className:F()("labeled-toggle",n),style:o},t.map((([t,n])=>i.createElement("button",{key:ls(t),type:"button",className:F()("labeled-toggle-option",{active:e===n}),onClick:()=>{Hs.play("light-click"),a(n)}},t)))),qs=e=>{switch(e){case"horizontal":return"align-horizontal";case"responsive-horizontal":return"align-responsive-horizontal";default:return"align-vertical"}},Ws=({children:e,className:t,style:a={},direction:n="horizontal",noPadding:o=!1,noBorder:s=!1,fullWidth:r=!1,minimalPadding:l=!1})=>i.createElement(i.Fragment,null,i.createElement("div",{style:a,className:F()(x("card-cell"),[qs(n)],{[t]:void 0!==t,"minimal-padding":l,"no-padding":o,"no-border":s,"full-width":r})},e)),Vs=(0,i.memo)((({children:e,className:t,style:a,mainAxisAlign:n="center",crossAxisAlign:o="center",gap:s=0,fullWidth:r=!0})=>i.createElement("div",{className:F()(x("horizontal"),t,{"full-width":r}),style:Object.assign({gap:s,justifyContent:n,alignItems:o},a)},e)));var $s,Ys;Vs.displayName="Horizontal",function(e){e[e.Monthly=0]="Monthly",e[e.Yearly=1]="Yearly"}($s||($s={})),function(e){e[e.Basic=0]="Basic",e[e.Supporter=1]="Supporter",e[e.Plus=2]="Plus",e[e.Pro=3]="Pro"}(Ys||(Ys={}));const Xs=({style:e={},onValueChange:t})=>{const[a,n]=(0,i.useState)(Ys.Plus),[o,s]=(0,i.useState)($s.Monthly);return(0,i.useEffect)((()=>{let e=wt.ProMonthly;a===Ys.Supporter&&o===$s.Monthly?e=wt.SupporterMonthly:a===Ys.Supporter&&o===$s.Yearly?e=wt.SupporterYearly:a===Ys.Plus&&o===$s.Monthly?e=wt.PlusMonthly:a===Ys.Plus&&o===$s.Yearly?e=wt.PlusYearly:a===Ys.Pro&&o===$s.Monthly?e=wt.ProMonthly:a===Ys.Pro&&o===$s.Yearly&&(e=wt.ProYearly),t(e)}),[a,o,t]),i.createElement(i.Fragment,null,i.createElement(Gs,{className:"upgrade-labeled-toggle",activeValue:o,options:[["Monthly",$s.Monthly],["Yearly",$s.Yearly]],onSelect:s}),i.createElement(Ws,{className:"upgrade-plan-options",fullWidth:!0,style:{margin:"0 -16px",width:"calc(100% + 32px)",paddingTop:26}},i.createElement(Vs,{className:"plan-buttons",gap:16,crossAxisAlign:"stretch",fullWidth:!0},i.createElement("button",{className:os()(x("plan-button"),"free"),style:{width:"19%"},disabled:!0},i.createElement("section",null,i.createElement("h2",null,"Free"),i.createElement("div",{className:"price"},i.createElement("span",{className:"amount"},"$0"))),i.createElement("section",{className:"feature-list"},i.createElement(Ss,{noBullet:!0},Is([mt.Basic]).maxPagesPerAccount," pages"),i.createElement(Ss,{noBullet:!0},Is([mt.Basic]).maxThingsPerPage," blocks/page"),i.createElement(Ss,{noBullet:!0},"1000 visitors/mo"),i.createElement(Ss,{noBullet:!0},"mmm subdomain"))),i.createElement("button",{className:os()(x("plan-button"),"mini",{active:a===Ys.Supporter}),style:{width:"27%"},onClick:()=>{Hs.play("light-click"),w({event:"switched-to-mini",location:"upgrade-modal"}),n(Ys.Supporter)}},i.createElement("section",null,i.createElement("div",{className:"checkbox"},i.createElement(xs,{icon:ns.LEp})),i.createElement("h2",null,"Mini"),i.createElement("div",{className:"price"},i.createElement("span",{className:"amount"},o===$s.Yearly?"$4":"$5"),i.createElement("span",{className:"label"},"per month",i.createElement("br",null),"billed ",o===$s.Yearly?"yearly":"monthly"))),i.createElement("section",{className:"feature-list"},i.createElement(Ss,null,"mmm subdomain"),i.createElement(Ss,null,""),i.createElement(Ss,null,""),i.createElement(Ss,null,"")),i.createElement("section",{className:"feature-list"},i.createElement(Ss,null,Is([mt.Supporter]).maxPagesPerAccount," pages"),i.createElement(Ss,null,Is([mt.Supporter]).maxThingsPerPage," blocks/page"),i.createElement(Ss,{note:"We'll notify if you go over"},"1000 visitors/mo")),i.createElement("section",{className:"feature-list"},i.createElement(Ss,null,"Remove branding"),i.createElement(Ss,null,"140+ premium fonts"))),i.createElement("button",{className:os()(x("plan-button"),"plus",{active:a===Ys.Plus}),style:{width:"27%"},onClick:()=>{Hs.play("light-click"),w({event:"switched-to-plus",location:"upgrade-modal"}),n(Ys.Plus)}},i.createElement("section",null,i.createElement("div",{className:"badge"},"Recommended"),i.createElement("div",{className:"checkbox"},i.createElement(xs,{icon:ns.LEp})),i.createElement("h2",null,"Plus"),i.createElement("div",{className:"price"},i.createElement("span",{className:"amount"},o===$s.Yearly?"$8":"$10"),i.createElement("span",{className:"label"},"per month",i.createElement("br",null),"billed ",o===$s.Yearly?"yearly":"monthly"))),i.createElement("section",{className:"feature-list"},i.createElement(Ss,null,"Custom domain"),i.createElement(Ss,null,"Private pages"),i.createElement(Ss,null,"Custom HTML"),i.createElement(Ss,{note:"1st year free for .space, .land, .page, .me, or .place. 50% off on many others.",highlight:!0},"Free domain")),i.createElement("section",{className:"feature-list"},i.createElement(Ss,null,Is([mt.Plus]).maxPagesPerAccount," pages"),i.createElement(Ss,null,Is([mt.Plus]).maxThingsPerPage," blocks/page"),i.createElement(Ss,{note:"We'll notify if you go over"},"10,000 visitors/mo")),i.createElement("section",{className:"feature-list"},i.createElement(Ss,null,"Everything in Mini"),i.createElement(Ss,null,"20MB uploads"),i.createElement(Ss,null,"Custom favicon"))),i.createElement("button",{className:os()(x("plan-button"),"pro",{active:a===Ys.Pro}),style:{width:"27%"},onClick:()=>{Hs.play("light-click"),w({event:"switched-to-pro",location:"upgrade-modal"}),n(Ys.Pro)}},i.createElement("section",null,i.createElement("div",{className:"checkbox"},i.createElement(xs,{icon:ns.LEp})),i.createElement("h2",null,"Pro"),i.createElement("div",{className:"price"},i.createElement("span",{className:"amount"},o===$s.Yearly?"$25":"$30"),i.createElement("span",{className:"label"},"per month",i.createElement("br",null),"billed ",o===$s.Yearly?"yearly":"monthly"))),i.createElement("section",{className:"feature-list"},i.createElement(Ss,null,"Custom domain"),i.createElement(Ss,null,"Private Pages"),i.createElement(Ss,null,"Custom HTML"),i.createElement(Ss,{note:"1st year free for .space, .land, .page, .me, or .place. 50% off on many others.",highlight:!0},"Free domain")),i.createElement("section",{className:"feature-list"},i.createElement(Ss,null,"Unlimited pages"),i.createElement(Ss,null,"Unlimited blocks"),i.createElement(Ss,{note:"We'll notify if you go over"},"100k visitors/mo")),i.createElement("section",{className:"feature-list"},i.createElement(Ss,null,"Everything in Plus"),i.createElement(Ss,{label:"Coming soon"},"Analytics"),i.createElement(Ss,{label:"Coming soon"},"Redirects"))))))};var Ks=a(36784);const Zs=fs((({id:e,children:t,label:a,onClick:n=(e=>{}),onPointerDown:o,className:s,style:r,size:l="regular",vibe:c="primary",type:d="button",disabled:u=!1,loading:m=!1,withMarginTop:g=!1,wrapWidthToContent:p=!1,noSfx:h=!1,options:f={theme:"light",fattyWidth:!1},focusOnMount:b=!1},y)=>{const v=(0,i.useRef)(null),w=(0,gs.Z)(y,v);(0,i.useEffect)((()=>{var e;b&&null!==v.current&&void 0!==v.current&&(null===(e=v.current)||void 0===e||e.focus())}),[b]);const E=i.useCallback((e=>{var t;e.preventDefault(),o&&o(e),null===(t=v.current)||void 0===t||t.focus(),h||Hs.play("light-click")}),[o,h]),k=i.useCallback((e=>{n(e)}),[n]),S=i.useMemo((()=>F()(x("input-button"),c,{[s]:void 0!==s,"fit-content":p,disabled:u,loading:m,light:"light"===(null==f?void 0:f.theme),dark:"dark"===(null==f?void 0:f.theme),large:"large"===l,small:"small"===l,regular:"regular"===l,mini:"mini"===l,"fatty-width":f.fattyWidth})),[s,u,m,f,l,c,p]),I=i.useMemo((()=>{const e=g?{marginTop:16}:{};return Object.assign(Object.assign({},e),r)}),[r,g]);return i.createElement("button",{id:e,type:d,style:I,className:S,onPointerDown:E,onClick:k,disabled:u,ref:w},i.createElement("span",{className:F()("label",{hidden:void 0!==t})},a),t,m&&i.createElement("span",{className:"loading-indicator"},i.createElement(Fs.G,{icon:ns.AX7,className:"fa-spin"})))}));Zs.displayName="InputButton";const Js=fs((({children:e=null,className:t,id:a,style:n={},width:o="wide",noFrame:s=!1,animateChanges:r=!1},l)=>i.createElement("div",{id:a,className:F()(x("card"),{"fit-width":"fit"===o,"fill-width":"fill"===o,"full-width":"full"===o,"wide-width":"wide"===o,"medium-width":"medium"===o,"narrow-width":"narrow"===o,"no-frame":s,"animate-changes":r,[t]:void 0!==t}),style:n,ref:l},e,i.createElement("aside",{className:"backdrop"})))),Qs=(0,i.memo)((({children:e,className:t,style:a,mainAxisAlign:n="center",crossAxisAlign:o="center",gap:s=0,fullWidth:r=!0})=>i.createElement("div",{className:F()(x("vertical"),{"full-width":r,[t]:void 0!==t}),style:Object.assign({gap:s,justifyContent:n,alignItems:o},a)},e)));Qs.displayName="Vertical";const er={margin:8,closeOthersOnOpen:!1,closeOnTapOutside:!0},tr=({id:e,visible:t,options:{margin:a=er.margin,closeOthersOnOpen:n=er.closeOthersOnOpen,closeOnTapOutside:o=er.closeOnTapOutside}=er,children:s})=>{const{showOverlay:r}=hs(),l=i.useCallback((()=>{r(e,!1)}),[r,e]);return i.createElement(bs,{id:e,type:"modal",className:I(x("modal-wrapper")),forceVisible:t},s,o&&i.createElement("button",{className:I("click-outside-child-to-close-region"),onClick:l,type:"button"},"Close Overlay"))};tr.displayName="Modal";var ar=a(2166),nr=a.n(ar),ir=a(55758);const or="Page name already used. Try another.",sr=(e,t,a=!1)=>i.createElement("span",{key:"upgrade-prompt-msg"},e," ",a?"require":"requires"," an upgrade to"," ",t.map(((e,a)=>i.createElement("span",{key:`upgrade-prompt-msg-${e}`},i.createElement("span",{style:{fontWeight:600,textTransform:"uppercase"}},e===mt.Supporter?"Mini":e),a<t.length-1&&" or ")))),rr="You don't have the permission to publish",lr="Something went wrong. Try again.",cr="Search GIPHY";var dr=a(42314),ur=a(52072);const mr={apiKey:"AIzaSyBeKXrsx_3bhi3Q-vz8PBIm7zRCsRox3r4",authDomain:"mmm-api-mmm.firebaseapp.com",projectId:"mmm-api-mmm",storageBucket:"mmm-api-mmm.appspot.com",messagingSenderId:"447106037398",appId:"1:447106037398:web:0ce18215b084902a4274b7"},gr={apiKey:"AIzaSyDZnInM336jJfalYE5UH1PlO58teqLEVVM",authDomain:"mmm-localhost-api.firebaseapp.com",projectId:"mmm-localhost-api",storageBucket:"mmm-localhost-api.appspot.com",messagingSenderId:"795714638610",appId:"1:795714638610:web:6c2113976e22bd539559cb"},pr=new de({caller:"Firebase"});function hr(){let e;try{e=(0,dr.Mq)(),pr.info("Firebase app already initialized")}catch(t){e=(0,dr.ZF)(p.useProductionApi?mr:gr),pr.info("Firebase app initialized")}return(0,ur.v0)(e),e}var fr=function(e,t,a,n){return new(a||(a=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}))};const br={baseURL:p.apiURL},yr=nr().create(br);yr.interceptors.request.use((e=>fr(void 0,void 0,void 0,(function*(){var t;const a=Object.assign({},e),i=hr(),o=null!==(t=(0,n.v0)(i).currentUser)&&void 0!==t?t:void 0;if(void 0===o)return a;const s=yield o.getIdToken();a.headers["ID-Token"]=s;const r=(0,ir.Z)();return a.headers["Client-Request-ID"]=r,a}))),(e=>(ue.error(e),Promise.reject(e))));const vr=new de({caller:"ClientApi"}),wr=()=>fr(void 0,void 0,void 0,(function*(){try{const e=yield yr.get("/account"),{data:t,status:a}=e;return 200!==a?[void 0,void 0]:[t.account,void 0]}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),[void 0,new Error(a)]}})),Er=e=>fr(void 0,void 0,void 0,(function*(){try{let t;return t=e.email?`?email=${encodeURIComponent(e.email)}`:`?username=${encodeURIComponent(e.username)}`,[200===(yield yr.head(`/account${t}`)).status,void 0]}catch(e){const{response:t}=e,{data:a,status:n}=t;return 404!==n&&(Pr(t),(0,r.Am)(lr)),[!1,new Error(a)]}})),kr=e=>fr(void 0,void 0,void 0,(function*(){if(p.isDevelopment&&p.useProductionApi)return ue.error("Warning! Disallowing new account creation when using product API"),[void 0,new Error];try{return[(yield yr.post("/account",e)).data,void 0]}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),(0,r.Am)(lr),[void 0,new Error(a)]}})),Fr=()=>fr(void 0,void 0,void 0,(function*(){try{return[(yield yr.get("/page/all")).data,void 0]}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),[void 0,new Error(a)]}})),xr=(e,t)=>fr(void 0,void 0,void 0,(function*(){try{return[(yield yr.get(`/page?site=${e}&page=${t}`)).data,void 0]}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),a.trim()===ft.PageDoesNotExist?(0,r.Am)("Page does not exist"):(0,r.Am)(lr),[void 0,new Error(a)]}})),Sr=e=>fr(void 0,void 0,void 0,(function*(){try{return[(yield yr.post("/page",e)).data,void 0]}catch(e){const{response:t}=e,{data:a}=t;switch(Pr(t),a.trim()){case ft.PageNoPermission:(0,r.Am)(rr);break;case ft.PageSlugAlreadyUsed:(0,r.Am)(or);break;default:(0,r.Am)(lr)}return[void 0,new Error(a.trim())]}})),Ir=()=>fr(void 0,void 0,void 0,(function*(){try{return[(yield yr.post("/asset/upload/signature")).data,void 0]}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),a.trim(),(0,r.Am)(lr),[void 0,new Error(a)]}})),Cr=new Set([ft.AccountUnavailableUsername,ft.PageSlugAlreadyUsed,ft.SiteUnavailableSlug,ft.PageCannotDeleteOnlyPage]),Pr=e=>{const{data:t,headers:a,config:n}=e;Cr.has(t.trim())||le.$e((i=>{i.setTag("client_request_id",a[p.clientRequestIDHeader]),i.setTag("http_status",e.status),i.setContext("request",e.request),i.setContext("response",{response:JSON.stringify(e)});let o="";void 0!==n&&"method"in n&&void 0!==n.method&&(o=`${n.method.toUpperCase()} ${n.baseURL}`,t&&(o=`${t.trim()}: ${o}`)),ue.error(o)}))},Tr=fs((({id:e,valueEnvelope:t,onFocus:a,onBlur:n,onChangeCallback:o,autocomplete:s=!0,autocorrect:r=!0,className:l,disabled:c=!1,invalid:d=!1,focusOnMount:u=!1,fullWidth:m=!1,prefix:g,placeholder:p,style:h,spellcheck:f=!0,suffix:b,type:y="text",options:v={theme:"light",size:"regular"}},w)=>{const{value:E,setValue:k}=t,F=(0,i.useRef)(null),S=(0,i.useRef)(null),C=(0,i.useRef)(null),P=(0,gs.Z)(w,C),[T,N]=(0,i.useState)(0),[R,D]=(0,i.useState)(0);(0,i.useEffect)((()=>{var e,t;N(null!==(t=null===(e=F.current)||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:0)}),[F.current]),(0,i.useEffect)((()=>{var e,t;D(null!==(t=null===(e=S.current)||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:0)}),[S.current]),(0,i.useEffect)((()=>{u&&null!==C.current&&void 0!==C.current&&C.current.focus()}),[u,C]);const O=(0,i.useCallback)((e=>{const{value:t}=e.target;k(t),o&&o(t)}),[o]),A=(0,i.useMemo)((()=>{var e,t;return Object.assign({"--prefix-width":`${T+(null!==(e=v.prefixSuffixBufferOverride)&&void 0!==e?e:1)}px`,"--suffix-width":`${R+(null!==(t=v.prefixSuffixBufferOverride)&&void 0!==t?t:1)}px`},h)}),[T,R,h]);return i.createElement("div",{className:I(x("input-text"),{"full-width":m,dark:"dark"===(null==v?void 0:v.theme),small:"small"===(null==v?void 0:v.size),large:"large"===(null==v?void 0:v.size),[`text-align-${null==v?void 0:v.textAlign}`]:void 0!==v.textAlign})},i.createElement("span",{className:"prefix-label",ref:F},null!=g?g:""),i.createElement("input",{ref:P,id:e,className:I("",{"full-width":m,invalid:d,[l]:void 0!==l}),autoComplete:s?"on":"off",autoCorrect:r?"on":"off",style:A,onFocus:a,onBlur:n,onChange:O,disabled:c,placeholder:p,spellCheck:f,type:y,value:E}),i.createElement("span",{className:"suffix-label",ref:S},null!=b?b:""))}));Tr.displayName="InputText";const Nr={inputStates:new Map,loading:!1},Rr={schema:void 0,errors:[],value:"",valid:!0,focused:!1,config:{defaultValue:"",showErrorWhenEmpty:!1}},Dr=(e,t)=>{switch(t.type){case"form/register":{const{inputStates:a}=e,{ID:n,options:i}=t,o=z()(a),{schema:s,defaultValue:r,showErrorWhenEmpty:l}=i,c=null!=r?r:"",{valid:d,errors:u}=Or(s,c);return o.set(n,Object.assign(Object.assign({},Rr),{schema:s,value:c,valid:d,errors:u,config:{defaultValue:null!=r?r:"",showErrorWhenEmpty:null!=l&&l}})),Object.assign(Object.assign({},e),{inputStates:o})}case"form/set-value":{const{inputStates:a}=e,{ID:n,value:i}=t,o=z()(a),s=o.get(n),{schema:r}=s,{valid:l,errors:c}=Or(r,i);return o.set(n,Object.assign(Object.assign({},s),{value:i,valid:l,errors:c})),Object.assign(Object.assign({},e),{inputStates:o})}case"form/update-default-value":{const{inputStates:a}=e,{ID:n,defaultValue:i}=t,o=z()(a),s=o.get(n),r=i,{schema:l}=s,{valid:c,errors:d}=Or(l,r);return o.set(n,Object.assign(Object.assign({},s),{value:r,valid:c,errors:d,config:Object.assign(Object.assign({},s.config),{defaultValue:i})})),Object.assign(Object.assign({},e),{inputStates:o})}case"form/set-focus":{const{inputStates:a}=e,{ID:n,focused:i}=t,o=z()(a),s=o.get(n);return o.set(n,Object.assign(Object.assign({},s),{focused:i})),Object.assign(Object.assign({},e),{inputStates:o})}case"form/set-loading":{const{loading:a}=t;return Object.assign(Object.assign({},e),{loading:a})}case"form/reset":{const{inputStates:t}=e,a=z()(t);return a.forEach(((e,t)=>{const{value:n,schema:i,config:{defaultValue:o}}=e,{valid:s,errors:r}=Or(i,n);a.set(t,Object.assign(Object.assign({},e),{value:o,valid:s,focused:!1,errors:r}))})),Object.assign(Object.assign({},e),{inputStates:a})}default:return e}},Or=(e,t)=>{let a=!0,n=[];if(void 0!==e)try{e.validateSync(t)}catch(e){a=!1,n=e.errors}return{valid:a,errors:n}};var Ar=function(e,t,a,n){return new(a||(a=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}))};const Mr=()=>{const[{inputStates:e,loading:t},a]=(0,i.useReducer)(Dr,Nr),n=(0,i.useCallback)((t=>n=>Ar(void 0,void 0,void 0,(function*(){n.preventDefault(),a({type:"form/set-loading",loading:!0}),yield t(e),a({type:"form/set-loading",loading:!1})}))),[e]),o=(0,i.useCallback)(((n,i={})=>{var o;const s=e.get(n);if(void 0===s)return a({type:"form/register",ID:n,options:i}),{valueEnvelope:{value:"",setValue:()=>{}}};const{value:r,valid:l,config:c}=s,{showErrorWhenEmpty:d}=c,{transformValue:u}=i;return void 0!==i.defaultValue&&c.defaultValue!==i.defaultValue&&a({type:"form/update-default-value",ID:n,defaultValue:null!==(o=i.defaultValue)&&void 0!==o?o:""}),{valueEnvelope:{value:r,setValue:e=>Ar(void 0,void 0,void 0,(function*(){e=u?u(e):e,a({type:"form/set-value",ID:n,value:e})}))},onFocus:e=>a({type:"form/set-focus",ID:n,focused:!0}),onBlur:e=>a({type:"form/set-focus",ID:n,focused:!1}),invalid:!l&&(d||r.length>0),disabled:t}}),[e,t]),s=(0,i.useCallback)((t=>{const a=e.get(t);if(void 0===a)return[];const{value:n,errors:i,config:{showErrorWhenEmpty:o}}=a;return 0!==n.length||o?i:[]}),[e]),r=(0,i.useCallback)((t=>{var a,n;return null!==(n=null===(a=e.get(t))||void 0===a?void 0:a.value)&&void 0!==n?n:""}),[e]),l=(0,i.useCallback)((e=>{a({type:"form/set-loading",loading:e})}),[e]),c=(0,i.useCallback)(((e,t)=>{a({type:"form/set-value",ID:e,value:t})}),[]),d=(0,i.useCallback)((t=>{var a,n;return null!==(n=null===(a=e.get(t))||void 0===a?void 0:a.focused)&&void 0!==n&&n}),[e]);return{withInputFormSubmit:n,registerInput:o,getErrors:s,getValue:r,setValue:c,setLoading:l,isFocused:d,resetForm:()=>{a({type:"form/reset"})},canSubmit:(0,i.useCallback)((()=>Array.from(e.values()).map((e=>e.valid)).every((e=>e))),[e]),isLoading:(0,i.useCallback)((()=>t),[t])}};var zr=a(60463);const Lr="auth_account",jr="auth_login-email";class Br{static set(e,t){window.localStorage.setItem(e,t)}static get(e){var t;return null!==(t=window.localStorage.getItem(e))&&void 0!==t?t:void 0}static remove(e){window.localStorage.removeItem(e)}}Br.unsetAccount=()=>Br.remove(Lr),Br.setAccount=e=>Br.set(Lr,JSON.stringify(e)),Br.getAccount=()=>{const e=Br.get(Lr);return e?JSON.parse(e):void 0},Br.unsetLoginEmail=()=>Br.remove(jr),Br.setLoginEmail=e=>Br.set(jr,e),Br.getLoginEmail=()=>Br.get(jr);const Ur=new de({caller:"PreferencesCommands"});function _r(e){const t=Vr.retrieve();return null!=t?t:e}function Hr(e,t){const a=Object.assign(Object.assign({},e),t);return Vr.save(a),a}function Gr(e,t,a,n){let i=Object.assign({},e);if(t in e){const o=e[t]===a?n:a;Ur.info(`Toggled ${t} from ${e[t]} to ${o}`),i=Object.assign(Object.assign({},e),{[t]:o})}else Ur.info(`Toggled ${t} from non-existent to ${a}`),i=Object.assign(Object.assign({},e),{[t]:a});return Vr.save(i),i}function qr(e){return function(e,t){return e.preferences["expertMode.enabled"]}(e)}const Wr="mmm_preferences";class Vr{static save(e){window.localStorage.setItem(Wr,JSON.stringify(e))}static retrieve(){const e=window.localStorage.getItem(Wr);return e?JSON.parse(e):void 0}static clear(){window.localStorage.removeItem(Wr)}}var $r=function(e,t,a,n){return new(a||(a=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}))};const Yr=new de({caller:"AuthContext"});function Xr(){Br.unsetAccount(),Vr.clear()}const Kr=hr(),Zr=e=>{const t=(0,ur.v0)(Kr);(0,ur.ic)(t);const a=(0,zr.s0)();(0,i.useEffect)((()=>{const t=Br.getAccount();e.onAccountLoaded&&void 0!==t&&(Yr.info("Account retrieved from local storage"),e.onAccountLoaded(t,{fromCache:!0}))}),[]),(0,i.useEffect)((()=>{(0,ur.Fb)(t,ur.a$);const n=(0,ur.Aj)(t,(t=>$r(void 0,void 0,void 0,(function*(){if(null!==t){Yr.info("User successfully authenticated",{uid:t.uid});const[c,d]=yield e.getAccount();if(void 0!==d)return Yr.error("Error verifying email for login"),void(0,r.Am)("Something went wrong. Please try logging in again.");if(void 0===c)return void a("/auth/complete-sign-up",{replace:!0});Br.setAccount(c),n=c.ID,i=c.email,o=c.username,s=cc.hasUpgraded(c.roles),l=Ne.tq,h.b.load({writeKey:f}).then((([e])=>{e.identify(`${n}`,{email:i,username:o,isPaying:s,isMobile:l})})),h.b.load({writeKey:f}).then((([e])=>{e.track("Signed In")})),Yr.info("User account successfully retrieved",{accountID:c.ID}),e.onAccountLoaded&&e.onAccountLoaded(c,{fromCache:!1}),le.e((e=>{e.setUser({email:c.email,id:c.UUID,username:c.username})}))}else Yr.info("User account unloaded"),e.onAccountUnloaded&&e.onAccountUnloaded(),Xr();var n,i,o,s,l}))));return()=>{n()}}),[]);const n={sendEmailLoginLink:(0,i.useCallback)(((e,t)=>$r(void 0,void 0,void 0,(function*(){const t=yield((e,t)=>fr(void 0,void 0,void 0,(function*(){try{const t={email:e,type:jt.Login,version:p.isDevelopment?Bt.Localhost:Bt.Canary,localeTimeString:""};return void(yield yr.post("/auth/email",t))}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),new Error(a)}})))(e);if(void 0!==t){const{message:e}=t;return Yr.error(e),[!1,new Error(e)]}return Yr.info("Email login link sent"),Br.setLoginEmail(e),[!0,void 0]}))),[]),verifyEmailLink:(0,i.useCallback)(((e,a)=>$r(void 0,void 0,void 0,(function*(){if(!(0,ur.JB)(t,a.toString()))return Yr.error("Invalid login URL"),[!1,new Error("Invalid login URL")];try{return yield(0,ur.P6)(t,e,a.toString()),Br.unsetLoginEmail(),[!0,void 0]}catch(e){const{message:t}=e;return Yr.error(t),[!1,new Error(t)]}}))),[t]),signInWithGoogle:(0,i.useCallback)((()=>$r(void 0,void 0,void 0,(function*(){const e=new ur.hJ;return(0,ur.F6)(t,e),[!1,void 0]}))),[t]),makeAccount:(0,i.useCallback)((t=>$r(void 0,void 0,void 0,(function*(){const[a,n]=yield e.createAccount({username:t});return void 0===a||void 0!==n?[void 0,n]:(e.onAccountLoaded&&e.onAccountLoaded(a.account,{fromCache:!1}),w({event:"created-account",location:"auth-context"}),[a.account,void 0])}))),[e]),logout:(0,i.useCallback)((()=>$r(void 0,void 0,void 0,(function*(){try{return yield(0,ur.w7)(t),e.onAccountUnloaded&&e.onAccountUnloaded(),Xr(),void Yr.info("Logout successful")}catch(e){const{message:t}=e;return Yr.error("Logout failed",{message:t}),e}}))),[])};return i.createElement(Qr.Provider,{value:n},e.children)};var Jr=function(e,t,a,n){return new(a||(a=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}))};const Qr=(0,i.createContext)({sendEmailLoginLink:()=>Jr(void 0,void 0,void 0,(function*(){return[!1,void 0]})),verifyEmailLink:()=>Jr(void 0,void 0,void 0,(function*(){return[!1,void 0]})),signInWithGoogle:()=>Jr(void 0,void 0,void 0,(function*(){return[!1,void 0]})),makeAccount:()=>Jr(void 0,void 0,void 0,(function*(){return[void 0,void 0]})),logout:()=>Jr(void 0,void 0,void 0,(function*(){}))});const el=S("email-input"),tl=J.Z_().required().email(),al=(0,i.memo)((({type:e,before:t,footer:a,buttonLabel:n,onEmailSent:o})=>{const{sendEmailLoginLink:s}=(0,i.useContext)(Qr),{withInputFormSubmit:l,registerInput:c,isLoading:d,canSubmit:u}=Mr();return i.createElement("form",{className:x("base-auth-form"),onSubmit:l((t=>{return a=void 0,n=void 0,l=function*(){var a;const n=null===(a=t.get(el))||void 0===a?void 0:a.value;if(void 0===n)return;const[i]=yield s(n,e);i?o(n):(0,r.Am)(lr)},new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{r(l.next(e))}catch(e){t(e)}}function s(e){try{r(l.throw(e))}catch(e){t(e)}}function r(t){var a;t.done?e(t.value):(a=t.value,a instanceof i?a:new i((function(e){e(a)}))).then(o,s)}r((l=l.apply(a,n||[])).next())}));var a,n,i,l}))},i.createElement(Ws,{direction:"vertical",style:{padding:24}},i.createElement(Qs,null,t,i.createElement(Qs,{gap:12},i.createElement(Tr,Object.assign({id:el,type:"email",placeholder:"hello@email.com"},c(el,{schema:tl}),{options:{theme:"light",size:"large",textAlign:"center"},style:{flexGrow:1},fullWidth:!0,focusOnMount:!0})),i.createElement(Zs,{type:"submit",loading:d(),size:"large",disabled:!u(),style:{width:"100%"}},n)))),a)}));al.displayName="BaseAuthForm";const nl=(0,i.memo)((({email:e})=>i.createElement("div",{className:"success-panel"},i.createElement(Ws,null,i.createElement(Qs,null,i.createElement("div",{className:"message"},i.createElement("h2",{className:"with-margin"},"Check Your Email"),i.createElement("p",null,"We've just sent an email with a login link to ",i.createElement("span",{className:"email"},e),"."),i.createElement("p",null,"See you soon ",i.createElement("span",{style:{fontSize:18}},""))))),Ne.tq&&i.createElement(Ws,{style:{padding:20}},i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",{className:"fine-print"},"If you're on a phone, open the login link in a ",i.createElement("strong",null,"new browser"),", not the in-app browser."),i.createElement("p",{className:"fine-print"},"Do this by long-holding or copying the link."))))));nl.displayName="LoginModalSuccessPanel";const il=i.createContext({});function ol(){return i.useContext(il)}var sl,rl,ll;!function(e){e.Experimental="experimental",e.Expert="expert"}(sl||(sl={})),function(e){e.Editing="editing",e.Previewing="viewing"}(rl||(rl={})),function(e){e.CanPublish="can-publish",e.CanEdit="can-edit",e.CanSample="can-sample",e.CanView="can-view"}(ll||(ll={}));const cl={debug:!1,permissions:(0,A.l4)(),canvas:{widthPx:0,heightPx:0,isFullScreen:!0,useAnimation:!0},cursor:{type:"pointer"},flags:(0,A.l4)(),mode:rl.Previewing,safeMode:!0,registeredUis:(0,A.D5)(),inUseFonts:(0,A.D5)(),loadedFonts:(0,A.D5)(),useCanvasKeyboardShortcuts:!0,areSidebarsShown:!0,isEditorUiHidden:!1,isCodeEditorActive:!1,expertSidebarWidthPx:0,moreLayoutOptionsMode:!1,focusMode:!1},dl={disableAsTapTarget:!0,hideWhenEditing:!0,hideInPreviewMode:!0,hideInFocusMode:!0},ul=new de({caller:"InterfaceCommands"});var ml=a(75326);new de({caller:"InterfaceSelectors"});const gl=e=>e.interface.permissions.has(ll.CanView),pl=e=>e.interface.permissions.has(ll.CanSample),hl=e=>e.interface.permissions.has(ll.CanEdit),fl=e=>e.interface.permissions.has(ll.CanPublish),bl=e=>e.interface.permissions.has(ll.CanSample)&&!e.interface.permissions.has(ll.CanEdit),yl=e=>e.interface.mode,vl=e=>e.interface.areSidebarsShown;function wl(e){return e.interface.canvas.widthPx}function El(e){return e.interface.canvas.heightPx}const kl=e=>e.interface.canvas.isFullScreen,Fl=e=>e.interface.canvas.useAnimation,xl=e=>e.interface.useCanvasKeyboardShortcuts,Sl=((0,ml.P1)((e=>e.interface.inUseFonts),(e=>Array.from(e.values()))),(0,ml.P1)((e=>e.interface.loadedFonts),(e=>Array.from(e))),e=>e.interface.focusMode),Il=e=>_l(e)===Ll.DragSelect,Cl=e=>{const t=Ue(e),a=Ae(e);if(void 0===t)return;const[n,i]=a,[o,s]=t;return{minX:Math.min(n,o),maxX:Math.max(n,o),minY:Math.min(i,s),maxY:Math.max(i,s),width:Math.abs(n-o),height:Math.abs(i-s)}},Pl=new de({caller:"Pinch"});class Tl{onTransform(e,t){return{}}}class Nl extends Tl{constructor(){super(...arguments),this.modeOnTap=void 0}onTransform(){return{}}}class Rl{static getFonts(){}static scaleFontSize(e,t){let a=Rl.parseRawJson(e);if(void 0!==a)return a=Rl.recursiveTransformLeaves(a,(e=>{if("text"===e.type){const a=Rl.toTextStyle(e.marks);a.fontSize*=t,e.marks=Rl.toMarks(a)}return e})),JSON.stringify(a)}static isEmpty(e){if(void 0===e)return!1;try{const t=JSON.parse(e);return t.content.length<=1&&!("content"in t.content[0])}catch(e){return!1}}static toTextStyle(e){let t={};return void 0===e||e.forEach((e=>{if("bold"===e.type&&(t.fontWeight=700),"italic"===e.type&&(t.italic=!0),"underline"===e.type&&(t.underline=!0),"textStyle"===e.type&&e.attrs){const{color:a,font:n,fontSize:i}=e.attrs;t.color=a,t.fontSize=i,t.font=n}})),t}static toMarks(e){let t=[];700===e.fontWeight&&t.push({type:"bold"}),e.italic&&t.push({type:"italic"}),e.underline&&t.push({type:"underline"});let a={};const{color:n,fontSize:i,font:o}=e;return n&&(a.color=n),i&&(a.fontSize=i),o&&(a.font=o),t.push({type:"textStyle",attrs:a}),t}static parseRawJson(e){try{return JSON.parse(e)}catch(e){return}}static recursiveTransformLeaves(e,t){const{type:a,marks:n,content:i}=e;return"text"===a?t(e):Object.assign(Object.assign({},e),{content:null==i?void 0:i.flatMap((e=>Rl.recursiveTransformLeaves(e,t)))})}}class Dl extends Tl{constructor(){super(...arguments),this.modeOnTap=Ce.TextEditing}onTransform(e,{from:t,to:a,isProportionalResize:n}){const i=Object.assign({},e.content);e.content.useAutosize&&!n&&(i.useAutosize=!1);const{text:o}=e.content;if(n){const e=Math.abs(a.width/t.width);i.text=Rl.scaleFontSize(o,e)}return{content:i}}}class Ol extends Tl{constructor(){super(...arguments),this.modeOnTap=Ce.InlineTextEditing}onTransform(e,{to:t}){const a=Object.assign({},e.content),{height:n}=t;return a.richButtonText=Object.assign(Object.assign({},a.richButtonText),{size:Math.abs(n)*Vo.fontSizeRatio}),{content:a}}}const Al=e=>{switch(e){case zt.Text:return new Dl;case zt.RichButton:return new Ol;default:return new Nl}},Ml=new de({caller:"Tap"}),zl=e=>{const t=e.selectOnce(Ic),a=e.selectOnce(_c),n=oa(),i=e.selectOnce(Ae),o=ot(i,n),{isPointerOverUiElement:s}=e.handlers;if(s&&s(e.state))return e;if(void 0===t)return Ml.info("thingAtPointer undefined. Unselect and reset editor."),e.unselectThings().resetEditor(),e;if(!o)return e.unselectThings().resetEditor(),e;if(1===a.size&&a.includes(t.ID)){const a=Al(t.type).modeOnTap;if(void 0!==a)return void e.setCursor({type:"pointer"}).setMode(a)}e.setCursor({type:"pointer"}),1===a.size&&a.contains(t.ID)?Ml.info("No-op. Attempting to select an already-selected block."):a.size>0?(e.unselectThings(),t.locked||e.selectThings([t.ID])):e.selectThings([t.ID])};var Ll;!function(e){e.Translate="translate",e.DragSelect="drag-select",e.Transform="transform",e.Rotate="rotate",e.Pinch="pinch"}(Ll||(Ll={}));const jl={action:void 0,actionState:void 0,saveToChangeHistory:!0},Bl=[Ll.Translate,Ll.Transform,Ll.Rotate,Ll.Pinch],Ul=e=>e.editor.modeState,_l=e=>{var t;if((null===(t=e.editor.modeHandler)||void 0===t?void 0:t.name)===Ce.Layout)return Ul(e).action},Hl=new de({caller:"LayoutMode"});class Gl extends Pe{constructor(e){super(e),this.name=Ce.Layout,this.startAction=e=>{switch(this.app.setModeState(Object.assign(Object.assign({},this.app.state.editor.modeState),{action:e})),Bl.includes(e)&&(Hl.info("beginInProgressPage() because PAGE_MODIFYING_ACTION"),this.app.beginInProgressPage()),Hl.info(`startAction() called on ${this.action}`),e){case Ll.Transform:this.app;break;case Ll.Translate:(e=>{this.app.setTouchMove(!1)})();break;case Ll.DragSelect:(e=>{const t=e.selectOnce((e=>Uc(e))),a=e.selectOnce(_c);e.setModeState(Object.assign(Object.assign({},t),{actionState:{idsSelectedBeforeDragSelectStart:a}}))})(this.app);break;case Ll.Rotate:this.app;break;case Ll.Pinch:(e=>{this.app.setTouchMove(!1)})()}},this.onAction=()=>{switch(this.action){case Ll.Transform:(e=>{const t=e.selectOnce(_c),a=e.selectOnce(kc),n=e.selectOnce(Ec),i=e.selectOnce(Ge);if(!(a&&n&&t&&i))return;const o=Wc(a,t),s=Wc(n,t);if(!o||!s)return;const r=a.get(t.first()),l=1===t.size?r.position.width:o.maxX-o.minX;let c=1===t.size?r.position.height:o.maxY-o.minY;const d=1===t.size?a.get(t.first()).position.rotationDeg:0,u=e.selectOnce(Ve),m=e.selectOnce($e),g=e.selectOnce(qe),p=e.selectOnce(We),h=e.selectOnce(Ye),f=e.selectOnce(Ae),b=e.selectOnce(Be);let y=new Qe(b).rotate(ct(-d)).mult([m?1:-1,u?1:-1]).mult([l>=0?1:-1,c>=0?1:-1]).mult([g?0:1,p?0:1]),v=l+y.x,w=c+y.y;const E=n.get(t.first()),k=!h&&1===t.size&&r.type===zt.Text&&void 0!==E,F=e.selectOnce(_l);k&&F!==Ll.Pinch&&(w=E.position.height);let x=new Qe([v/l,w/c]);const S=!e.selectOnce(ze)&&e.selectOnce(Ye)&&!k;S&&(x=x.x>x.y?x.setY(x.x):x.setX(x.y));let I=e.selectOnce(Le)?void 0:(e=>{switch(e){case"top-left":return"bottom-right";case"top":return"bottom";case"top-right":return"bottom-left";case"right":return"left";case"bottom-right":return"top-left";case"bottom":return"top";case"bottom-left":return"top-right";case"left":return"right"}})(i.position);k&&(I="left"===I?"top-left":"top-right"),e.mutateThings((e=>e.scale(x.vec(),S,I,f)),{inProgress:!0,useLayoutGuides:!0})})(this.app);break;case Ll.Translate:(e=>{const t=e.selectOnce(ze);let a=e.selectOnce(Be);if(t){const[e,t]=a;a=Math.abs(e)>Math.abs(t)?[e,0]:[0,t]}e.mutateThings((e=>e.translate(a)),{inProgress:!0,useLayoutGuides:!0})})(this.app);break;case Ll.DragSelect:(e=>{const t=new Set,a=new Set,n=e.selectOnce(Cl),i=e.selectOnce(kc),o=e.selectOnce(_c),s=e.selectOnce(Uc),r=e.selectOnce(Me),l=e.selectOnce(wl);if(void 0===n||void 0===s)return;const{idsSelectedBeforeDragSelectStart:c}=s;null==i||i.forEach((i=>{if(!Ht(i,{viewportWidthPx:l})||!_t(i))return;const s=st(pa.transform(i.position,{from:i.parentId,to:void 0}));if(i.locked)return;const d=(m=n,(u=s).maxX>=m.minX&&m.maxX>=u.minX&&u.maxY>=m.minY&&m.maxY>=u.minY);var u,m;if(d&&!o.includes(i.ID)){const a=e.selectOnce((e=>{var t,a;return null===(a=null===(t=e.page.stable)||void 0===t?void 0:t.things.get(i.ID))||void 0===a?void 0:a.locked}));a||t.add(i.ID)}else d||!o.includes(i.ID)||r.includes("shift")&&!(null==c?void 0:c.has(i.ID))||a.add(i.ID)})),t.size>0&&e.selectThings(Array.from(t),!1),a.size>0&&e.unselectThings(Array.from(a),!1)})(this.app);break;case Ll.Rotate:(e=>{const t=e.selectOnce(Ue),a=Vc(e.selectOnce(kc),e.selectOnce(_c)),n=e.selectOnce(Ae);if(void 0===t||void 0===a)return;const{x:i,y:o}=a,s=new Qe(n).sub([i,o]).vec(),r=new Qe(t).sub([i,o]).vec(),l=dt(((e,t)=>Math.atan2(e[1],e[0])-Math.atan2(t[1],t[0]))(s,r));e.mutateThings((e=>e.rotate(l)),{inProgress:!0,useLayoutGuides:!0})})(this.app);break;case Ll.Pinch:(e=>{if(void 0===e.selectOnce(He))return void Pl.error("Pinch state is undefined in onPinch");const{rotation:t,zoom:a}=e.selectOnce(He);e.mutateThings((e=>e.rotate(t).scale([Math.abs(a),Math.abs(a)],!0)),{inProgress:!0,useLayoutGuides:["rotate"]})})(this.app)}},this.endAction=()=>{if(void 0!==this.action){switch(Hl.info(`endAction() called on ${this.action}`),this.action){case Ll.Transform:this.app;break;case Ll.Translate:(e=>{Hs.play("thump"),e.setTouchMove(!0)})(this.app);break;case Ll.DragSelect:(e=>{const t=e.selectOnce(_c),a=e.selectOnce((e=>Uc(e))),{idsSelectedBeforeDragSelectStart:n}=a.actionState;e.setModeState(Object.assign(Object.assign({},a),{actionState:{idsSelectedBeforeDragSelectStart:void 0}})),n!==t&&e.addChangeDangerously(3048203334,{type:Xc.Patch,before:{editor:{selectedIds:n}},after:{editor:{selectedIds:t}}})})(this.app);break;case Ll.Rotate:this.app;break;case Ll.Pinch:(e=>{this.app.setTouchMove(!0)})()}Bl.includes(this.action)&&(Hl.info("commitInProgressPage() because PAGE_MODIFYING_ACTION"),this.app.commitInProgressPage()),this.app.setLayoutGuides([]).setModeState(Object.assign(Object.assign({},this.app.state.editor.modeState),{action:void 0,actionState:void 0}))}},this.onPointerDown=e=>{Hl.info("onPointerDown() called");const{isPointerOverUiElement:t}=e.handlers;return t&&t(e.state)||e.selectOnce(Ic),e},this.onPointerUp=e=>(Hl.info("onPointerUp() called"),this.app.setCursor({type:"pointer"})),this.onPointerMove=e=>this.app,this.onTap=e=>{Hl.info("onTap() called");const t=e.selectOnce(ze),a=e.selectOnce(Le);return t?(e=>{const t=e.selectOnce(Tc),a=e.selectOnce(Ic);if(void 0===a)return;const n=oa(),i=e.selectOnce(Ae);ot(i,n)&&(t.includes(a)?e.unselectThings([a.ID]):e.selectThings([a.ID]))})(this.app):a?(e=>{const t=e.selectOnce(_c),a=e.selectOnce(Sc),n=oa(),i=e.selectOnce(Ae);if(!ot(i,n)||1!==t.size||0===a.length)return void zl(e);let o;for(let e=0;e<a.length;e++)if(t.has(a[e].ID)){o=e;break}if(void 0!==o){const t=(o+1)%a.length;if(t===o)return;const n=a[t].ID;e.unselectThings().selectThings([n]).setHovered(n)}else zl(e)})(this.app):zl(this.app),e},this.onDragStart=()=>{if(2===this.app.selectOnce(je))return this.app;const e=this.app.selectOnce(Ge);if(void 0!==e)return"rotate"===e.type?(Hl.info("startAction(rotate) because of handle type"),this.startAction(Ll.Rotate)):"transform"===e.type&&(Hl.info("startAction(transform) because of handle type"),this.startAction(Ll.Transform)),this.app;const t=this.app.selectOnce(_c),a=this.app.selectOnce(qc),n=this.app.selectOnce(Fe),i=this.app.selectOnce(Ic),o=this.app.selectOnce(Gc),s=this.app.selectOnce(ke),l=(this.app.selectOnce(Le),this.app.selectOnce((e=>{var a;return null===(a=e.page.stable)||void 0===a?void 0:a.things.filter((e=>t.has(e.ID))).map((e=>e.locked)).contains(!0)}))),c=oa(),d=this.app.selectOnce(Ae);if(!ot(d,c))return this.app;if(n)a?(Hl.info("startAction(translate) because pointerInSelection on mobile"),l||!1!==(null==i?void 0:i.locked)?t.size<=1?(Hs.play("denied"),(0,r.Am)("Block is locked. Unlock it first.")):(Hs.play("denied"),(0,r.Am)("Selection contains a locked block. Unlock it first.")):this.startAction(Ll.Translate)):(Hl.info("resetEditor() because !pointerInSelection on mobile"),this.app.resetEditor());else if(a)Hl.info("Case 1: Pointer is in selection"),l?t.size<=1?(Hs.play("denied"),(0,r.Am)("Block is locked. Unlock it first.")):(Hs.play("denied"),(0,r.Am)("Selection contains a locked block. Unlock it first.")):(s&&0===t.size&&void 0!==i&&o===i.ID&&(Hl.info("Special case with existing selection: unselect and reselect things"),this.app.unselectThings().selectThings([i.ID])),Hl.info("startAction(translate) in isPointerInSelection() scope"),this.startAction(Ll.Translate));else{if(void 0!==i&&i.locked)return Hl.info("Case 2: thingAtPointer is defined but it is locked"),this.app.setHovered(void 0),this.startAction(Ll.DragSelect),this.app;void 0===i||i.locked?(Hl.info("Case 3: Fallback"),void 0!==o?this.app.unselectThings().selectThings([o]):this.startAction(Ll.DragSelect)):(Hl.info("Case 3: Pointer is not in selection, but thingAtPointer is defined"),this.app.unselectThings().selectThings([i.ID]),Hl.info("startAction(translate) in !thingAtPointer() scope"),this.startAction(Ll.Translate))}return this.app},this.onDrag=()=>(this.onAction(),this.app),this.onDragEnd=()=>(this.endAction(),this.app),this.onPinchStart=()=>(this.startAction(Ll.Pinch),this.app),this.onPinch=()=>(this.onAction(),this.app),this.onPinchEnd=()=>(this.endAction(),this.app),e.setModeState(jl)}get action(){return this.app.selectOnce(Ul).action}}const ql=(e,{alsoHideWhen:t,uiConfig:a}={})=>{const n=ol(),o=(0,i.useMemo)((()=>Object.assign(Object.assign({},dl),a)),[a]),s=n.useStore(_l),r=n.useStore(yl),l=n.useStore((e=>e.interface.isEditorUiHidden)),c=n.useStore(Sl);(0,i.useEffect)((()=>(n.registerUi(e,o),()=>{n.unregisterUi(e)})),[n,e,o]);const d=(0,i.useMemo)((()=>o.hideWhenEditing&&l),[l,o]),u=(0,i.useMemo)((()=>void 0!==o&&!0===o.hideWhenEditing&&void 0!==s),[s,o]),m=(0,i.useMemo)((()=>void 0!==t&&t()),[t]),g=(0,i.useMemo)((()=>r===rl.Previewing&&o.hideInPreviewMode),[r,o]),p=(0,i.useMemo)((()=>o.hideInFocusMode&&c),[c,o]);return{visible:!(d||u||m||g||p)}},Wl=S("login-modal"),Vl=(new de({caller:"LoginModal"}),(0,i.memo)((({})=>{ql(Wl);const{showOverlay:e,isOverlayVisible:t}=hs(),[a,n]=(0,i.useState)(!1),[o,s]=(0,i.useState)(void 0),r=t(Wl);i.useEffect((()=>{r||l()}),[r]);const l=i.useCallback((()=>{n(!1),s(o)}),[]),c=(0,i.useCallback)((e=>{n(!0),s(e)}),[n]),d=(0,i.useCallback)((()=>{e(Wl,!1),e(Yl,!0)}),[e]);return i.createElement(tr,{id:Wl},i.createElement(Js,null,!a&&i.createElement(al,{type:jt.Login,buttonLabel:"Login",before:i.createElement("div",{className:"message"},i.createElement("h2",null,"Welcome Back"),i.createElement("p",null,"We'll email you a login link. ",i.createElement("br",null))),footer:i.createElement(Ws,{noBorder:!0},i.createElement(Vs,{gap:12,fullWidth:!0},i.createElement("p",null,"Don't have an account yet?"," ",i.createElement("a",{href:"#",onClick:d},"Sign Up.")))),onEmailSent:c}),a&&i.createElement(nl,{email:null!=o?o:""})))})));Vl.displayName="LoginModal";const $l=(0,i.memo)((({email:e})=>i.createElement("div",{className:"success-panel"},i.createElement(Ws,null,i.createElement(Qs,null,i.createElement("div",{className:"message"},i.createElement("h2",{className:"with-margin"},"Check Your Email"),i.createElement("p",null,"We've just sent an email with a login link to ",i.createElement("span",{className:"email"},e),"."),i.createElement("p",null,"See you soon ",i.createElement("span",{style:{fontSize:18}},""))))),Ne.tq&&i.createElement(Ws,{style:{padding:20}},i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",{className:"fine-print"},"If you're on a phone, open the login link in a ",i.createElement("strong",null,"new browser"),", not the in-app browser."),i.createElement("p",{className:"fine-print"},"Do this by long-holding or copying the link."))))));$l.displayName="SignUpModalSuccessPanel";const Yl=S("sign-up-modal"),Xl=(new de({caller:"SignUpModal"}),(0,i.memo)((({})=>{ql(Yl);const{showOverlay:e,isOverlayVisible:t}=hs(),[a,n]=(0,i.useState)(!1),[o,s]=(0,i.useState)(void 0),r=t(Yl);i.useEffect((()=>{r||l()}),[r]);const l=i.useCallback((()=>{n(!1),s(o)}),[]),c=(0,i.useCallback)((e=>{n(!0),s(e)}),[n]),d=(0,i.useCallback)((()=>{e(Wl,!0),e(Yl,!1)}),[e]);return i.createElement(tr,{id:Yl},i.createElement(Js,null,!a&&i.createElement(al,{type:jt.SignUp,buttonLabel:"Sign Up",before:i.createElement("div",{className:"message"},i.createElement("h2",null,"Join Us"),i.createElement("p",null,"We'll email you a link to sign up. ",i.createElement("br",null)," No password required.")),footer:i.createElement(Ws,{noBorder:!0},i.createElement(Vs,{gap:12,fullWidth:!0},i.createElement("p",null,"Already have an account?"," ",i.createElement("a",{href:"#",onClick:d},"Login.")))),onEmailSent:c}),a&&i.createElement($l,{email:null!=o?o:""})))})));var Kl;Xl.displayName="SignUpModal",function(e){e.Uninitialized="uninitialized",e.UsingCachedAccount="using_cached_account",e.LoggedIn="logged_in",e.LoggedOut="logged_out"}(Kl||(Kl={}));const Zl={account:void 0,status:Kl.Uninitialized,site:void 0,sitePages:[],sitePagesLoaded:!1},Jl=new de({caller:"UserCommands"});function Ql(e,t,a){return Jl.info("Account loaded",{account:t}),a?Object.assign(Object.assign({},e),{account:t,status:Kl.UsingCachedAccount}):Object.assign(Object.assign({},e),{account:t,status:Kl.LoggedIn})}function ec(e,t){return Object.assign(Object.assign({},e),{sitePages:t,sitePagesLoaded:!0})}function tc(e){return e.user.account}function ac(e){return e.user.status}const nc=S("upgrade-modal"),ic=(0,i.memo)((({onBeforeRedirect:e=(()=>{}),onCancelClick:t,selectedPlan:a=wt.ProMonthly})=>{ql(nc);const n=ol().useStore(tc),{isOverlayVisible:o,showOverlay:s}=hs(),l=o(nc);(0,i.useEffect)((()=>{l&&w({event:"upgrade-modal-shown",location:"global"})}),[l]);const[c,d]=(0,i.useState)(a),[u,m]=(0,i.useState)(!1),g=i.useCallback((()=>{t()}),[t]),h=i.useCallback((()=>{s(nc,!1),s(Yl)}),[s]),f=i.useCallback((()=>{return t=void 0,a=void 0,i=function*(){w({event:"clicked-checkout-button-in-upgrade-modal",location:"upgrade-modal"}),e(),m(!0);const[t,a]=yield(n={plan:c,clientReferenceId:window.Rewardful&&window.Rewardful.referral||"checkout_"+(new Date).getTime()},fr(void 0,void 0,void 0,(function*(){try{return[(yield yr.post("/payment/checkout/session",n)).data,void 0]}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),a.trim(),(0,r.Am)(lr),[void 0,new Error(a)]}})));var n;if(void 0===t||void 0!==a)return void m(!1);const{sessionID:i}=t,o=yield(0,Ks.loadStripe)(p.stripe.clientKey);null!==o?o.redirectToCheckout({sessionId:i}):ue.error("Stripe did not initialize correctly")},new((n=void 0)||(n=Promise))((function(e,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function r(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(s,r)}l((i=i.apply(t,a||[])).next())}));var t,a,n,i}),[e,c,n]),b=i.useMemo((()=>{switch(c){case wt.SupporterMonthly:case wt.SupporterYearly:return"Upgrade to Mini";case wt.PlusMonthly:case wt.PlusYearly:return"Upgrade to Plus";case wt.ProMonthly:case wt.ProYearly:return"Upgrade to Pro"}}),[c]),y=i.useMemo((()=>{switch(c){case wt.SupporterMonthly:case wt.SupporterYearly:return os()("proceed-to-checkout-button","mini-plan");case wt.PlusMonthly:case wt.PlusYearly:return os()("proceed-to-checkout-button","plus-plan");case wt.ProMonthly:case wt.ProYearly:return os()("proceed-to-checkout-button","pro-plan")}}),[c]);return i.createElement(tr,{id:nc},i.createElement(Js,{width:"full",style:{"--max-card-width":"1000px"}},i.createElement(Ws,{style:{width:"100%",paddingTop:48,paddingBottom:0},noBorder:!0},i.createElement(Qs,{gap:12},i.createElement(Xs,{onValueChange:d}))),i.createElement(Ws,{style:{columnGap:8,justifyContent:"center",paddingBottom:8,paddingTop:0},noBorder:!0,noPadding:!0},n&&i.createElement(Zs,{className:y,size:"large",label:b,loading:u,onClick:f}),void 0===n&&i.createElement(Zs,{className:y,size:"large",loading:u,onClick:h},"Sign Up"),i.createElement(Zs,{size:"large",vibe:"secondary",label:"Cancel",onClick:g})),i.createElement(Ws,{style:{justifyContent:"center",paddingBottom:24},noPadding:!0},i.createElement("p",{className:"fine-print"},"Payment processed by Stripe."))))}));var oc=a(91809);const sc=a.n(oc)()((({message:e,eventName:t,noSfx:a=!0})=>{w({event:"show-upgrade-toast",message:t,location:"upgrade-toast"}),!1===a&&Hs.play("denied"),(0,r.Am)(i.createElement(rc,{message:e,eventName:t}),{autoClose:7e3,pauseOnHover:!0})}),1e3,{leading:!0}),rc=({message:e,eventName:t,location:a})=>{const n=ol().useStore(ac),{showOverlay:o}=hs(),s=i.useCallback((()=>{n===Kl.LoggedIn?(w({event:"opened-upgrade-modal",message:t,location:"upgrade-toast"}),o(nc)):o(Wl)}),[o]);return i.createElement(Vs,{gap:16},e,i.createElement(Zs,{onClick:s,size:"small",style:{marginRight:-10},options:{theme:"dark"}},n===Kl.LoggedIn?"Upgrade":"Login"))},lc={accountID:28982,createdAt:"2023-04-17T20:36:13.167605Z",ID:-2,isDisabled:!1,isPublic:!0,relativeHeight:1.7777777777777777,settings:{description:"Wouldnt you want a digital medium with the expressive ease of paper?",editorVersion:"0.5.3",referenceWidth:750,title:"An Internet Canvas"},site:{accountID:28982,ID:27633,isPublic:!0,ownerRoles:["pro"],settings:{},slug:"notes"},slug:"paper",style:{backgroundColor:"#ffffff"},things:[{altText:null,content:{groupDisplay:"freeform",groupOrder:4},ID:758222,locked:!1,position:{height:3504.6539600636306,rotationDeg:0,width:750,x:0,y:61.693359375,zIndex:49850},properties:{htmlId:"ideals"},source:null,styles:{},type:"group"},{altText:null,content:{groupDisplay:"freeform",groupOrder:7},ID:760779,locked:!1,position:{height:1234.7963667839902,rotationDeg:0,width:750,x:0,y:0,zIndex:49805},properties:{htmlId:"conclusion"},source:null,styles:{},type:"group"},{altText:null,content:{groupDisplay:"freeform",groupOrder:0},ID:758217,locked:!1,position:{height:546.7927365097037,rotationDeg:0,width:750,x:0,y:145.966796875,zIndex:49855},properties:{htmlId:"header"},source:null,styles:{background:"rgba(244, 243, 236, 1)"},type:"group"},{altText:null,content:{groupDisplay:"freeform",groupOrder:5},ID:760778,locked:!1,position:{height:1095.3475264646622,rotationDeg:0,width:750,x:0,y:421.11328125,zIndex:49810},properties:{htmlId:"bonus-ideal"},source:null,styles:{},type:"group"},{altText:null,content:{groupDisplay:"freeform",groupOrder:2},ID:760035,locked:!1,position:{height:525.5703125,rotationDeg:0,width:750,x:0,y:162.78515625,zIndex:49845},properties:{htmlId:"preface"},source:null,styles:{},type:"group"},{altText:null,content:{groupDisplay:"freeform",groupOrder:6},ID:760780,locked:!1,position:{height:73.73046875,rotationDeg:0,width:750,x:0,y:-63.134765625,zIndex:49820},properties:{htmlId:"divider-3"},source:null,styles:{},type:"group"},{altText:null,content:{groupDisplay:"freeform",groupOrder:3},ID:760776,locked:!1,position:{height:236.1875,rotationDeg:0,width:750,x:0,y:18.09375,zIndex:49815},properties:{htmlId:"divider-1"},source:null,styles:{},type:"group"},{altText:null,content:{groupDisplay:"freeform",groupOrder:1},ID:760975,locked:!1,position:{height:343.21875,rotationDeg:0,width:750,x:0,y:71.609375,zIndex:49795},properties:{htmlId:"section-61719"},source:null,styles:{background:"rgba(251, 245, 245, 1)"},type:"group"},{altText:null,content:{URL:"https://asset.mmm.page/c9/6cc10f90c1476aa228d1d9a27c9a96/1yqyzj7.png"},ID:760831,locked:!1,parentId:760778,position:{height:244,rotationDeg:0,width:244,x:-184.173828125,y:65.12096396466222,zIndex:50155},properties:{htmlId:"image-55739"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/53/ed3b17ec2c4e848aaa32f746de0e30/1yqyzj7.png"},ID:760830,locked:!1,parentId:760778,position:{height:261,rotationDeg:0,width:261,x:887.017578125,y:76.958984375,zIndex:50150},properties:{htmlId:"image-16646"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/39/b2df59cf23477ea9da1ee3db087222/pdhn53.png"},ID:760073,locked:!1,parentId:758217,position:{height:308.4290625,rotationDeg:0,width:431.7316104423292,x:-215.3607572788354,y:133.00390625,zIndex:49905},properties:{htmlId:"image-73056"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/46/35b15c2f0c4266aabedca8867a5ce0/rb9hag.jpg"},ID:760075,locked:!0,parentId:758217,position:{height:548.3140625000001,rotationDeg:0,width:954.4262235775216,x:-10.185325711239216,y:273.659375,zIndex:49835},properties:{htmlId:"image-97647"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/a9/8d9b17d5b94427ae4eab80d732500e/1g5x1a.png"},ID:760110,locked:!1,parentId:758217,position:{height:302.921875,rotationDeg:0,width:302.921875,x:932.109375,y:150.96328124999997,zIndex:49985},properties:{htmlId:"image-08239"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/46/35b15c2f0c4266aabedca8867a5ce0/rb9hag.jpg"},ID:760076,locked:!0,parentId:758217,position:{height:548.3140625000001,rotationDeg:0,width:-1147.4526826724782,x:1029.7541274137607,y:273.659375,zIndex:49830},properties:{htmlId:"image-97647"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/42/6a40329b134002bfc3f3d5180cd9a0/7e9ocx.png"},ID:760521,locked:!1,parentId:760776,position:{height:196.27734375,rotationDeg:24.24291331364249,width:348.9375,x:375,y:124.80798089298264,zIndex:50005},properties:{htmlId:"image-31145"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Anyway."}]},{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"}},{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Right now Im translating these loosey-goosey ideals into real tools that are fun to use, feel "},{"type":"text","marks":[{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"good"},{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":", & create the conditions for people to make internet canvases. As it turns out, its a lot of work"}]},{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"}},{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Feel free to reach out if you have ideas."}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760683,locked:!1,parentId:760779,position:{height:324.78125,rotationDeg:0,width:656,x:375,y:199.42106315368983,zIndex:50070},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"right"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"1"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760088,locked:!1,parentId:758222,position:{height:40,rotationDeg:0,width:39.984375,x:35.85937499999994,y:60.76865952568198,zIndex:49940},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Intuitive as paper. "},{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"It shouldnt require a manual or tutorial. Poke around. No coding knowledge required."}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760087,locked:!1,parentId:758222,position:{height:120,rotationDeg:0,width:644.97265625,x:400.583984375,y:100.76865952568204,zIndex:49935},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Let people pop the hood. "},{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Peek underneath. Shouldnt you be able to view source and see how websites are made? Like this page itself? "}]},{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"}},{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Like this spur-of-the-moment moodboard?"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760744,locked:!1,parentId:760778,position:{height:185,rotationDeg:0,width:644.97265625,x:406.115234375,y:137.62096396466222,zIndex:50090},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"right"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"+"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760745,locked:!1,parentId:760778,position:{height:40,rotationDeg:0,width:39.984375,x:41.390625,y:65.12096396466222,zIndex:50095},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Websites are the most expressive medium I know, but theyre used today in such a tiny narrow way. "}]},{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"}},{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"The thing is, they could be like "},{"type":"text","marks":[{"type":"italic"},{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"digital paper"},{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":": back-of-napkin notes, moodboards, journaling, letters, toy apps, lists, sprawling canvases."}]},{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"}},{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Something with the ease of paper, but the expressiveness and capabilities of software."}]},{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"}},{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Here are a few ideals "}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760519,locked:!1,parentId:760035,position:{height:442.375,rotationDeg:0,width:656,x:375.39042354947435,y:274.5967519565154,zIndex:5e4},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/48/b957074408427ab0eebafdcf41233b/1yjkk45.png"},ID:760074,locked:!1,parentId:758217,position:{height:101.39044728133382,rotationDeg:0,width:141.1467943591654,x:256.13700098504864,y:107.0674757871696,zIndex:49910},properties:{htmlId:"image-92717"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"I started "},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://mmm.page","target":"_blank","class":null}},{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"mmm.page"},{"type":"text","marks":[{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":" two years ago. This is an early draft of my long-term vision for "},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://mmm.page","target":"_blank","class":null}},{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"mmm.page"},{"type":"text","marks":[{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"."}]},{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"}},{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Also, so Im walking the walk, this page is fully editable. "},{"type":"text","marks":[{"type":"italic"},{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Read once normal, then try editing it."}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760976,locked:!1,parentId:760975,position:{height:207.1875,rotationDeg:0,width:656,x:375.39042354947435,y:165.63774774356227,zIndex:50190},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{images:{default:{height:268,mp4:{size:38650,URL:"https://media4.giphy.com/media/gizZvICXsQn2g6JajG/giphy.mp4?cid=4fcb451ekniu9x2qo61bi8g8qommzpp35bpz4awj8rh0cfon&rid=giphy.mp4&ct=s"},size:32949,URL:"https://media4.giphy.com/media/gizZvICXsQn2g6JajG/giphy.gif?cid=4fcb451ekniu9x2qo61bi8g8qommzpp35bpz4awj8rh0cfon&rid=giphy.gif&ct=s",webp:{size:43568,URL:"https://media4.giphy.com/media/gizZvICXsQn2g6JajG/giphy.webp?cid=4fcb451ekniu9x2qo61bi8g8qommzpp35bpz4awj8rh0cfon&rid=giphy.webp&ct=s"},width:480},fixedWidth:{height:112,mp4:{size:13654,URL:"https://media4.giphy.com/media/gizZvICXsQn2g6JajG/200w.mp4?cid=4fcb451ekniu9x2qo61bi8g8qommzpp35bpz4awj8rh0cfon&rid=200w.mp4&ct=s"},size:11039,URL:"https://media4.giphy.com/media/gizZvICXsQn2g6JajG/200w.gif?cid=4fcb451ekniu9x2qo61bi8g8qommzpp35bpz4awj8rh0cfon&rid=200w.gif&ct=s",webp:{size:23274,URL:"https://media4.giphy.com/media/gizZvICXsQn2g6JajG/200w.webp?cid=4fcb451ekniu9x2qo61bi8g8qommzpp35bpz4awj8rh0cfon&rid=200w.webp&ct=s"},width:200},fixedWidthSmall:{height:56,mp4:{size:6600,URL:"https://media4.giphy.com/media/gizZvICXsQn2g6JajG/100w.mp4?cid=4fcb451ekniu9x2qo61bi8g8qommzpp35bpz4awj8rh0cfon&rid=100w.mp4&ct=s"},size:4735,URL:"https://media4.giphy.com/media/gizZvICXsQn2g6JajG/100w.gif?cid=4fcb451ekniu9x2qo61bi8g8qommzpp35bpz4awj8rh0cfon&rid=100w.gif&ct=s",webp:{size:11510,URL:"https://media4.giphy.com/media/gizZvICXsQn2g6JajG/100w.webp?cid=4fcb451ekniu9x2qo61bi8g8qommzpp35bpz4awj8rh0cfon&rid=100w.webp&ct=s"},width:100},optimized:{height:268,mp4:null,size:32949,URL:"https://media4.giphy.com/media/gizZvICXsQn2g6JajG/giphy.gif?cid=4fcb451ekniu9x2qo61bi8g8qommzpp35bpz4awj8rh0cfon&rid=giphy.gif&ct=s",webp:null,width:480},preview:{height:268,mp4:{size:null,URL:""},size:45673,URL:"https://media4.giphy.com/media/gizZvICXsQn2g6JajG/giphy-preview.gif?cid=4fcb451ekniu9x2qo61bi8g8qommzpp35bpz4awj8rh0cfon&rid=giphy-preview.gif&ct=s",webp:{size:43568,URL:"https://media4.giphy.com/media/gizZvICXsQn2g6JajG/giphy-preview.webp?cid=4fcb451ekniu9x2qo61bi8g8qommzpp35bpz4awj8rh0cfon&rid=giphy-preview.webp&ct=s"},width:480}}},ID:760034,locked:!1,parentId:758217,position:{height:73.54381510416665,rotationDeg:0,width:131.72026585820896,x:584.7020325933472,y:153.64169089474413,zIndex:49870},properties:{htmlId:"gif-41931"},source:{metadata:{giphyURL:"https://giphy.com/embed/gizZvICXsQn2g6JajG"},name:"Nina Cosford",URL:"https://giphy.com/embed/gizZvICXsQn2g6JajG"},styles:{overflow:"hidden"},type:"gif"},{altText:null,content:{URL:"https://asset.mmm.page/d2/4b13183fb141f2b01cce2c8dd3cb6a/1l7d0ec.png"},ID:760536,locked:!1,parentId:758222,position:{height:187.002685546875,rotationDeg:-1.892785964307763,width:332.44921875,x:451.818359375,y:223.5957626058493,zIndex:50010},properties:{htmlId:"image-74191"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgba(0, 0, 0, 0.64)","fontSize":32,"font":"arial"}}],"text":"April 2023"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760066,locked:!1,parentId:758217,position:{height:40,rotationDeg:0,width:176.4609375,x:132.23046875,y:153.6416908947441,zIndex:49875},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/bf/464fb2ee744ec5a04036bf98de0710/1yqyzj7.png"},ID:760832,locked:!1,parentId:760778,position:{height:271.216796875,rotationDeg:0,width:271.216796875,x:990.5718447403169,y:296.3934249021622,zIndex:50160},properties:{htmlId:"image-66369"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/c2/7dfdd497644f3ea9b71b6a694a015e/1yqyzj7.png"},ID:760825,locked:!1,parentId:760778,position:{height:495.94140625,rotationDeg:0,width:311.6165169270833,x:-279.8011165364584,y:442.1787636469562,zIndex:50130},properties:{htmlId:"image-72585"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":72,"font":"times-new-roman"}}],"text":"An Internet Canvas"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:758219,locked:!1,parentId:758217,position:{height:90,rotationDeg:0,width:652.5234375,x:370.26171874999994,y:239.85914275970367,zIndex:49860},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{drawingHeight:54,drawingPaths:"W1tbWzAsMF0syQYxXSxbMSwyxQYzzwYyxww0ywbMEsoqMMtCMMcYxBLGGMxmxgzGfjHLDMgG0BIxzR7KEswGMCwtxmHGE8cNzgfNKMUH1Q7JB8sw0BTmAMfMGy3HRcgIyhfNR+wAys4hygbNE8tY0SLUFN8N0wbfH/IBkNkxLfQBzsgGXSxbIiMxxQEiLDYuNCwwLjXEFVtbMzksM+YBUdJ2zAbKGMxo6AHz9gJU7ACr8gI2zAbeJP4Ciu0CfvUB7N8Z0x/fRdgT6gKAyxv1AlLJDs0b3xTfItci0gbRH/oCHzY2LDLkBG3yAonUBv8B+8sS7AQw3DDfJNkS6wFl/wI4/wHm2g3xAcvyBK3RI8tF9gR8/wRv3xvfMMk2/wHM0QbIMPoCKDExOCw0NtU//gMV/wFR3g7cCOoE1dEeMtY29wZN8QGW3z3dCP8A//8EXs0a0SDaBtkl3nHMcO0Hyc0NMtoT0AbUV8x83hL4AMXMGOoAhN4k3gzpAyP3AX31A0PtAdjQBv8IIdVA3k37A4w2NSwxxQzYITgxLDEz3UI3LDP4AY34AiDQJNIeyBLYHsoYzjDEBjLXHtgw2n7nAqjsA4/tAtbvAwPLDcQG9gE1XQ==",drawingWidth:196},ID:760547,locked:!1,parentId:758222,position:{height:54,rotationDeg:-1.892785964307763,width:196,x:450.8834071978207,y:232.14436925039843,zIndex:50015},properties:{htmlId:"drawing-19461"},source:null,styles:{overflow:"hidden"},type:"drawing"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgba(0, 0, 0, 0.64)","fontSize":32,"font":"times-new-roman"}}],"text":"Wouldnt you want a digital medium with the expressive ease of paper?"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:758223,locked:!1,parentId:758217,position:{height:80,rotationDeg:0,width:656,x:370.26171875,y:329.2888302597037,zIndex:49865},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/ce/14b8c0d3084d5aabff4cf3acfb8f2b/urf5qg.gif"},ID:760834,locked:!1,parentId:760778,position:{height:393.167701863354,rotationDeg:0,width:600,x:531.611328125,y:503.7150315151275,zIndex:50170},properties:{htmlId:"image-57351"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/80/72150ea190473d88c575f49f4eabbe/cop0xx.png"},ID:760072,locked:!1,parentId:758217,position:{height:231.6346717929956,rotationDeg:0,width:163.93116629464288,x:651.2423088210259,y:431.9990703535022,zIndex:49840},properties:{htmlId:"image-47659"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/1a/111ad8c6ee4a82a84c78c3cf43e56c/mmz8ml.jpg"},ID:760826,locked:!1,parentId:760778,position:{height:275.85156250000006,rotationDeg:0,width:275.85156250000006,x:62.953124999999986,y:461.65136879984857,zIndex:50185},properties:{htmlId:"image-39090"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"right"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"2"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760090,locked:!1,parentId:758222,position:{height:40,rotationDeg:0,width:39.984375,x:36.65234374999987,y:356.76865952568244,zIndex:49950},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Genuinely mixed media. "},{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Add anything you want: images, text, videos. Embed services too: maps, music, IDEs, iFrames of other websites. Even draw directly on it. "}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760089,locked:!1,parentId:758222,position:{height:160,rotationDeg:0,width:644.97265625,x:401.37695312499994,y:416.76865952568255,zIndex:49945},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgba(0, 0, 0, 0.64)","fontSize":32,"font":"courier-prime"}}],"text":"paper.mmm.dev"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760769,locked:!1,parentId:758217,position:{height:40,rotationDeg:0,width:263.58203125,x:174.05273437499997,y:420.7041908947441,zIndex:50105},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/17/28aa32e43941ccb794f41b7221e1ef/1yqyzj7.png"},ID:760833,locked:!1,parentId:760778,position:{height:405.33333333333337,rotationDeg:0,width:304,x:1001.53125,y:625.9184900063292,zIndex:50165},properties:{htmlId:"image-35219"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/86/d1a21be4394055b5ba0d01e7d8d172/1chjc3s.png"},ID:760070,locked:!0,parentId:758217,position:{height:189.486228125,rotationDeg:0,width:265.23828125,x:-48.157342406652674,y:519.1686630722037,zIndex:49895},properties:{htmlId:"image-08715"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/86/d1a21be4394055b5ba0d01e7d8d172/1chjc3s.png"},ID:760071,locked:!0,parentId:758217,position:{height:189.486228125,rotationDeg:0,width:265.23828125,x:798.1573424066527,y:519.1686630722037,zIndex:49900},properties:{htmlId:"image-08715"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/86/d1a21be4394055b5ba0d01e7d8d172/1chjc3s.png"},ID:760079,locked:!0,parentId:758217,position:{height:189.486228125,rotationDeg:0,width:265.23828125,x:1006.6304828313542,y:519.1686630722037,zIndex:49925},properties:{htmlId:"image-08715"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/86/d1a21be4394055b5ba0d01e7d8d172/1chjc3s.png"},ID:760078,locked:!0,parentId:758217,position:{height:189.486228125,rotationDeg:0,width:265.23828125,x:-457.5969227258104,y:519.1686630722037,zIndex:49920},properties:{htmlId:"image-08715"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/86/d1a21be4394055b5ba0d01e7d8d172/1chjc3s.png"},ID:760077,locked:!0,parentId:758217,position:{height:189.486228125,rotationDeg:0,width:265.23828125,x:-260.040657052881,y:519.1686630722037,zIndex:49915},properties:{htmlId:"image-08715"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/86/d1a21be4394055b5ba0d01e7d8d172/1chjc3s.png"},ID:760068,locked:!0,parentId:758217,position:{height:189.486228125,rotationDeg:0,width:265.23828125,x:375.39042354947435,y:519.1686630722037,zIndex:49885},properties:{htmlId:"image-08715"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/86/d1a21be4394055b5ba0d01e7d8d172/1chjc3s.png"},ID:760067,locked:!0,parentId:758217,position:{height:189.486228125,rotationDeg:0,width:265.23828125,x:584.7020325933472,y:519.1686630722037,zIndex:49880},properties:{htmlId:"image-08715"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/86/d1a21be4394055b5ba0d01e7d8d172/1chjc3s.png"},ID:760069,locked:!0,parentId:758217,position:{height:189.486228125,rotationDeg:0,width:265.23828125,x:164.81475319437868,y:519.1686630722037,zIndex:49890},properties:{htmlId:"image-08715"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/86/d1a21be4394055b5ba0d01e7d8d172/1chjc3s.png"},ID:760080,locked:!0,parentId:758217,position:{height:189.486228125,rotationDeg:0,width:265.23828125,x:1218.8393961368047,y:519.1686630722037,zIndex:49930},properties:{htmlId:"image-08715"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/5b/95a9e8fcb64a14827faae8919192ba/1kqu8wg.png"},ID:760730,locked:!1,parentId:760779,position:{height:77.86328125,rotationDeg:0,width:77.86328125,x:279.1634284738077,y:470.5025844138354,zIndex:50085},properties:{htmlId:"image-07484",hyperlink:"https://build.mmm.page",hyperlinkTarget:"_parent"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"lato"}}],"text":"mmm.page"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:762070,locked:!1,parentId:760779,position:{height:44.796875,rotationDeg:0,width:168.7734375,x:425.3814934011922,y:470.50258441383517,zIndex:50195},properties:{htmlId:"text-78654",hyperlink:"https://mmm.page",hyperlinkTarget:"_parent"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/f4/ece754562b4400ac55a99d5f62920e/1q97eg7.png"},ID:760835,locked:!1,parentId:760778,position:{height:154.29973074764018,rotationDeg:4.416325389831043,width:154.29973074764018,x:752.3935703922276,y:574.9324218981333,zIndex:50175},properties:{htmlId:"image-68606"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/0e/e9560f31a744c1801391c90b091f18/1jyi9qe.png"},ID:760550,locked:!1,parentId:758222,position:{height:108.224609375,rotationDeg:-21.028628083764577,width:216.44921875,x:245.638671875,y:600.3853100640744,zIndex:50030},properties:{htmlId:"image-87904"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":61.15739518123838,"font":"lato"}}],"text":""}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760552,locked:!1,parentId:758222,position:{height:76.44674397654796,rotationDeg:0,width:65.45278508271728,x:546.6248300413586,y:630.8205961148484,zIndex:50040},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{youtubeID:"Y3zuLNlO6hQ"},ID:760548,locked:!1,parentId:758222,position:{height:219.03943498515224,rotationDeg:-3.62223267037731,width:295.357135865857,x:384.24497418292833,y:714.2115042898138,zIndex:50020},properties:{htmlId:"youtube-36723"},source:null,styles:{borderRadius:16,overflow:"hidden"},type:"youtube"},{altText:null,content:{URL:"https://asset.mmm.page/48/99ec3d4f164ba59aa676c36e690564/1iov7t1.jpg"},ID:760836,locked:!1,parentId:760778,position:{height:339.4296875,rotationDeg:0,width:226.28645833333331,x:50.13541666666666,y:812.8262261968057,zIndex:50180},properties:{htmlId:"image-74778"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{richButtonColor:"#1DA1F2",richButtonIcon:{icon:"fab-twitter",placement:"left"},richButtonText:{align:"center",bold:!1,color:"white",font:"lato",size:28.220000000000002,text:"twitter.com/xhfloz"},richButtonTextHidden:!1},ID:760696,locked:!1,parentId:760779,position:{height:83,rotationDeg:0,width:83,x:427.810546875,y:716.8463344138354,zIndex:50080},properties:{hyperlink:"https://twitter.com/xhfloz"},source:null,styles:{borderRadius:8},type:"rich-button"},{altText:null,content:{richButtonColor:"rgba(0, 0, 0, 1)",richButtonIcon:{icon:"fas-envelope",placement:"left"},richButtonText:{align:"center",bold:!1,color:"#fff",font:"lato",size:28.220000000000002,text:"xh@mmm.page"},richButtonTextHidden:!1},ID:760695,locked:!1,parentId:760779,position:{height:83,rotationDeg:0,width:83,x:322.189453125,y:716.8463344138354,zIndex:50075},properties:{hyperlink:"mailto:xh@mmm.page"},source:null,styles:{borderRadius:8},type:"rich-button"},{altText:null,content:{URL:"https://asset.mmm.page/fe/1bfa3e820c47eeb6bf4066c4b6577f/1yqyzj7.png"},ID:760824,locked:!1,parentId:760778,position:{height:374.1593343251519,rotationDeg:0,width:268.0544484717506,x:675.1446449448306,y:898.6480808593808,zIndex:50125},properties:{htmlId:"image-32385"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/dc/9a81a237524c0297451f6cb77fa88a/1pkxhu7.jpg"},ID:760828,locked:!1,parentId:760778,position:{height:310.96829986572266,rotationDeg:0,width:465.203125,x:-314.99609375,y:883.168619791667,zIndex:50140},properties:{htmlId:"image-62389"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/c5/b617b1427948cfbe2fef49c04ba2c7/jtxfvn.png"},ID:760549,locked:!1,parentId:758222,position:{height:133.1442103963955,rotationDeg:0,width:133.1442103963955,x:-139.09195730180238,y:828.8830280205141,zIndex:50025},properties:{htmlId:"image-80120"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/0e/e9560f31a744c1801391c90b091f18/1jyi9qe.png"},ID:760551,locked:!1,parentId:758222,position:{height:108.224609375,rotationDeg:-21.028628083764577,width:216.44921875,x:531.9919974095038,y:826.6403006759084,zIndex:50035},properties:{htmlId:"image-87904"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/aa/48c3b947e04878a5aa088b954753fc/2te8e0.jpg"},ID:760829,locked:!1,parentId:760778,position:{height:272.74218750000006,rotationDeg:0,width:328.9611307420495,x:348.19935533793046,y:932.7598199468048,zIndex:50145},properties:{htmlId:"image-50243"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.4,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgba(0, 0, 0, 0.58)","fontSize":"24","font":"times-new-roman"}}],"text":"P.S. Sorry if this page downloads too many files. I havent gotten around to the performance/bundle optimization part of the project yet"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760755,locked:!1,parentId:760779,position:{height:100.78125,rotationDeg:0,width:507.33984375000006,x:375,y:894.3574615255484,zIndex:50100},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/22/a72ed4936749d08bf575fd9bd42b74/1w0coon.jpg"},ID:760827,locked:!1,parentId:760778,position:{height:193.3046875,rotationDeg:0,width:278.7943661971831,x:985.4543794014085,y:989.0754042719564,zIndex:50135},properties:{htmlId:"image-57865"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"right"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"3"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760105,locked:!1,parentId:758222,position:{height:40,rotationDeg:0,width:39.984375,x:36.6523437499996,y:959.9835032756816,zIndex:49960},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Easy to reference. "},{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"The URL is the pointer. Short and memorable. Let people name pages within their namespace so it becomes a portable handle."}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760104,locked:!1,parentId:758222,position:{height:120,rotationDeg:0,width:644.97265625,x:401.37695312499966,y:999.9835032756819,zIndex:49955},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":20,"font":"roboto-mono"}}],"text":"Why are you spending so much time making a website builder?"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760609,locked:!1,parentId:758222,position:{height:76.5,rotationDeg:0,width:302.87109375,x:248.00695691737747,y:1138.461772567305,zIndex:50045},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{shapeColor:"rgba(255, 255, 255, 1)",shapeType:"rectangle"},ID:762071,locked:!1,parentId:760779,position:{height:37.625,rotationDeg:0,width:37.625,x:375,y:1167.9838667839902,zIndex:50200},properties:{htmlId:"shape-25420"},source:null,styles:{overflow:"hidden"},type:"shape"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"right"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":20,"font":"roboto-mono"}}],"text":"Uh well, I put some thoughts down at notes.mmm.page/paper"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760610,locked:!1,parentId:758222,position:{height:76.5,rotationDeg:0,width:260.10546875,x:551.4373300413583,y:1209.137553817305,zIndex:50050},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"right"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"4"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760451,locked:!1,parentId:758222,position:{height:40,rotationDeg:0,width:39.984375,x:36.65234374999973,y:1343.6827220256819,zIndex:49995},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Flexible for any use. "},{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"It should feel natural for a wide variety of uses. The medium itself shouldnt "},{"type":"text","marks":[{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"imply"},{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":" any use. E.g., the same 8.511 can be a handwritten note, or a flyer, or scratch paper. "}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760450,locked:!1,parentId:758222,position:{height:160,rotationDeg:0,width:644.97265625,x:401.37695312499983,y:1403.682722025682,zIndex:49990},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/a2/7625db617342fd8eac5e568c5824ab/1xlhlnh.png"},ID:760642,locked:!1,parentId:758222,position:{height:258.18359375,rotationDeg:8.99376417605854,width:301.89453125,x:603.130859375,y:1641.8959335042864,zIndex:50060},properties:{htmlId:"image-98860"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/b9/812a5a47c74d399e9799772a17849b/1wewf8d.jpg"},ID:760643,locked:!1,parentId:758222,position:{height:297.98633605327495,rotationDeg:-8.709657387053948,width:197.81565211524284,x:176.97344237857533,y:1685.3685897542864,zIndex:50055},properties:{htmlId:"image-02881"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/be/900113ca164e40a8ef6637f8f927ad/1opcvqu.jpg"},ID:760645,locked:!1,parentId:758222,position:{height:190.28125,rotationDeg:0,width:152.225,x:373.4148535071509,y:1646.2924178792862,zIndex:49825},properties:{htmlId:"image-17528"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/41/0cbbd5e19c4668b3d71dde2f57a851/91gsu8.png"},ID:760644,locked:!1,parentId:758222,position:{height:204.08333333333334,rotationDeg:7.806079344060118,width:306.125,x:388.7441406249998,y:1816.4030949626197,zIndex:50065},properties:{htmlId:"image-54945"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"right"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"5"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760107,locked:!1,parentId:758222,position:{height:40,rotationDeg:0,width:39.984375,x:36.65234374999953,y:2008.2726760444207,zIndex:49970},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Preservable and lasting. "},{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Serious art requires serious labor, but why spend years on something if its not guaranteed to last? Link rot, dead embeds, broken dependencies, etc."}]},{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"}},{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Ideal: ability to export the entire file as a single .html. Inline styles, scripts, images, assets, even localized copies of tweets, YouTube videos, etc. And it needs to be "},{"type":"text","marks":[{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"easy"},{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":" to do so, not just "},{"type":"text","marks":[{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"possible"},{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"."}]},{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"}},{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Also, dont invent a new set of protocols. Rely on web technologies: imperfect, but inertial."}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760106,locked:!1,parentId:758222,position:{height:450,rotationDeg:0,width:644.97265625,x:401.3769531249996,y:2213.272676044421,zIndex:49965},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/e5/5864cc6c4044838aafa8975ee8b561/1yqyzj7.png"},ID:760781,locked:!1,parentId:758222,position:{height:236.3155517578125,rotationDeg:0,width:184.44140625,x:249.86132812499955,y:2613.7642681921816,zIndex:50110},properties:{htmlId:"image-37572",hyperlink:"https://twitter.com/xhfloz/status/1528071107181420545",hyperlinkTarget:"_parent"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":28,"font":"times-new-roman"}}],"text":"\\"PICO-8 cartridges can be saved in a special .png format and sent directly to other users.\\""}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760782,locked:!1,parentId:758222,position:{height:140,rotationDeg:0,width:280.08203125,x:518.8847656249994,y:2661.9220440710883,zIndex:50115},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"right"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"6"}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760109,locked:!1,parentId:758222,position:{height:40,rotationDeg:0,width:39.984375,x:36.65234374999953,y:2830.8195510444207,zIndex:49980},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Interactive and dynamic. "},{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Every block has properties. A small library that handles reactive state. Script using Javascript with live reloading."}]},{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"}},{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":32,"font":"times-new-roman"}}],"text":"Something like a Flash/HyperCard/Visual Basic lite. Easier said than done, of course."}]}]}',fontSize:18,isBold:!1,isItalic:!1,textAlign:"left",useAutosize:!1},ID:760108,locked:!1,parentId:758222,position:{height:225,rotationDeg:0,width:644.97265625,x:401.3769531249996,y:2923.319551044421,zIndex:49975},properties:{htmlId:"text-78654"},source:null,styles:{overflow:"visible"},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/13/51cfa2fac64f4db2fdb47bd322470d/19cc79h.png"},ID:760796,locked:!1,parentId:758222,position:{height:345.0828087914039,rotationDeg:-5.095057773840898,width:443.6700170614771,x:375,y:3248.1792367981684,zIndex:50120},properties:{htmlId:"image-20483"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/16/f07aa2a8f0461898cb86aa048cf68e/1yqyzj7.png"},ID:760797,locked:!1,parentId:758222,position:{height:244.28687983376196,rotationDeg:-5.110002733551868,width:325.7158397783493,x:375.06904571830523,y:3251.4570971991207,zIndex:49800},properties:{htmlId:"image-70895"},source:null,styles:{overflow:"hidden"},type:"image"}],updatedAt:"2023-04-19T12:53:25.25162Z"};class cc{}cc.hasUpgraded=e=>e.includes(mt.Pro)||e.includes(mt.Plus)||e.includes(mt.Supporter),cc.canAddDomain=e=>Is(e).siteDomain,cc.getMaxUploadSizeMb=e=>Is(e).maxUploadSizeMb,cc.canAddCodeEmbed=e=>!Is(e).disallowedThingTypes.includes(zt.CodeEmbed),cc.canAddThings=(e,t,a,n=!0)=>{if(-1===a.ID||36373===a.ID||a.ID===lc.ID)return!0;const i=Is(e);if(a.things.size+t.length>=i.maxThingsPerPage){if(n){const e=`Can't add more than ${i.maxThingsPerPage} blocks. Remove a block first.`;sc({message:e,eventName:"max_things_per_page_exceeded"})}return!1}return!0},cc.canAddPage=(e,t,a=!0)=>{const n=Is(e);if(t>=n.maxPagesPerAccount){if(a){const e=`Can't add more than ${n.maxPagesPerAccount} pages`;sc({message:e,eventName:"max_pages_per_account_exceeded"})}return!1}return!0};class dc{static create(e){let t=e;e===zt.Group&&(t="section"),e===zt.RichButton&&(t="button");let a=`${(new Date).getTime()}`.slice(-5),n=`${t}-${a}`,i=0;for(;document.getElementById(n)&&i<=10;)a=`${(new Date).getTime()}`.slice(-5),n=`${t}-${a}`,i+=1;return n}}const uc=p.maxWindowWidthPx,mc=new de({caller:"ThingBuilder"});class gc{constructor(e,t,a=!1){this._page=e,this._pendingThings=[],this._selectedIds=t,this._calledFromPageMutator=a}get(){return this._pendingThings}add({type:e,content:t},a=!0){const{scrollOffset:n}=na(),i=pa.getMostLikelySectionId(),o=pa.getSectionYOffset(i),s=gc.generateLocalThingId(this._page.things);let r={x:150,y:250+Math.max(n[1]-o,0),width:150,height:150,zIndex:this.getMaxZIndex()+1,rotationDeg:0};a&&(r=gc.withShiftedPosition(r));const l=dc.create(e);return this._pendingThings.push({ID:s,type:e,content:t,position:r,parentId:i,locked:!1,altText:null,source:null,properties:{htmlId:l},styles:{overflow:Mt.Hidden}}),this}addSection(e){var t;if(!this._calledFromPageMutator)return mc.error("Can't use addSection() if not called from PageMutator!"),this;const{groupOrder:a}=e;let n=uc;if(a>0){const e=pa.getSectionAtIndex(a-1);n=null!==(t=null==e?void 0:e.position.width)&&void 0!==t?t:uc}const i=gc.generateLocalThingId(this._page.things),o={x:0,y:0,width:n,height:200,zIndex:0,rotationDeg:0},s=dc.create(zt.Group);return this._pendingThings.push({ID:i,type:zt.Group,content:e,position:o,parentId:void 0,locked:!1,altText:null,source:null,properties:{htmlId:s},styles:{}}),this}cloneSelectedThings(e=!0){return this.clone(this._selectedIds.map((e=>this.stableThings.get(e))).filter((e=>void 0!==e)).toArray(),e),this}cloneByIds(e,t=!0){return this.clone(e.map((e=>this.stableThings.get(e))).filter((e=>void 0!==e)),t),this}clone(e,t=!0){const{max:a}=es.calcZIndexOptima(this._page.things),n=gc.generateRandomJitter();return this._pendingThings=e.map(((e,i)=>{const o=t?gc.withShiftedPosition(e.position,n):e.position;o.zIndex=a+i;const s=dc.create(zt.Group);return Object.assign(Object.assign({},e),{ID:gc.generateLocalThingId(this.stableThings),position:o,properties:Object.assign(Object.assign({},e.properties),{htmlId:s})})})),this}setId(e){return 1!==this._pendingThings.length?(mc.error("Can't call setId() on more than one block!"),this):(this._pendingThings=this._pendingThings.map((t=>(t.ID=e,t))),this)}setParentId(e){return this._pendingThings=this._pendingThings.map((t=>(t.parentId=e,t))),this}patchPosition(e){return this._pendingThings=this._pendingThings.map((t=>(t.position=Object.assign(Object.assign({},t.position),e),t))),this}setProperties(e){return this._pendingThings=this._pendingThings.map((t=>(t.properties=e,t))),this}setStyle(e){return this._pendingThings=this._pendingThings.map((t=>(t.styles=e,t))),this}setSource(e){return this._pendingThings=this._pendingThings.map((t=>(t.source=e,t))),this}getMaxZIndex(){return Math.max(...this.stableThings.map((e=>e.position.zIndex)).toIndexedSeq().toArray())}get stableThings(){return this._page.things}static generateRandomJitter(){return[Math.max(8,64*Math.random()),Math.max(8,64*Math.random())]}static withShiftedPosition(e,t){return Object.assign(Object.assign({},e),{x:e.x+(t?t[0]:Math.max(8,64*Math.random())),y:e.y+(t?t[1]:Math.max(8,64*Math.random())),zIndex:e.zIndex+1})}static generateLocalThingId(e){let t;for(;!t||(null==e?void 0:e.has(t));)t=-Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);return t}}const pc=new de({caller:"PageMutator"});class hc{constructor(e){this._page=z()(e)}patchStyle(e){const t=z()(this._page);return t.style=Object.assign(Object.assign({},t.style),e),this._page=t,this}setHeight(e){const t=z()(this._page);return t.relativeHeight=e,this._page=t,this}moveSectionUp(e){const t=z()(this._page);return t.things=t.things.withMutations((t=>{const a=t.get(e);if(void 0===a)return pc.warn(`Failed to find group ID=${e} when moving section up`),this;if(pa.isFirstSection(e))return pc.error("Can't move the first root group any higher"),this;const n=pa.getSectionAtIndex(a.content.groupOrder-1);if(void 0===n)return pc.error("Somehow group above does not exist when trying to move section up"),this;const i=a.content.groupOrder,o=fe(n,{content:Object.assign(Object.assign({},n.content),{groupOrder:i})});t.set(n.ID,o);const s=fe(a,{content:Object.assign(Object.assign({},a.content),{groupOrder:i-1})});t.set(a.ID,s)})),this._page=t,this}moveSectionDown(e){const t=z()(this._page);return t.things=t.things.withMutations((t=>{const a=t.get(e);if(void 0===a)return pc.warn(`Failed to find group ID=${e} when moving section down`),this;if(pa.isLastSection(e))return pc.error("Can't move the last root group any lower"),this;const n=pa.getSectionAtIndex(a.content.groupOrder+1);if(void 0===n)return pc.error("Somehow group above does not exist when trying to move section down"),this;const i=a.content.groupOrder,o=fe(n,{content:Object.assign(Object.assign({},n.content),{groupOrder:i})});t.set(n.ID,o);const s=fe(a,{content:Object.assign(Object.assign({},a.content),{groupOrder:i+1})});t.set(a.ID,s)})),this._page=t,this}setPageWidth(e){var t;const a=z()(this._page),n=null!==(t=a.settings.referenceWidth)&&void 0!==t?t:p.maxWindowWidthPx;return a.things=a.things.withMutations((t=>{t.forEach((a=>{if(a.type===zt.Group&&void 0===a.parentId){const n=fe(a,{position:Object.assign(Object.assign({},a.position),{width:e})});t.set(a.ID,n)}else{const i=Object.assign({},a.position),o=(e-n)/2;i.x+=o;const s=Al(a.type).onTransform(a,{from:a.position,to:i,isProportionalResize:!0}),r=fe(Object.assign(Object.assign({},a),{ID:a.ID,position:i}),s);t.set(a.ID,r)}}))})),a.settings.referenceWidth=e,this._page=a,this}setSectionWidth(e,t){const a=z()(this._page);return a.things=a.things.withMutations((a=>{const n=a.get(e);if(void 0===n)return pc.warn(`Failed to find group ID=${e} when updating group width`),this;const i=n.position.width;n.position=Object.assign(Object.assign({},n.position),{width:t}),a.set(e,n),a.filter((t=>t.parentId===e)).forEach((e=>{const n=Object.assign({},e.position),o=(t-i)/2;n.x+=o;const s=Al(e.type).onTransform(e,{from:e.position,to:n,isProportionalResize:!0}),r=fe(Object.assign(Object.assign({},e),{ID:e.ID,position:n}),s);a.set(e.ID,r)}))})),this._page=a,this}addSectionAtIndex(e){const t=new gc(this._page,(0,A.l4)(),!0);t.addSection({groupDisplay:xt.Freeform,groupOrder:e+=1});const a=t.get();if(0===a.length)return pc.error("For some reason, ThingBuilder did not build a new group. Strange."),this;const n=a[0],i=pa.getSectionIds(),o=z()(this._page);return o.things=o.things.withMutations((t=>{for(let a=e;a<i.length;a++){const e=z()(t.get(i[a]));if(void 0===e)return pc.error("Tried to update the groupOrder of a root group that doesn't exist"),this;e.content=Object.assign(Object.assign({},e.content),{groupOrder:a+1}),t.set(e.ID,e)}t.set(n.ID,n)})),this._page=o,this}makePublic(){return this._page.isPublic=!0,this}makePrivate(){return this._page.isPublic=!1,we.clear(this._page.ID),this}setListed(e){return this._page.isListed=e,this}setPeekable(e){return this._page.isPeekable=e,this}sendBack(e,t){let a=this._page.things.valueSeq().toArray().sort(((e,t)=>e.position.zIndex-t.position.zIndex));if(t){const t=[],n=[];a.forEach((a=>{e.includes(a.ID)?t.push(a):n.push(a)})),a=t.concat(n)}else for(let t=0;t<a.length;t++){const n=a[t];if(t>0&&e.includes(n.ID)&&!e.includes(a[t-1].ID)){const e=a[t-1];a[t-1]=n,a[t]=e}}return this.reassignZIndices(a),pc.info(`SendBack() ${e.length} things`),this}bringForward(e,t){let a=this._page.things.valueSeq().toArray().sort(((e,t)=>e.position.zIndex-t.position.zIndex));if(t){const t=[],n=[];for(let i=a.length-1;i>=0;i--){const o=a[i];e.includes(o.ID)?n.unshift(o):t.unshift(o)}a=t.concat(n)}else for(let t=a.length-1;t>=0;t--){const n=a[t];if(t<a.length-1&&e.includes(n.ID)&&!e.includes(a[t+1].ID)){const e=a[t+1];a[t+1]=n,a[t]=e}}return this.reassignZIndices(a),pc.info(`BringForward() ${e.length} things`),this}reassignZIndices(e){const t=Math.floor(p.medianSafeZIndex-e.length/2*5);this._page.things=this._page.things.withMutations((a=>{for(let n=0;n<e.length;n++){const i=e[n];i.position.zIndex=t+5*n,a.set(i.ID,i)}}))}get(){return this._page}}const fc=new de({caller:"PageCommands"});function bc(e){return fc.info("Cancel and discard inProgress page"),pa.clear("in-progress"),Object.assign(Object.assign({},e),{inProgress:void 0,inProgressThingTree:void 0})}function yc(e){const t=e.inProgress;if(void 0===t||void 0===e.inProgressThingTree)return fc.error("Invalid attempt to commit an empty inProgressPage"),{state:bc(e),changed:!1};if(e.stable&&e.inProgress&&((e,t)=>{const a=Object.assign({},e);a.things=[];const n=Object.assign({},t);if(n.things=[],JSON.stringify(a)!==JSON.stringify(n))return!1;if(e.things.length!==t.things.length)return!1;const i=new Map(e.things.map((e=>[e.ID,e]))),o=new Map(t.things.map((e=>[e.ID,e])));for(const e of i.keys())if(JSON.stringify(i.get(e))!==JSON.stringify(o.get(e)))return!1;return!0})(ts(e.stable),ts(e.inProgress)))return fc.info("Pages were identical so no changes saved"),{state:bc(e),changed:!1};const a=function(e){const t=function(e){const t=e.filter((e=>e.type===zt.Group&&void 0===e.parentId));let a=-1,n=-1;return t.forEach((e=>{void 0!==e.content.groupOrder&&e.content.groupOrder>a&&(a=e.content.groupOrder,n=e.ID)})),e.get(n)}(e.things);let a=-1;e.things.filter((e=>e.parentId===t.ID)).forEach((e=>{const{maxY:t}=st(e.position);a=Math.max(a,t)}));const n=e.things.withMutations((e=>{const n=z()(t);n.position.height=a+ha,e.set(t.ID,n)})),i=z()(e);return i.things=n,pa.update("in-progress",{updated:[t.ID],prev:e.things,next:i.things}),i}(t);return fc.info("Committed inProgress page"),pa.commit({src:"in-progress",dst:"stable"}),we.save(ts(a)),{state:Object.assign(Object.assign({},e),{stable:a,stableThingTree:e.inProgressThingTree,inProgress:void 0,inProgressThingTree:void 0,hasPublishableChanges:!0}),changed:!0}}const vc=e=>e.page.stable,wc=e=>e.page.inProgress,Ec=e=>{var t;return null===(t=e.page.inProgress)||void 0===t?void 0:t.things},kc=e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.things},Fc=e=>e.page.hasPublishableChanges,xc=(e,t)=>t.map((t=>{var a,n;return null===(n=null===(a=e.stable)||void 0===a?void 0:a.things.get(t))||void 0===n?void 0:n.parentId})).filter((e=>void 0!==e)),Sc=e=>Cc(Ae(e))(e),Ic=e=>{const t=Sc(e);return t.length>0?t[0]:void 0},Cc=e=>t=>{const a=void 0!==t.page.inProgress,n=a?Ec(t):kc(t);return void 0===n?[]:pa.getIdsAt(e,a?"in-progress":"stable").map((e=>n.get(e)))},Pc={inProgress:void 0,stable:void 0,inProgressThingTree:void 0,stableThingTree:(0,A.zN)(),hasPublishableChanges:!1,migrated:!1,loading:!1},Tc=(e,{inProgress:t=!1}={inProgress:!1})=>{var a;const n=t&&null!==(a=e.page.inProgress)&&void 0!==a?a:e.page.stable;return e.editor.selectedIds.map((e=>null==n?void 0:n.things.get(e))).filter((e=>void 0!==e)).toArray()},Nc=new de({caller:"TextEditingMode"});class Rc extends Pe{constructor(){super(...arguments),this.name=Ce.InlineTextEditing,this.onModeStart=e=>(e.beginInProgressPage(),e),this.onDragStart=()=>{var e;const t=this.app.selectOnce(qc);return void 0===this.app.selectOnce(Ge)&&t||(Nc.info("Attempt to commitInProgress() in onDragStart"),this.app.commitInProgressPage().setMode(Ce.Layout),null===(e=this.app.state.editor.modeHandler)||void 0===e||e.onDragStart()),this.app},this.onTap=e=>{const{isPointerOverUiElement:t}=e.handlers;if(t&&t(e.state))return e;const a=e.selectOnce(Ic),n=e.selectOnce(_c);return void 0===a?(Nc.debug("thingAtPointer is undefined. Exit InlineTextEditingMode."),Dc(e),e):(n.includes(a.ID)||(Nc.debug("selectedIds doesn't include thingAtPointer. Exit InlineTextEditingMode Mode."),Dc(e),e.unselectThings().selectThings([a.ID])),e)}}}function Dc(e){e.commitInProgressPage(),Ne.tq&&window.scrollTo({top:0,left:0,behavior:"auto"}),e.setMode(Ce.Layout).resetEditor()}const Oc=new de({caller:"TextEditingMode"});class Ac extends Pe{constructor(){super(...arguments),this.name=Ce.TextEditing,this.onModeStart=e=>(e.beginInProgressPage(),e),this.onDragStart=()=>{var e;const t=this.app.selectOnce(qc);return void 0===this.app.selectOnce(Ge)&&t||(Oc.info("Attempt to commitInProgress() in onDragStart"),this.app.commitInProgressPage().setMode(Ce.Layout),null===(e=this.app.state.editor.modeHandler)||void 0===e||e.onDragStart()),this.app},this.onTap=e=>{const{isPointerOverUiElement:t}=e.handlers;if(t&&t(e.state))return e;const a=e.selectOnce(Ic),n=e.selectOnce(_c);return void 0===a?(Oc.debug("thingAtPointer is undefined. Exit TextEditingMode."),Mc(e),e):(n.includes(a.ID)||(Oc.debug("selectedIds doesn't include thingAtPointer. Exit TextEditing Mode."),Mc(e),e.unselectThings().selectThings([a.ID])),e)}}}function Mc(e){const t=e.selectOnce(_c),a=e.selectOnce((e=>{var a;return null===(a=e.page.inProgress)||void 0===a?void 0:a.things.get(t.first())}));void 0!==a&&Rl.isEmpty(a.content.text)?(Oc.info("TipTapParse.isEmpty(). Remove things."),e.cancelInProgressPage().removeThings()):e.commitInProgressPage(),Ne.tq&&window.scrollTo({top:0,left:0,behavior:"auto"}),e.setMode(Ce.Layout).resetEditor()}const zc=new de({caller:"EditorCommands"});function Lc(e,t,a){return zc.info("Selected IDs",t),Object.assign(Object.assign({},e),{selectedIds:e.selectedIds.concat(t),selectedParentIds:e.selectedParentIds.concat(a)})}function jc(e,t,a){const n=e.selectedIds.filter((e=>!t.includes(e))),i=e.selectedParentIds.filter((e=>!a.includes(e)));return Se()(n,e.selectedIds)&&Se()(i,e.selectedParentIds)?(zc.info("Tried to unselect IDs; no-op",t),e):(zc.info("Unselected IDs and parentIds",{ids:t,parentIds:a}),Object.assign(Object.assign({},e),{selectedIds:n,selectedParentIds:i}))}const Bc=e=>{var t;return null===(t=e.editor.modeHandler)||void 0===t?void 0:t.name},Uc=e=>e.editor.modeState,_c=e=>e.editor.selectedIds,Hc=e=>e.editor.selectedParentIds,Gc=e=>e.editor.hoveredId;function qc(e){const t=Ae(e),a=kc(e),n=_c(e);if(void 0===a)return!1;const i=Vc(a,n);return void 0!==i&&((e,t,a)=>{let{x:n,y:i,height:o,width:s,rotationDeg:r}=Wt(t,void 0);const[l,c]=e,d=Math.abs(o),u=Math.abs(s),m=Math.sin(-r/180*Math.PI),g=Math.cos(-r/180*Math.PI);let p={x:l-n,y:c-i};return p={x:p.x*g-p.y*m,y:p.x*m+p.y*g},p={x:p.x+n,y:p.y+i},p.x>=n-u/2&&p.x<=n+u/2&&p.y>=i-d/2&&p.y<=i+d/2})(t,i)}function Wc(e,t){if(0===t.size)return;const a=Array.from(e.filter((e=>t.has(e.ID))).map((e=>Wt(e.position,e.parentId))).valueSeq());return lt(a)}function Vc(e,t){if(1===t.size){const a=e.get(t.first());if(void 0===a)return;return Wt(a.position,a.parentId)}const a=Wc(e,t);if(void 0!==a)return rt(a)}const $c=e=>e.editor.layoutGuides,Yc={device:{isHoverCapable:!0,isTouchEnabled:!1,isWindows:!1,isMacOs:!1,isMobile:!1},editor:Ie,gesture:Xe,interface:cl,page:Pc,preferences:{specialDebugState:!1,"advancedWindow.active":!1,"advancedWindow.positionX":0,"advancedWindow.positionY":0,"expertMode.enabled":!1,"expertMode.removedDisclaimerBeforeUse":!1,"interface.responsiveGuides":!0,"sfx.enabled":!0,"toolPalette.active":!1,"toolPalette.positionX":0,"toolPalette.positionY":0,"domainVoucher.eligible":!1,"domainVoucher.read":!1,"domainVoucher.dismissed":!1},user:Zl};var Xc;!function(e){e.Full="full",e.Slice="slice",e.Patch="patch"}(Xc||(Xc={}));const Kc=new de({caller:"WebAppHandlers"}),Zc={isPointerOverUiElement:e=>{const t=e.interface.registeredUis,a=la(Ae(e));for(let[e,n]of t){const t=document.getElementById(e);if(n.disableAsTapTarget&&t&&Jc(t)&&nt(a,t))return Kc.info(`Clicked on ${t.id}`),!0}return!1}},Jc=e=>(""===e.style.opacity||parseFloat(e.style.opacity)>0)&&"none"!==e.style.pointerEvents;class Qc{constructor(e,t){this._app=e,this._tipTapEditor=t}hasSelection(){const e=this._tipTapEditor.view.state.selection.ranges;return!(e.length<1)&&e[0].$from!==e[0].$to}setFont(e){return this.hasSelection()?this._tipTapEditor.chain().setFontFamily(e).focus(null,{scrollIntoView:!1}).run():this._tipTapEditor.chain().selectAll().setFontFamily(e).focus(null,{scrollIntoView:!1}).run(),this}toggleLink({href:e,target:t}){this._tipTapEditor.getAttributes("link").href?this._tipTapEditor.chain().extendMarkRange("link").unsetLink().focus(null,{scrollIntoView:!1}).run():this._tipTapEditor.chain().extendMarkRange("link").setColor("blue").setUnderline().toggleLink({href:e,target:t}).focus(null,{scrollIntoView:!1}).run()}setFontSize(e,t=!0){let a=this._tipTapEditor.chain();return this.hasSelection()||(a=a.selectAll()),a=a.setFontSize(e),t&&(a=a.focus(null,{scrollIntoView:!1})),a.run(),this}setColor(e,t=!0){let a=this._tipTapEditor.chain();return this.hasSelection()||(a=a.selectAll()),a=a.setColor(e),t&&(a=a.focus(null,{scrollIntoView:!1})),a.run(),this}setLineHeight(e,t=!0){if(t){let t=this._tipTapEditor.chain();this.hasSelection()||(t=t.selectAll()),t.setLineHeight(e).focus(null,{scrollIntoView:!1}).run()}else this._tipTapEditor.commands.setLineHeight(e);return this}toggleItalic(){let e=this._tipTapEditor.chain();return this.hasSelection()||(e=e.selectAll()),e.toggleItalic().focus(null,{scrollIntoView:!1}).run(),this}toggleBold(){let e=this._tipTapEditor.chain();return this.hasSelection()||(e=e.selectAll()),e.toggleBold().focus(null,{scrollIntoView:!1}).run(),this}toggleUnderline(){let e=this._tipTapEditor.chain();return this.hasSelection()||(e=e.selectAll()),e.toggleUnderline().focus(null,{scrollIntoView:!1}).run(),this}toggleTextAlign(){return this._tipTapEditor.isActive({textAlign:"right"})?this._tipTapEditor.chain().setTextAlign("left").focus(null,{scrollIntoView:!1}).run():this._tipTapEditor.isActive({textAlign:"center"})?this._tipTapEditor.chain().setTextAlign("right").focus(null,{scrollIntoView:!1}).run():this._tipTapEditor.isActive({textAlign:"left"})&&this._tipTapEditor.chain().setTextAlign("center").focus(null,{scrollIntoView:!1}).run(),this}}const ed=(e,{scale:t,extendByRpx:a,deltaRpx:n,rotationDelta:i,zIndex:o})=>{const{x:s,y:r,width:l,height:c,rotationDeg:d}=e,u=Object.assign({},e);return t&&(u.width=l*t[0],u.height=c*t[1]),a&&(u.width=l+a[0],u.height=c+a[1]),n&&(u.x=s+n[0],u.y=r+n[1]),i&&(u.rotationDeg=d+i,u.rotationDeg%=360),o&&(u.zIndex=o),u};var td,ad,nd,id,od;!function(e){e.Main="r_main"}(td||(td={})),function(e){e.CenterToPageCenter="x_center_to_page_center",e.RightToMobileRight="x_right_to_mobile_right",e.LeftToMobileRight="x_left_to_mobile_right",e.RightToMobileLeft="x_right_to_mobile_left",e.LeftToMobileLeft="x_left_to_mobile_left",e.RightToDesktopRight="x_right_to_desktop_right",e.LeftToDesktopRight="x_left_to_desktop_right",e.RightToDesktopLeft="x_right_to_desktop_left",e.LeftToDesktopLeft="x_left_to_desktop_left",e.CenterToThingCenter="x_center_to_thing_center",e.LeftToThingLeft="x_left_to_thing_left",e.LeftToThingRight="x_left_to_thing_right",e.RightToThingLeft="x_right_to_thing_left",e.RightToThingRight="x_right_to_thing_right"}(ad||(ad={})),function(e){e.CenterToThingCenter="y_center_to_thing_center",e.TopToThingTop="y_top_to_thing_top",e.BottomToThingTop="y_bottom_to_thing_top",e.TopToThingBottom="y_top_to_thing_bottom",e.BottomToThingBottom="y_bottom_to_thing_bottom"}(nd||(nd={})),function(e){e.WidthEqualsThingWidth="w_width_equals_thing_width"}(id||(id={})),function(e){e.HeightEqualsThingHeight="h_height_equals_thing_height"}(od||(od={}));const sd=Ne.tq?6:3;class rd{constructor(e,t,a,n){this.offset=new Qe([0,0]),this.guides={x:[],y:[]},this.onNewLayoutGuides=e,this.selectedIds=new Set(t),this.activeTypes=n,this.comparableThings=a.filter((e=>ca(e.position,e.parentId)&&!this.selectedIds.has(e.ID)&&_t(e))).valueSeq().toArray()}onRotate(e){if(!this.activeTypes.includes("rotate"))return e;const{rotationDeg:t}=e,a=45*Math.round(t/45);if(Math.abs(t-a)<=sd){const t=this.createRotationGuide(td.Main,e,a);return this.onNewLayoutGuides([t]),Object.assign(Object.assign({},e),{rotationDeg:a})}return this.onNewLayoutGuides([]),e}onTransform(e,t,a){return Ne.tq||!this.activeTypes.includes("transform")?[0,0]:(this.lockTo=t,this.scaler=a,this.calculateTranslateGuides(e),this.guides.x=this.guides.x.map((e=>{if(0!==this.offset.y&&(e.type===ad.CenterToThingCenter||e.type===ad.LeftToThingLeft||e.type===ad.LeftToThingRight||e.type===ad.RightToThingRight||e.type===ad.RightToThingLeft)){const{minDetermining:t,maxDetermining:a}=e,{start:n,end:i}=e.line;t&&(e.line.start=[n[0],n[1]+this.offset.y]),a&&(e.line.end=[i[0],i[1]+this.offset.y])}return e})),this.guides.y=this.guides.y.map((e=>{if(0!==this.offset.x&&(e.type===nd.CenterToThingCenter||e.type===nd.TopToThingBottom||e.type===nd.TopToThingTop||e.type===nd.BottomToThingTop||e.type===nd.BottomToThingBottom)){const{minDetermining:t,maxDetermining:a}=e,{start:n,end:i}=e.line;t&&(e.line.start=[n[0]+this.offset.x,n[1]]),a&&(e.line.end=[i[0]+this.offset.x,i[1]])}return e})),this.onNewLayoutGuides([...this.guides.x,...this.guides.y]),this.offset.vec())}onTranslate(e){return this.activeTypes.includes("translate")?(this.calculateTranslateGuides(e),this.guides.x=this.guides.x.map((e=>{if(0!==this.offset.y&&(e.type===ad.CenterToThingCenter||e.type===ad.LeftToThingLeft||e.type===ad.LeftToThingRight||e.type===ad.RightToThingRight||e.type===ad.RightToThingLeft)){const{minDetermining:t,maxDetermining:a}=e,{start:n,end:i}=e.line;t&&(e.line.start=[n[0],n[1]+this.offset.y]),a&&(e.line.end=[i[0],i[1]+this.offset.y])}return e})),this.guides.y=this.guides.y.map((e=>{if(0!==this.offset.x&&(e.type===nd.CenterToThingCenter||e.type===nd.TopToThingBottom||e.type===nd.TopToThingTop||e.type===nd.BottomToThingTop||e.type===nd.BottomToThingBottom)){const{minDetermining:t,maxDetermining:a}=e,{start:n,end:i}=e.line;t&&(e.line.start=[n[0]+this.offset.x,n[1]]),a&&(e.line.end=[i[0]+this.offset.x,i[1]])}return e})),this.onNewLayoutGuides([...this.guides.x,...this.guides.y]),this.offset.vec()):[0,0]}calculateTranslateGuides(e){const t=st(e),{minX:a,maxX:n}=t,i=(n+a)/2,{width:o}=ta(),s=o/2;if(this.canAddGuide("x",ad.CenterToPageCenter)&&Math.abs(i-s)<=2){const e=s-i,t=rd.createGuide(ad.CenterToPageCenter,{start:[0,0],end:[0,0]});this.addGuide("x",t,[e,0])}const r=this.comparableThings.sort(((t,a)=>at(e,t.position)-at(e,a.position)));if(!Ne.tq)for(let a=0;a<r.length;a++){const n=r[a],i=Wt(n.position,n.parentId),o=st(i),s=et(i),l=et(e);if(this.canAddGuide("x",ad.CenterToThingCenter)&&Math.abs(l[0]-s[0])<=2){const e=s[0]-l[0],t=rd.createGuide(ad.CenterToThingCenter,{start:[s[0],l[1]],end:s},n.ID,!0,!1);this.addGuide("x",t,[e,0])}let c=Math.min(o.minY,t.minY),d=Math.max(o.maxY,t.maxY);const u=t.minY<=c,m=t.maxY>=d;if(this.canAddGuide("x",ad.LeftToThingLeft)&&Math.abs(o.minX-t.minX)<=2){const e=o.minX-t.minX,a=rd.createGuide(ad.LeftToThingLeft,{start:[o.minX,c],end:[o.minX,d]},n.ID,u,m);this.addGuide("x",a,[e,0])}if(this.canAddGuide("x",ad.RightToThingRight)&&Math.abs(o.maxX-t.maxX)<=2){const e=o.maxX-t.maxX,a=rd.createGuide(ad.RightToThingRight,{start:[o.maxX,c],end:[o.maxX,d]},n.ID,u,m);this.addGuide("x",a,[e,0])}if(this.canAddGuide("x",ad.LeftToThingRight)&&Math.abs(o.maxX-t.minX)<=2){const e=o.maxX-t.minX,a=rd.createGuide(ad.LeftToThingRight,{start:[o.maxX,c],end:[o.maxX,d]},n.ID,u,m);this.addGuide("x",a,[e,0])}if(this.canAddGuide("x",ad.RightToThingLeft)&&Math.abs(o.minX-t.maxX)<=2){const e=o.minX-t.maxX,a=rd.createGuide(ad.RightToThingLeft,{start:[o.minX,c],end:[o.minX,d]},n.ID,u,m);this.addGuide("x",a,[e,0])}const g=Math.min(o.minX,t.minX),p=Math.max(o.maxX,t.maxX),h=t.minX<=g,f=t.maxX>=p;if(this.canAddGuide("x",nd.CenterToThingCenter)&&Math.abs(l[1]-s[1])<=2){const e=s[1]-l[1],t=rd.createGuide(nd.CenterToThingCenter,{start:s,end:[l[0],s[1]]},n.ID,!1,!0);this.addGuide("y",t,[0,e])}if(this.canAddGuide("y",nd.TopToThingTop)&&Math.abs(o.minY-t.minY)<=2){const e=o.minY-t.minY,a=rd.createGuide(nd.TopToThingTop,{start:[g,o.minY],end:[p,o.minY]},n.ID,h,f);this.addGuide("y",a,[0,e])}if(this.canAddGuide("y",nd.BottomToThingBottom)&&Math.abs(o.maxY-t.maxY)<=2){const e=o.maxY-t.maxY,a=rd.createGuide(nd.BottomToThingBottom,{start:[g,o.maxY],end:[p,o.maxY]},n.ID,h,f);this.addGuide("y",a,[0,e])}if(this.canAddGuide("y",nd.TopToThingBottom)&&Math.abs(o.maxY-t.minY)<=2){const e=o.maxY-t.minY,a=rd.createGuide(nd.TopToThingBottom,{start:[g,o.maxY],end:[p,o.maxY]},n.ID,h,f);this.addGuide("y",a,[0,e])}if(this.canAddGuide("y",nd.BottomToThingTop)&&Math.abs(o.minY-t.maxY)<=2){const e=o.minY-t.maxY,a=rd.createGuide(nd.BottomToThingTop,{start:[g,o.minY],end:[p,o.minY]},n.ID,h,f);this.addGuide("y",a,[0,e])}}}addGuide(e,t,a){const[n,i]=a;"x"!==e||0!==this.offset.x&&this.offset.x!==n||(this.offset=this.offset.setX(n),this.guides.x.push(t)),"y"!==e||0!==this.offset.y&&this.offset.y!==i||(this.offset=this.offset.setY(i),this.guides.y.push(t))}canAddGuide(e,t){if(void 0!==this.lockTo){let e="bottom-right"===this.lockTo||"bottom"===this.lockTo||"bottom-left"===this.lockTo,a="top-right"===this.lockTo||"top"===this.lockTo||"top-left"===this.lockTo,n="top-left"===this.lockTo||"left"===this.lockTo||"bottom-left"===this.lockTo,i="top-right"===this.lockTo||"right"===this.lockTo||"bottom-right"===this.lockTo;if(this.scaler&&this.scaler[0]<0){const e=n;n=i,i=e}if(this.scaler&&this.scaler[1]<0){const t=a;a=e,e=t}let o=!1;if(!i||t!==ad.LeftToThingLeft&&t!==ad.LeftToThingRight||(o=!0),!n||t!==ad.RightToThingLeft&&t!==ad.RightToThingRight||(o=!0),!a||t!==nd.BottomToThingBottom&&t!==nd.BottomToThingTop||(o=!0),!e||t!==nd.TopToThingBottom&&t!==nd.TopToThingTop||(o=!0),!o)return!1}return"x"===e&&this.guides.x.length<6||"y"===e&&this.guides.y.length<6}static createGuide(e,t,a,n,i){const{start:o,end:s}=t;return{referenceKey:`${e}-s${o[0]}${o[1]}-e${s[0]}${s[1]}`+(a?`-${a}`:""),type:e,line:t,minDetermining:n,maxDetermining:i}}createRotationGuide(e,t,a){const n=e,{x:i,y:o,width:s}=t;return{referenceKey:n,type:e,line:{x:i,y:o,width:s,rotationDeg:a}}}}const ld=new de({caller:"ThingMutator"});class cd{constructor(e){this.useLayoutGuides=(e,t,a)=>(this._layoutGuideManager=new rd(e,this._things.map((e=>e.ID)),t,a),this),this._things=e}get(){return this._things}setDimensions(e,t){return this._things=this._things.map((a=>{const n=a.position,i=z()(a);return i.position.height=t,i.position.width=e,i.position.x-=(n.width-e)/2,i.position.y-=(n.height-t)/2,i})),this}setHeight(e,t=!0){return this._things=this._things.map((a=>{const{y:n,height:i}=a.position;if(i===e)return a;const o=Object.assign(Object.assign({},a),{ID:a.ID,position:Object.assign(Object.assign({},a.position),{height:e,y:t?n+(e-i)/2:n})}),s=Al(a.type).onTransform(a,{from:a.position,to:o.position,isProportionalResize:!1});return Object.assign(Object.assign({},o),s)})),this}setWidth(e){return this._things=this._things.map((t=>{const{x:a,width:n}=t.position;return n===e?t:Object.assign(Object.assign({},t),{ID:t.ID,position:Object.assign(Object.assign({},t.position),{width:e,x:a+(e-n)/2})})})),this}transformContent(e){return this._things=this._things.map((t=>{const a=e(t.content);return Object.assign(Object.assign({},t),{content:a})})),this}setContent({type:e,content:t}){return this._things=this._things.map((a=>a.type!==e?a:Object.assign(Object.assign({},a),{content:t}))),this}translate(e){var t;let a=[0,0];if(this._layoutGuideManager){const n=this.getParentBoundingPosition(),i=ed(n,{deltaRpx:e});a=null===(t=this._layoutGuideManager)||void 0===t?void 0:t.onTranslate(i)}const n=[e[0]+a[0],e[1]+a[1]];return this._things=this._things.map((e=>{const t=pa.transformPoint(n,{from:void 0,to:e.parentId,scaleOnly:!0});return this.translateThing(e,t)})),this}rotate(e){const t=this._things.map((e=>e.position)),a=Qe.centerOfBounds(lt(t));if(this._things=this._things.map((t=>this.rotateThing(t,e,a))),1===this._things.length&&this._layoutGuideManager){const e=Wt(this.firstThing.position,this.firstThing.parentId);this._things[0].position=qt(this._layoutGuideManager.onRotate(e),this.firstThing.parentId)}return this}scale(e,t=!1,a,n){var i;const[o,s]=e;let r,l,c,d;if(1===this._things.length){const{width:e,height:t,rotationDeg:a}=this._things[0].position;r=st(this._things[0].position),l=e,c=t,d=ct(a)}else r=lt(this._things.map((e=>e.position))),l=r.maxX-r.minX,c=r.maxY-r.minY,d=0;let u=[0,0];if(void 0!==a){let e=[0,0];"bottom-right"===a?e=[-1,-1]:"bottom"===a?e=[0,-1]:"bottom-left"===a?e=[1,-1]:"left"===a?e=[1,0]:"top-left"===a?e=[1,1]:"top"===a?e=[0,1]:"top-right"===a?e=[-1,1]:"right"===a&&(e=[-1,0]);const t=new Qe([l/2,c/2]).mult(e).rotate(d),n=new Qe([l*o/2,c*s/2]).mult(e).rotate(d);u=n.sub(t).vec()}if(this._layoutGuideManager){const n=this.getParentBoundingPosition(),o=ed(n,{scale:e,deltaRpx:u});let[s,r]=null===(i=this._layoutGuideManager)||void 0===i?void 0:i.onTransform(o,a,e),l=[1,1];"top-left"!==a&&"left"!==a&&"bottom-left"!==a||(l[0]*=-1),"top-left"!==a&&"top"!==a&&"top-right"!==a||(l[1]*=-1),e[0]=(o.width-s*l[0])/n.width,e[1]=(o.height-r*l[1])/n.height,t&&(0!==s&&(e[1]=e[0],r=(o.height-e[1]*n.height)/l[1]),0!==r&&(e[0]=e[1],s=(o.width-e[0]*n.width)/l[0])),u[0]+=s/2,u[1]+=r/2}return this._things=this._things.map((i=>this.scaleThing(i,e,r,{proportional:t,lockTo:a,positionOppositeAnchorCpx:n,withOffset:u}))),this}addPins(e,t){return this._things=this._things.map((a=>{const n=Object.assign({},a);return!a.position.pin||"left"!==e&&"right"!==e||(a.position.pin.right&&(n.position=Gt(n.position)),a.position.pin.left&&(n.position=Gt(n.position))),n.position=function(e,t,a){let n=Object.assign({},e);return void 0===n.pin&&(n.pin={}),n.pin[t]=a,n=qt(n,void 0),n}(n.position,e,t),n})),this}removePins(e){return this._things=this._things.map((t=>{const a=Object.assign({},t);return t.position.pin&&t.position.pin[e]&&(a.position=Gt(a.position)),a})),this}setHoverEffect(e){return this._things=this._things.map((t=>{const a=z()(t);return void 0===a.properties.effects&&(a.properties.effects={}),void 0!==e?a.properties.effects.onHover=e:delete a.properties.effects.onHover,a})),this}setHyperlinks(e,t=Ot.Self){return this._things=this._things.map((a=>{const n=z()(a);return n.properties=Object.assign(Object.assign({},n.properties),{hyperlink:e,hyperlinkTarget:t}),ld.info(`Add hyperlink to ID#${a.ID}: ${e}`),n})),this.setHoverEffect(Rt.Grow),this}setHyperlinkTarget(e){return this._things=this._things.map((t=>{const a=z()(t);return a.properties=Object.assign(Object.assign({},a.properties),{hyperlinkTarget:e}),a})),this}removeHyperlinks(){return this._things=this._things.map((e=>{const t=z()(e);return t.properties.hyperlink=void 0,ld.info(`Remove hyperlink from ID#${e.ID}`),t})),this.setHoverEffect(void 0),this}hideOn(e){return this._things=this._things.map((t=>{const a=z()(t);return a.properties.hideOn=e,a})),this}setHtmlId(e){return 1!==this._things.length?(ld.warn("Cannot multi-update htmlId"),this):(this._things=this._things.map((t=>{const a=z()(t);return a.properties.htmlId=e,a})),this)}removeStyles(e){return this._things=this._things.map((t=>{const a=z()(t);return e.forEach((e=>delete a.styles[e])),a})),this}patchStyles(e){return this._things=this._things.map((t=>{const a=z()(t);return a.styles=Object.assign(Object.assign({},a.styles),e),a})),this}replaceStyle(e,t){return this._things=this._things.map((a=>{const n=z()(a),i=Object.entries(t)[0],o=Object.entries(n.styles),s=o.findIndex((([t])=>t===e));return o.splice(s,1,i),n.styles=Object.fromEntries(o),n})),this}setOpacity(e){return this._things=this._things.map((t=>{const a=z()(t);return a.styles.opacity=e,a})),this}setPadding(e){return this._things=this._things.map((t=>{const a=z()(t);return a.styles.padding=e,a})),this}setBackground(e){return this._things=this._things.map((t=>{const a=z()(t);return a.styles.background=e,a})),this}setBlur(e){return void 0!==e&&(e=parseFloat(`${e}`)),this._things=this._things.map((t=>{const a=z()(t);return a.styles.blur=e,a})),this}setBorder(e){return this._things=this._things.map((t=>{const a=z()(t);return a.styles.border=e,a})),this}setBorderRadius(e){return this._things=this._things.map((t=>{const a=z()(t);return a.styles.borderRadius=e,a})),this}setBoxShadow(e){return this._things=this._things.map((t=>{const a=z()(t);return a.styles.boxShadow=e,a})),this}setDropShadow(e){return this._things=this._things.map((t=>{const a=z()(t);return a.styles.dropShadow=e,a})),this}setHideOn(e){return this._things=this._things.map((t=>{const a=z()(t);return a.properties.hideOn=e,a})),this}lock(e=!1){return this._things=this._things.map((t=>{const a=z()(t);return a.locked=e,a})),this}columnAlign(){const[e,t]=it(this._things.map((e=>e.position)));let a=t-this._things.map((e=>{const{maxY:t,minY:a}=st(e.position);return t-a})).reduce(((e,t)=>e+t),0)/2;return a=Math.max(a,16),this._things=this._things.sort(((e,t)=>e.position.y-t.position.y)).map((t=>{const n=z()(t),{maxY:i,minY:o}=st(t.position),s=i-o;return n.position.y=s/2+a,n.position.x=e,a+=s+16,n})),this}rowAlign(e){const t=this._things.map((e=>{const{maxX:t,minX:a}=st(e.position);return t-a})).reduce(((e,t)=>e+t),0),a=16*(this._things.length+1),n=t+a>e?(e-a)/t:1,i=t*n+a;this.scale([n,n],!0);const[o,s]=it(this._things.map((e=>e.position)));let r=Math.min(Math.max(o-(i-32)/2,16),e-(i-16));return this._things=this._things.sort(((e,t)=>e.position.x-t.position.x)).map((e=>{const t=z()(e),{maxX:a,minX:n}=st(e.position),i=a-n;return t.position.x=i/2+r,t.position.y=s,r+=i+16,t})),this}get firstThing(){return this._things[0]}getParentBoundingPosition(){return 1===this._things.length?pa.transform(Wt(this.firstThing.position,this.firstThing.parentId)):rt(lt(this._things.map((e=>Wt(e.position,e.parentId)))))}translateThing(e,t){return Object.assign(Object.assign({},e),{ID:e.ID,position:ed(e.position,{deltaRpx:t})})}rotateThing(e,t,a){const{x:n,y:i}=e.position,[o,s]=new Qe([n,i]).sub(a).rotate(ct(t)).add(a).vec(),r=ed(e.position,{rotationDelta:t});return r.x=o,r.y=s,Object.assign(Object.assign({},e),{position:r})}scaleThing(e,t,a,{proportional:n,lockTo:i,positionOppositeAnchorCpx:o,withOffset:s=[0,0]}={proportional:!0,withOffset:[0,0]}){const r=a,l=Qe.centerOfBounds(r),[c,d]=t,{x:u,y:m,rotationDeg:g}=e.position,p=this._things.length>1&&c!==d&&g%90!=0;p&&(t=Math.abs(c)<Math.abs(d)?[c,Math.sign(t[1])*Math.abs(c)]:[Math.sign(t[0])*Math.abs(d),d]);const h=ed(e.position,{scale:t}),f=new Qe([u,m]).sub(l).mult(t);let b=f.add(l).add(s);if(h.x=b.x,h.y=b.y,p){const a=st(h);let n=st(e.position),s=n.minX===r.minX,l=n.maxX===r.maxX,c=n.minY===r.minY,d=n.maxY===r.maxY,u="bottom-right"===i||"bottom"===i||"bottom-left"===i,m="top-right"===i||"top"===i||"top-left"===i,g="top-left"===i||"left"===i||"bottom-left"===i,p="top-right"===i||"right"===i||"bottom-right"===i,b=f.y>0,y=f.x>0;const v=t[0]<0,w=t[1]<0;let E=Object.assign({},n);if(w){u=m,m=!u;const e=m?r.maxY:r.minY;E.minY=e+Math.abs(n.maxY-e),E.maxY=e+Math.abs(n.minY-e);const t=d;d=c,c=t}if(v){g=!g,p=!p;const e=p?r.minX:r.maxX;E.minX=e+Math.abs(n.maxX-e),E.maxX=e+Math.abs(n.minX-e);const t=l;l=s,s=t}let k=[0,0];if(b&&u&&d&&(k[1]=a.maxY-E.maxY),!b&&m&&c&&(k[1]=a.minY-E.minY),y&&p&&l&&(k[0]=a.maxX-E.maxX),!y&&g&&s&&(k[0]=a.minX-E.minX),o){const t=pa.transformPoint(o,{from:void 0,to:e.parentId});l&&g&&y&&(k[0]=a.maxX-t[0]),s&&p&&!y&&(k[0]=a.minX-t[0]),d&&m&&b&&(k[1]=a.maxY-t[1]),c&&u&&!b&&(k[1]=a.minY-t[1])}h.x-=k[0],h.y-=k[1]}const y=Al(e.type).onTransform(e,{from:e.position,to:h,isProportionalResize:n});return Object.assign(Object.assign(Object.assign({},e),{position:h}),y)}}const dd={accountID:1,createdAt:"2023-04-18T15:03:53.211662Z",ID:-1,isDisabled:!1,isPublic:!0,relativeHeight:4752.893806572493,settings:{editorVersion:"0.5.3"},site:{accountID:1,canonicalDomain:{accountID:1,canonical:!0,createdAt:"2023-03-08T00:16:04.379235Z",domainName:"mooo.ooo",ID:328,siteID:1,status:"active",updatedAt:"2023-03-08T00:16:05.899062Z"},ID:1,isPublic:!0,ownerRoles:["admin"],settings:{faviconImageURL:"https://asset.mmm.page/d3/9602032fb34445a4d40f7869a7efdf/f1nify.png",hideAttribution:!0},slug:"xh"},slug:"homepage_v8",style:{backgroundColor:"#ffffff"},things:[{altText:null,content:{groupDisplay:"freeform",groupOrder:0},ID:759167,locked:!1,position:{height:5432,rotationDeg:0,width:600,x:0,y:-399.5,zIndex:49822},properties:{},source:null,styles:{},type:"group"},{altText:null,content:{URL:"https://asset.mmm.page/5b/797ad2da9e40bd94b9405815cd3fc5/Abstract-3d-Shape---62.png"},ID:759305,locked:!1,parentId:759167,position:{height:315.56,rotationDeg:0,width:315.56,x:803.94,y:16.389999999999617,zIndex:49892},properties:{},source:null,styles:{},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/bd/e12b51c23d41aa8b0c65d3f507967c/14.png"},ID:759294,locked:!1,parentId:759167,position:{height:581,rotationDeg:-86.94065484030551,width:78.14,x:300,y:218.88,zIndex:49837},properties:{},source:null,styles:{},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/93/e26a1ebc9a4bf8854cf0f8526b0acb/Abstract-3d-Shape---63.png"},ID:759302,locked:!1,parentId:759167,position:{height:94.14,rotationDeg:0,width:94.14,x:-28.28,y:76.63,zIndex:49877},properties:{},source:null,styles:{},type:"image"},{altText:"mmm",content:{color:"#000000",font:"playfair-display",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":null,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"#000000","fontSize":195.43121805628243,"font":"playfair-display"}}],"text":"mmm","attrs":{}}]}],"attrs":{}}',fontSize:195.43121805628243,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759296,locked:!1,parentId:759167,position:{height:244.29,rotationDeg:0,width:546.65,x:300,y:154.87,zIndex:49847},properties:{hyperlink:"https://mmm.page",hyperlinkTarget:"_blank"},source:null,styles:{},type:"text"},{altText:"DEMO",content:{color:"#8e9ae2",font:"nanum-pen-script",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(142, 154, 226)","fontSize":57.6,"font":"nanum-pen-script"}}],"text":"BETA"}]}]}',fontSize:57.6,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759303,locked:!1,parentId:759167,position:{height:72,rotationDeg:0,width:134.95,x:119.71,y:96.82999999999998,zIndex:49882},properties:{},source:null,styles:{},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/96/7d2140afae4e0687926cd116f649ed/Abstract-3d-Shape---66.png"},ID:759298,locked:!1,parentId:759167,position:{height:180,rotationDeg:0,width:180,x:-340.86,y:174.09,zIndex:49857},properties:{},source:null,styles:{},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/08/a344840d2441c78fb7a9473115e8fb/16.png"},ID:759295,locked:!1,parentId:759167,position:{height:96.6,rotationDeg:0,width:602.3,x:300,y:164.3,zIndex:49842},properties:{},source:null,styles:{},type:"image"},{altText:null,content:{images:{default:{height:500,mp4:null,size:null,URL:"https://media1.giphy.com/media/PjgaBrjenOaxDLu85A/giphy.gif?cid=4fcb451ehg9v7lmaq96dy9v3oee6dhk0pfbs4npmg7wjlemz&rid=giphy.gif&ct=s",webp:null,width:500},large:{height:500,mp4:null,size:null,URL:"https://media1.giphy.com/media/PjgaBrjenOaxDLu85A/giphy.gif?cid=4fcb451ehg9v7lmaq96dy9v3oee6dhk0pfbs4npmg7wjlemz&rid=giphy.gif&ct=s",webp:null,width:500},medium:{height:500,mp4:null,size:null,URL:"https://media1.giphy.com/media/PjgaBrjenOaxDLu85A/giphy.gif?cid=4fcb451ehg9v7lmaq96dy9v3oee6dhk0pfbs4npmg7wjlemz&rid=giphy.gif&ct=s",webp:null,width:500}}},ID:759297,locked:!1,parentId:759167,position:{height:138.02,rotationDeg:0,width:138.02,x:506.64,y:218.88,zIndex:49852},properties:{},source:{metadata:{giphyURL:"https://giphy.com/embed/PjgaBrjenOaxDLu85A"},name:"Racami",URL:"www.carolinekleine.com"},styles:{},type:"gif"},{altText:null,content:{URL:"https://asset.mmm.page/9e/20441c63b6478d98e49c39188345b8/Abstract-3d-Shape---59.png"},ID:759300,locked:!1,parentId:759167,position:{height:144.21,rotationDeg:0,width:144.21,x:730.1,y:292.32999999999964,zIndex:49867},properties:{},source:null,styles:{},type:"image"},{altText:"Edit this page! Tap      in the bottom right to try it out.",content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":48,"font":"lato"}}],"text":"Dead simple, drag & drop websites for anything "}]}]}',fontSize:48,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759413,locked:!1,parentId:759167,position:{height:120,rotationDeg:0,width:569.47,x:300,y:361.04768096514744,zIndex:50077},properties:{},source:null,styles:{},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/6a/b6fc27bcfd4230bac4f9cce5754999/Abstract-3d-Shape---18.png"},ID:759304,locked:!1,parentId:759167,position:{height:119.7,rotationDeg:0,width:119.7,x:-181.06,y:381.42,zIndex:49887},properties:{},source:null,styles:{},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/a9/d7410217c24b6e934b36229f118954/Abstract-3d-Shape---8.png"},ID:759306,locked:!1,parentId:759167,position:{height:149.8,rotationDeg:0,width:149.8,x:1028.43,y:428.41,zIndex:49897},properties:{},source:null,styles:{},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/e4/414c9ada744af6830553b9c780f4dd/Abstract-3d-Shape---36.png"},ID:759299,locked:!1,parentId:759167,position:{height:248.02,rotationDeg:0,width:248.02,x:-415.7,y:488.8299999999999,zIndex:49862},properties:{},source:null,styles:{},type:"image"},{altText:"Websites don't have to be so cookie cutter. Make one in less than 5 minutes. It's really that easy.",content:{color:"#6f6f6f",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(111, 111, 111)","fontSize":32,"font":"lato"}}],"text":"Websites dont have to be so cookie cutter. Try it out  tap               in bottom right, then tap anything on this page."}]}]}',fontSize:32,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759412,locked:!1,parentId:759167,position:{height:120,rotationDeg:0,width:551.68,x:299.5,y:494.8176809651475,zIndex:50072},properties:{},source:null,styles:{},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/74/14d141aa2049ec92c79f73983b5a8e/1yqyzj7.png"},ID:759499,locked:!1,parentId:759167,position:{height:57.930000000000064,rotationDeg:0,width:88.87890410958914,x:384.02554794520535,y:499.06999999999994,zIndex:50122},properties:{htmlId:"image-00644"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:"EXPLORE ",content:{richButtonColor:"#7012e2",richButtonText:{align:"center",bold:!1,color:"#fff",font:"lato",size:28.220000000000002,text:"EXPLORE "}},ID:759311,locked:!1,parentId:759167,position:{height:83.2,rotationDeg:0,width:548.8,x:300,y:651.67,zIndex:49902},properties:{hyperlink:"https://explore.mmm.page",hyperlinkTarget:"_blank"},source:null,styles:{borderRadius:6},type:"rich-button"},{altText:null,content:{URL:"https://asset.mmm.page/9e/20441c63b6478d98e49c39188345b8/Abstract-3d-Shape---59.png"},ID:759498,locked:!1,parentId:759167,position:{height:96.21000000000001,rotationDeg:21.362730112764854,width:96.21000000000001,x:806.5280062034722,y:699.425854545133,zIndex:50117},properties:{},source:null,styles:{},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/e2/0e1bcdb2d24ae6a93dfe1f2ed6563f/Abstract-3d-Shape---10.png"},ID:759301,locked:!1,parentId:759167,position:{height:215.16,rotationDeg:0,width:215.16,x:-276.3,y:794.09,zIndex:49872},properties:{},source:null,styles:{},type:"image"},{altText:null,content:{images:{default:{height:700,mp4:null,size:null,URL:"https://media3.giphy.com/media/J5dm29T4xgwyEnUYYc/giphy.gif?cid=4fcb451e8opylh0m8hws79zfdbf2sy5elabgs9vw2tbeqwgl&rid=giphy.gif&ct=s",webp:null,width:520},large:{height:700,mp4:null,size:null,URL:"https://media3.giphy.com/media/J5dm29T4xgwyEnUYYc/giphy.gif?cid=4fcb451e8opylh0m8hws79zfdbf2sy5elabgs9vw2tbeqwgl&rid=giphy.gif&ct=s",webp:null,width:520},medium:{height:700,mp4:null,size:null,URL:"https://media3.giphy.com/media/J5dm29T4xgwyEnUYYc/giphy.gif?cid=4fcb451e8opylh0m8hws79zfdbf2sy5elabgs9vw2tbeqwgl&rid=giphy.gif&ct=s",webp:null,width:520}}},ID:759312,locked:!1,parentId:759167,position:{height:105.29,rotationDeg:0,width:78.21,x:518.64,y:764.05,zIndex:49907},properties:{},source:{metadata:{giphyURL:"https://giphy.com/embed/J5dm29T4xgwyEnUYYc"},name:"Reins",URL:"https://giphy.com/embed/J5dm29T4xgwyEnUYYc"},styles:{},type:"gif"},{altText:"SIGN UP ",content:{richButtonColor:"#72dd95",richButtonText:{align:"center",bold:!1,color:"#000",font:"lato",size:28.220000000000002,text:"SIGN UP "}},ID:759292,locked:!1,parentId:759167,position:{height:83.2,rotationDeg:0,width:548.8,x:300,y:759.67,zIndex:49832},properties:{hyperlink:"https://build.mmm.page/?signup",hyperlinkTarget:"_self"},source:null,styles:{borderRadius:6},type:"rich-button"},{altText:null,content:{images:{default:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480},large:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480},medium:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480}}},ID:759355,locked:!1,parentId:759167,position:{height:179.07,rotationDeg:90,width:179.07,x:300,y:890.805,zIndex:50012},properties:{},source:{metadata:{giphyURL:"https://giphy.com/embed/M0iomkjdoiXK6yp4wf"},name:"Purdue University",URL:"https://giphy.com/embed/M0iomkjdoiXK6yp4wf"},styles:{},type:"gif"},{altText:null,content:{URL:"https://asset.mmm.page/e8/ef50fe3cbb462581bd001a9dc2620c/1yqyzj7.png"},ID:759360,locked:!1,parentId:759167,position:{height:266.30043689429885,rotationDeg:7.908083307134856,width:177.91135571236134,x:144.09346341930134,y:1063.792871642152,zIndex:50017},properties:{htmlId:"image-55913",hyperlink:"https://xh.mmm.page",hyperlinkTarget:"_self"},source:null,styles:{border:"2px solid #000",borderRadius:8,dropShadow:"4px 4px 0px #000",overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/8c/f501a9986d4da5b3eaf16f29224e81/1yqyzj7.png"},ID:759364,locked:!1,parentId:759167,position:{height:267.7070063694267,rotationDeg:-4.261495670819233,width:178.85106382978722,x:454.3899428131498,y:1091.5235031847133,zIndex:50032},properties:{htmlId:"image-78298",hyperlink:"https://christykintzel.com/",hyperlinkTarget:"_self"},source:null,styles:{border:"2px solid #000",borderRadius:8,dropShadow:"4px 4px 0px #000",overflow:"hidden"},type:"image"},{altText:null,content:{images:{default:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480},large:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480},medium:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480}}},ID:759381,locked:!1,parentId:759167,position:{height:179.07,rotationDeg:90,width:179.07,x:300,y:1069.875,zIndex:50052},properties:{},source:{metadata:{giphyURL:"https://giphy.com/embed/M0iomkjdoiXK6yp4wf"},name:"Purdue University",URL:"https://giphy.com/embed/M0iomkjdoiXK6yp4wf"},styles:{},type:"gif"},{altText:null,content:{URL:"https://asset.mmm.page/11/6eaf48e5bd4887ad4e93ba18e4d17f/1yqyzj7.png"},ID:759472,locked:!1,parentId:759167,position:{height:267.7070063694268,rotationDeg:-5.222031217182201,width:178.85106382978725,x:-110.78004340205098,y:1131.5235031847133,zIndex:50102},properties:{htmlId:"image-10030",hyperlink:"https://momsmags.mmm.page/hi",hyperlinkTarget:"_self"},source:null,styles:{border:"2px solid #000",borderRadius:8,dropShadow:"4px 4px 0px #000",overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/1f/1c84a2c995404d8ce71279a5b7a2e5/1yqyzj7.png"},ID:759469,locked:!1,parentId:759167,position:{height:267.7070063694269,rotationDeg:11.38023675039447,width:178.85106382978734,x:768.0744680851064,y:1137.5372233610515,zIndex:50087},properties:{htmlId:"image-61798",hyperlink:"https://niamhdale.mmm.page/omgwelcome2mywebsite",hyperlinkTarget:"_self"},source:null,styles:{border:"2px solid #000",borderRadius:8,dropShadow:"4px 4px 0px #000",overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/a8/a704597ec54dc190ffd0d232cce1a3/1yqyzj7.png"},ID:759468,locked:!1,parentId:759167,position:{height:267.7070063694267,rotationDeg:14.88504082731713,width:178.85106382978717,x:-374.99361702127663,y:1302.5235031847133,zIndex:50082},properties:{htmlId:"image-57136",hyperlink:"https://leasuela.mmm.page/dj",hyperlinkTarget:"_self"},source:null,styles:{border:"2px solid #000",borderRadius:8,dropShadow:"4px 4px 0px #000",overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/e0/c3c11f1d33490895a4fa4cb6059b2b/1yqyzj7.png"},ID:759473,locked:!1,parentId:759167,position:{height:267.7070063694267,rotationDeg:4.532440213583098,width:178.85106382978722,x:942.5792290763331,y:1393.6832930619357,zIndex:50107},properties:{htmlId:"image-43122",hyperlink:"https://samuelmcintosh.com/",hyperlinkTarget:"_self"},source:null,styles:{border:"2px solid #000",borderRadius:8,dropShadow:"4px 4px 0px #000",overflow:"hidden"},type:"image"},{altText:"Edit this page! Tap      in the bottom right to try it out.",content:{color:"#000000",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":48,"font":"lato"}}],"text":"Join 45,000+ people in making "},{"type":"text","marks":[{"type":"italic"},{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":48,"font":"lato"}}],"text":"fun"},{"type":"text","marks":[{"type":"bold"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":48,"font":"lato"}}],"text":" websites"}]}]}',fontSize:48,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759371,locked:!1,parentId:759167,position:{height:120,rotationDeg:0,width:569.47,x:299.99999999999994,y:1334.40050955414,zIndex:50042},properties:{},source:null,styles:{},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/12/3d434c6119466c89f45e9c34d8169e/1yqyzj7.png"},ID:759470,locked:!1,parentId:759167,position:{height:267.70700636942684,rotationDeg:8.168981857689982,width:178.85106382978728,x:-143.84283785745646,y:1470.8260519088365,zIndex:50092},properties:{htmlId:"image-77375",hyperlink:"https://serenstudios.mmm.page/",hyperlinkTarget:"_self"},source:null,styles:{border:"2px solid #000",borderRadius:8,dropShadow:"4px 4px 0px #000",overflow:"hidden"},type:"image"},{altText:"Websites don't have to be so cookie cutter. Make one in less than 5 minutes. It's really that easy.",content:{color:"#6f6f6f",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(111, 111, 111)","fontSize":32,"font":"lato"}}],"text":"Link-in-bio, portfolios, landing pages, moodboards. Anything you want."}]}]}',fontSize:32,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759410,locked:!1,parentId:759167,position:{height:80,rotationDeg:0,width:551.68,x:299.9999999999998,y:1453.2880742385355,zIndex:50062},properties:{},source:null,styles:{},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/e5/e77b69e3a040738b75da4df308164d/1yqyzj7.png"},ID:759471,locked:!1,parentId:759167,position:{height:267.70700636942684,rotationDeg:-15.485840791558992,width:178.85106382978728,x:770.1804064501853,y:1594.4947563256555,zIndex:50097},properties:{htmlId:"image-90430",hyperlink:"https://jonlehman.mmm.page/jamz",hyperlinkTarget:"_self"},source:null,styles:{border:"2px solid #000",borderRadius:8,dropShadow:"4px 4px 0px #000",overflow:"hidden"},type:"image"},{altText:"Websites don't have to be so cookie cutter. Make one in less than 5 minutes. It's really that easy.",content:{color:"#6f6f6f",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(111, 111, 111)","fontSize":32,"font":"lato"}}],"text":"Its your internet canvas."}]}]}',fontSize:32,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759411,locked:!1,parentId:759167,position:{height:40,rotationDeg:0,width:551.68,x:299.9999999999999,y:1532.448620635241,zIndex:50067},properties:{},source:null,styles:{},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/a4/1c767f22234b78979516c2d30c4712/1yqyzj7.png"},ID:759480,locked:!1,parentId:759167,position:{height:267.70700636942684,rotationDeg:-9.287804470921719,width:178.85106382978728,x:-361.2369441668771,y:1672.6832930619357,zIndex:50112},properties:{htmlId:"image-83284"},source:null,styles:{border:"2px solid #000",borderRadius:8,dropShadow:"4px 4px 0px #000",overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/b8/3822b644a341769d00c7e937cf041f/1yqyzj7.png"},ID:759362,locked:!1,parentId:759167,position:{height:267.70700636942667,rotationDeg:8.111519458199586,width:178.85106382978717,x:36.042383114474944,y:1733.1557667540178,zIndex:50027},properties:{htmlId:"image-80305",hyperlink:"https://snootie.mmm.page/links",hyperlinkTarget:"_self"},source:null,styles:{border:"2px solid #000",borderRadius:8,dropShadow:"4px 4px 0px #000",overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/cf/fcb3ec6b5e4edaa948751c39813dc3/1yqyzj7.png"},ID:759368,locked:!1,parentId:759167,position:{height:267.7070063694269,rotationDeg:6.536378846068998,width:178.85106382978734,x:544.1810899342336,y:1740.1557667540178,zIndex:50037},properties:{htmlId:"image-74943",hyperlink:"https://nilabiska.mmm.page/com",hyperlinkTarget:"_self"},source:null,styles:{border:"2px solid #000",borderRadius:8,dropShadow:"4px 4px 0px #000",overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/fe/7e213a3b4e4a698683be249908e071/1yqyzj7.png"},ID:759361,locked:!1,parentId:759167,position:{height:267.70700636942684,rotationDeg:-7.774852395020476,width:178.85106382978728,x:293.92553191489355,y:1790.1557667540178,zIndex:50022},properties:{htmlId:"image-71132",hyperlink:"https://zachkatz.me/",hyperlinkTarget:"_self"},source:null,styles:{border:"2px solid #000",borderRadius:8,dropShadow:"4px 4px 0px #000",overflow:"hidden"},type:"image"},{altText:null,content:{images:{default:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480},large:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480},medium:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480}}},ID:759291,locked:!1,parentId:759167,position:{height:179.07,rotationDeg:90,width:179.07,x:299.99999999999983,y:1977.0717962466492,zIndex:49827},properties:{},source:{metadata:{giphyURL:"https://giphy.com/embed/M0iomkjdoiXK6yp4wf"},name:"Purdue University",URL:"https://giphy.com/embed/M0iomkjdoiXK6yp4wf"},styles:{},type:"gif"},{altText:null,content:{URL:"https://asset.mmm.page/01/e06636d20f4b0f8fe2e93fd707fea8/21.png"},ID:759325,locked:!1,parentId:759167,position:{height:387.1000000000001,rotationDeg:-90,width:90.77,x:298.9499999999999,y:2120.031796246649,zIndex:49952},properties:{},source:null,styles:{},type:"image"},{altText:"Custom URL",content:{color:"#000000",font:"playfair-display",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":57.6,"font":"playfair-display"}}],"text":"Add Anything"}]}]}',fontSize:57.6,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759326,locked:!1,parentId:759167,position:{height:72,rotationDeg:0,width:353.57,x:298.9499999999999,y:2117.6317962466487,zIndex:49957},properties:{},source:null,styles:{},type:"text"},{altText:"Get a custom URL to share on all your social media profiles",content:{color:"#666666",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(102, 102, 102)","fontSize":32,"font":"lato"}}],"text":"Add text, images, shapes, GIFs, videos, Spotify, etc. Even draw."}]}]}',fontSize:32,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759327,locked:!1,parentId:759167,position:{height:80,rotationDeg:0,width:505.71,x:299.99999999999983,y:2228.316796246649,zIndex:49962},properties:{},source:null,styles:{},type:"text"},{altText:null,content:{drawingHeight:28,drawingPaths:"W1tbWzAsMTBdLFswLMQGMcUGNiwtMl0sWzfGBznGBzEzxwg1xwg3xjLHBznGBzLHQcQGOMUGxhk0xQYzywzGKsZxxn3MBi3GGS3GLC3GUS04LDHFHDAs5ACCLTExLDPFCDMsNMcQxQg3xhc1xiY1zQ40xgcyxQfGZewAlsZpxgYxzB8zLC3EfMYN9gC8XSxbIiNhNzZhZjciLDExLjIwzAExLDAuNV1dXQ==",drawingWidth:153},ID:759382,locked:!1,parentId:759167,position:{height:28,rotationDeg:0,width:153,x:430.49999999999983,y:2285.1317962466487,zIndex:50057},properties:{htmlId:"drawing-70605"},source:null,styles:{overflow:"hidden"},type:"drawing"},{altText:null,content:{URL:"https://asset.mmm.page/d3/20d485617e4a948de0290612a7226d/flower_400x.png"},ID:759320,locked:!1,parentId:759167,position:{height:553.23,rotationDeg:0,width:301.49,x:525.095713931651,y:2629.316796246649,zIndex:49932},properties:{},source:null,styles:{},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/1c/a245e52d1e4cf5b4a0e6ace3d1420c/family-min.jpg"},ID:759319,locked:!1,parentId:759167,position:{height:200.48,rotationDeg:9.391789546050314,width:150.29,x:306.455713931651,y:2488.906796246649,zIndex:49927},properties:{},source:null,styles:{},type:"image"},{altText:null,content:{images:{default:{height:480,mp4:null,size:null,URL:"https://media1.giphy.com/media/LRgSLr3jGqrzNyGCy0/giphy.gif?cid=4fcb451ec7ii5vkdczcgruxdls4p86n5iy87xhs6fu3cbwwz&rid=giphy.gif&ct=s",webp:null,width:480},large:{height:480,mp4:null,size:null,URL:"https://media1.giphy.com/media/LRgSLr3jGqrzNyGCy0/giphy.gif?cid=4fcb451ec7ii5vkdczcgruxdls4p86n5iy87xhs6fu3cbwwz&rid=giphy.gif&ct=s",webp:null,width:480},medium:{height:480,mp4:null,size:null,URL:"https://media1.giphy.com/media/LRgSLr3jGqrzNyGCy0/giphy.gif?cid=4fcb451ec7ii5vkdczcgruxdls4p86n5iy87xhs6fu3cbwwz&rid=giphy.gif&ct=s",webp:null,width:480}}},ID:759318,locked:!1,parentId:759167,position:{height:177.03,rotationDeg:3.846759930253029,width:177.03,x:109.565713931651,y:2488.906796246649,zIndex:49922},properties:{},source:{metadata:{giphyURL:"https://giphy.com/embed/LRgSLr3jGqrzNyGCy0"},name:"AlessioAzzolini",URL:"https://giphy.com/embed/LRgSLr3jGqrzNyGCy0"},styles:{},type:"gif"},{altText:null,content:{URL:"https://asset.mmm.page/72/6d808d78684a5d8fe9d323344fead2/blob_bg-min.png"},ID:759315,locked:!1,parentId:759167,position:{height:467.04,rotationDeg:0,width:725.21,x:304.40571393165106,y:2661.3867962466493,zIndex:49912},properties:{},source:null,styles:{},type:"image"},{altText:null,content:{youtubeID:"adLGHcj_fmA"},ID:759316,locked:!1,parentId:759167,position:{height:236.45,rotationDeg:-6.330496527856225,width:311.42,x:91.955713931651,y:2687.116796246649,zIndex:49917},properties:{},source:null,styles:{},type:"youtube"},{altText:null,content:{images:{default:{height:442,mp4:null,size:null,URL:"https://media1.giphy.com/media/10KTwUNEZp1B8k/giphy.gif?cid=4fcb451ekryv1scfps2wp2rv873l77l3cn84ujxkmjetx7kj&rid=giphy.gif&ct=s",webp:null,width:427},large:{height:442,mp4:null,size:null,URL:"https://media1.giphy.com/media/10KTwUNEZp1B8k/giphy.gif?cid=4fcb451ekryv1scfps2wp2rv873l77l3cn84ujxkmjetx7kj&rid=giphy.gif&ct=s",webp:null,width:427},medium:{height:442,mp4:null,size:null,URL:"https://media1.giphy.com/media/10KTwUNEZp1B8k/giphy.gif?cid=4fcb451ekryv1scfps2wp2rv873l77l3cn84ujxkmjetx7kj&rid=giphy.gif&ct=s",webp:null,width:427}}},ID:759321,locked:!1,parentId:759167,position:{height:266.36,rotationDeg:-6.20290470123291,width:257.32,x:382.215713931651,y:2797.566796246649,zIndex:49937},properties:{},source:{metadata:{giphyURL:"https://giphy.com/embed/10KTwUNEZp1B8k"},name:"badblueprints",URL:"http://badblueprints.tumblr.com/post/29353969127"},styles:{},type:"gif"},{altText:null,content:{drawingHeight:59,drawingPaths:"W1tbWzgsMThdLFswLDDJBjHRDNISMCwxywYyzwYtMc0HMsUnLTHGB84Oxk/OBzAsLcccxQgwLC3GW8gHyxUxLC0zxgfEFckH7AC7xRMyyxPGDOgA8sZN0hLKGOoAnfIAss0i2A1dLFsiI2E3NmFmNyIsMTEuMjDMATEsMC41xCRbWzQ5LDbJO+kA6dMN9gGhM9cY5gDN5gC/7gDf2AbuAPDsAPfmAT3WFckc7QG/xAjnAg7VGOoB0dsH6wEE7QHY7gHr6gHezAzoAP/GGPYA7dQYygbnAO/vAeDFGshj/wIH6gLL3AfmAQ/tAfDxAffKV/8CV+oCVzE1LDU5z0fMTf4BP9IG5gJo0gY00xjlAMDIH8UNMtAH5AD20RXEB/QD1u4BGc8U3w3NBtMZ1Sz/AWbmAWZd",drawingWidth:77},ID:759380,locked:!1,parentId:759167,position:{height:59,rotationDeg:0,width:77,x:134.95571393165102,y:2896.6317962466487,zIndex:50047},properties:{htmlId:"drawing-58875"},source:null,styles:{overflow:"hidden"},type:"drawing"},{altText:null,content:{URL:"https://asset.mmm.page/01/e06636d20f4b0f8fe2e93fd707fea8/21.png"},ID:759323,locked:!1,parentId:759167,position:{height:533.1,rotationDeg:-90,width:91.77,x:300,y:3161.8699999999994,zIndex:49947},properties:{},source:null,styles:{},type:"image"},{altText:null,content:{images:{default:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480},large:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480},medium:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480}}},ID:759322,locked:!1,parentId:759167,position:{height:179.07,rotationDeg:90,width:179.07,x:300,y:3065.2899999999995,zIndex:49942},properties:{},source:{metadata:{giphyURL:"https://giphy.com/embed/M0iomkjdoiXK6yp4wf"},name:"Purdue University",URL:"https://giphy.com/embed/M0iomkjdoiXK6yp4wf"},styles:{},type:"gif"},{altText:"Works Everywhere",content:{color:"#000000",font:"playfair-display",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":null,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"#000000","fontSize":57.6,"font":"playfair-display"}}],"text":"Works Everywhere","attrs":{}}]}],"attrs":{}}',fontSize:57.6,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759329,locked:!1,parentId:759167,position:{height:72,rotationDeg:0,width:509.67,x:300,y:3161.8699999999994,zIndex:49967},properties:{},source:null,styles:{},type:"text"},{altText:"Every page is mindlessly responsive so they work across screen sizes",content:{color:"#666666",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":null,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"#666666","fontSize":32,"font":"lato"}}],"text":"Every page is mindlessly responsive so they work across screen sizes","attrs":{}}]}],"attrs":{}}',fontSize:32,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759330,locked:!1,parentId:759167,position:{height:80,rotationDeg:0,width:505.71,x:300,y:3268.325,zIndex:49972},properties:{},source:null,styles:{},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/7f/2f1a9144614e578e4748cb0959476e/1yqyzj7.png"},ID:759549,locked:!1,parentId:759167,position:{height:279.8649999999998,rotationDeg:0,width:418.6731336742144,x:261.33656683710717,y:3475.9325,zIndex:50127},properties:{htmlId:"image-03783"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/63/648e4b5ca54c0ba8eaa0e40de72898/1yqyzj7.png"},ID:759548,locked:!1,parentId:759167,position:{height:250.42766798418975,rotationDeg:0,width:154.68310546875,x:484.46844726562495,y:3529.213833992095,zIndex:50132},properties:{htmlId:"image-99528"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/01/e06636d20f4b0f8fe2e93fd707fea8/21.png"},ID:759333,locked:!1,parentId:759167,position:{height:523.62,rotationDeg:-90,width:100.83,x:300,y:3814.45,zIndex:49982},properties:{},source:null,styles:{},type:"image"},{altText:null,content:{images:{default:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480},large:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480},medium:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480}}},ID:759332,locked:!1,parentId:759167,position:{height:179.07,rotationDeg:90,width:179.07,x:300,y:3694.6399999999994,zIndex:49817},properties:{},source:{metadata:{giphyURL:"https://giphy.com/embed/M0iomkjdoiXK6yp4wf"},name:"Purdue University",URL:"https://giphy.com/embed/M0iomkjdoiXK6yp4wf"},styles:{},type:"gif"},{altText:"Messy Encouraged",content:{color:"#000000",font:"playfair-display",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":null,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"#000000","fontSize":57.6,"font":"playfair-display"}}],"text":"Messy Encouraged","attrs":{}}]}],"attrs":{}}',fontSize:57.6,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759336,locked:!1,parentId:759167,position:{height:72,rotationDeg:0,width:509.67,x:300,y:3814.45,zIndex:49997},properties:{},source:null,styles:{},type:"text"},{altText:"Websites shouldn't all look the same. We prefer campy, kitschy, messy, imperfect. ",content:{color:"#666666",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":null,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"#666666","fontSize":32,"font":"lato"}}],"text":"Websites shouldn\'t all look the same. We prefer campy, kitschy, messy, imperfect. ","attrs":{}}]}],"attrs":{}}',fontSize:32,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759338,locked:!1,parentId:759167,position:{height:120,rotationDeg:0,width:504.89,x:300,y:3945.6300000000006,zIndex:50007},properties:{},source:null,styles:{},type:"text"},{altText:null,content:{images:{default:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480},large:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480},medium:{height:480,mp4:null,size:null,URL:"https://media3.giphy.com/media/M0iomkjdoiXK6yp4wf/giphy.gif?cid=4fcb451e1in9z3v8ohydgd2sjqrfa5bylqi3iz5uqqtdfo4i&rid=giphy.gif&ct=s",webp:null,width:480}}},ID:759331,locked:!1,parentId:759167,position:{height:179.07,rotationDeg:90,width:179.07,x:300,y:4125.459999999999,zIndex:49977},properties:{},source:{metadata:{giphyURL:"https://giphy.com/embed/M0iomkjdoiXK6yp4wf"},name:"Purdue University",URL:"https://giphy.com/embed/M0iomkjdoiXK6yp4wf"},styles:{},type:"gif"},{altText:null,content:{URL:"https://asset.mmm.page/01/e06636d20f4b0f8fe2e93fd707fea8/21.png"},ID:759334,locked:!1,parentId:759167,position:{height:360.1,rotationDeg:-90,width:90.77,x:300,y:4245.84,zIndex:49987},properties:{},source:null,styles:{},type:"image"},{altText:"Free Forever",content:{color:"#000000",font:"playfair-display",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":null,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"#000000","fontSize":57.6,"font":"playfair-display"}}],"text":"Free Forever","attrs":{}}]}],"attrs":{}}',fontSize:57.6,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759337,locked:!1,parentId:759167,position:{height:72,rotationDeg:0,width:342.57,x:300,y:4245.84,zIndex:50002},properties:{},source:null,styles:{},type:"text"},{altText:"",content:{color:"#666666",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"center"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgb(102, 102, 102)","fontSize":32,"font":"lato"}}],"text":"Only upgrade if you need domains, private pages, or unlimited blocks. Otherwise $0/mo."}]}]}',fontSize:32,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:759335,locked:!1,parentId:759167,position:{height:121.15,rotationDeg:0,width:507.71,x:300,y:4378.66,zIndex:49992},properties:{},source:null,styles:{},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/ee/c7bb53795b4cd5a8a23613acb671ac/1sokx96.png"},ID:766613,locked:!1,parentId:759167,position:{height:600,rotationDeg:0,width:600,x:288.024386685124,y:4844.6671794247095,zIndex:49792},properties:{htmlId:"image-88822"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{drawingHeight:55,drawingPaths:"W1tbWzAsMF0szQYyxQYzywY0xQY2xQY3xQY10RjGBsYYxgzGHsxCyFoxxQwyywY0xX7EGDAsM10sWzEsNsUMxB4wxx7GBsQezAYtMcgHxD4tMcczxkvEb8ca6gDiXSxbIiMxxQEiLDYuNCwwLjXEFVtbNjYsM8ZaxizMS8wM0hLGMM5o1h7eJNgG2CTSVMoSMd8833jJBshIzBItyj3IH80TxQ3NGsxG00DNE9VG0WzIOd1Y3zjSJd9j0lzfGMsGLe0AoC3GLcoHxRwt5gMk3w/ID8c81hbRD+sA2ckOzRvYIcwGzkjbINgG7AKh6gNJyAzMGMxh8AIK/wK/2XjfHv8Bysoe+ALBzxrzAkbROtR3ySX2BK1d",drawingWidth:93},ID:766614,locked:!1,parentId:759167,position:{height:55,rotationDeg:0,width:93,x:315.5,y:4598.5,zIndex:50202},properties:{htmlId:"drawing-81175"},source:null,styles:{overflow:"hidden"},type:"drawing"},{altText:"",content:{color:"#666666",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"textStyle","attrs":{"color":"rgba(0, 0, 0, 0.64)","fontSize":32,"font":"patrick-hand-sc"}}],"text":"LONG TERM VISION"}]}]}',fontSize:32,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:766569,locked:!1,parentId:759167,position:{height:32,rotationDeg:-12.12336072296935,width:230.9620495452082,x:145.56286376437333,y:4592.222518098303,zIndex:50172},properties:{htmlId:"section-23987",hyperlinkTarget:"_self"},source:null,styles:{},type:"text"},{altText:null,content:{images:{default:{height:435,mp4:{size:65484,URL:"https://media3.giphy.com/media/ORxGDYDJBuPsFxfrT6/giphy.mp4?cid=4fcb451el09xci2j8jnxgstmcjq476ngqdckru8t1m7k2zup&rid=giphy.mp4&ct=s"},size:75964,URL:"https://media3.giphy.com/media/ORxGDYDJBuPsFxfrT6/giphy.gif?cid=4fcb451el09xci2j8jnxgstmcjq476ngqdckru8t1m7k2zup&rid=giphy.gif&ct=s",webp:{size:88138,URL:"https://media3.giphy.com/media/ORxGDYDJBuPsFxfrT6/giphy.webp?cid=4fcb451el09xci2j8jnxgstmcjq476ngqdckru8t1m7k2zup&rid=giphy.webp&ct=s"},width:480},fixedWidth:{height:181,mp4:{size:23832,URL:"https://media3.giphy.com/media/ORxGDYDJBuPsFxfrT6/200w.mp4?cid=4fcb451el09xci2j8jnxgstmcjq476ngqdckru8t1m7k2zup&rid=200w.mp4&ct=s"},size:24764,URL:"https://media3.giphy.com/media/ORxGDYDJBuPsFxfrT6/200w.gif?cid=4fcb451el09xci2j8jnxgstmcjq476ngqdckru8t1m7k2zup&rid=200w.gif&ct=s",webp:{size:74360,URL:"https://media3.giphy.com/media/ORxGDYDJBuPsFxfrT6/200w.webp?cid=4fcb451el09xci2j8jnxgstmcjq476ngqdckru8t1m7k2zup&rid=200w.webp&ct=s"},width:200},fixedWidthSmall:{height:91,mp4:{size:10910,URL:"https://media3.giphy.com/media/ORxGDYDJBuPsFxfrT6/100w.mp4?cid=4fcb451el09xci2j8jnxgstmcjq476ngqdckru8t1m7k2zup&rid=100w.mp4&ct=s"},size:11058,URL:"https://media3.giphy.com/media/ORxGDYDJBuPsFxfrT6/100w.gif?cid=4fcb451el09xci2j8jnxgstmcjq476ngqdckru8t1m7k2zup&rid=100w.gif&ct=s",webp:{size:33102,URL:"https://media3.giphy.com/media/ORxGDYDJBuPsFxfrT6/100w.webp?cid=4fcb451el09xci2j8jnxgstmcjq476ngqdckru8t1m7k2zup&rid=100w.webp&ct=s"},width:100},optimized:{height:435,mp4:null,size:75964,URL:"https://media3.giphy.com/media/ORxGDYDJBuPsFxfrT6/giphy.gif?cid=4fcb451el09xci2j8jnxgstmcjq476ngqdckru8t1m7k2zup&rid=giphy.gif&ct=s",webp:null,width:480},preview:{height:200,mp4:{size:null,URL:""},size:48143,URL:"https://media3.giphy.com/media/ORxGDYDJBuPsFxfrT6/giphy-preview.gif?cid=4fcb451el09xci2j8jnxgstmcjq476ngqdckru8t1m7k2zup&rid=giphy-preview.gif&ct=s",webp:{size:49348,URL:"https://media3.giphy.com/media/ORxGDYDJBuPsFxfrT6/giphy-preview.webp?cid=4fcb451el09xci2j8jnxgstmcjq476ngqdckru8t1m7k2zup&rid=giphy-preview.webp&ct=s"},width:221}}},ID:766555,locked:!1,parentId:759167,position:{height:90.1875,rotationDeg:0,width:99.51724137931035,x:135.33426282280516,y:4756.645808443553,zIndex:50167},properties:{htmlId:"section-60415",hyperlink:"https://paper.mmm.dev",hyperlinkTarget:"_blank"},source:{metadata:{giphyURL:"https://giphy.com/embed/ORxGDYDJBuPsFxfrT6"},name:"Charlie Casanova",URL:"http://www.casanova.wtf"},styles:{overflow:"hidden"},type:"gif"},{altText:"Free Forever",content:{color:"#000000",font:"playfair-display",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":105.67102084378823,"font":"calistoga"}}],"text":"Digital "}]},{"type":"paragraph","attrs":{"lineHeight":1,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgb(0, 0, 0)","fontSize":105.67102084378823,"font":"calistoga"}}],"text":"Paper    "}]}]}',fontSize:57.6,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:766540,locked:!1,parentId:759167,position:{height:211.3333282470703,rotationDeg:-5.668980444191257,width:451.38066665553305,x:352.99999999999994,y:4831.480968715403,zIndex:50137},properties:{htmlId:"section-47406",hyperlink:"https://paper.mmm.dev",hyperlinkTarget:"_blank"},source:null,styles:{},type:"text"},{altText:null,content:{URL:"https://asset.mmm.page/0a/f9833793d34eedb60f5e92f4acee7e/1bw9wyu.png"},ID:766573,locked:!1,parentId:759167,position:{height:341.99999999999994,rotationDeg:0,width:273.59999999999997,x:-131.20000000000005,y:5235,zIndex:49802},properties:{htmlId:"image-57037"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/ce/c37a42ccad402eafb47383bdf3d0b1/xgzhu1.png"},ID:766571,locked:!1,parentId:759167,position:{height:164.43016927374032,rotationDeg:-9.04575968343485,width:131.54413541899223,x:538.8502230339325,y:5166.999244809896,zIndex:50177},properties:{htmlId:"image-55276"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/27/8384337afc4513b2cc9a289e6f5118/j0c1pk.png"},ID:766572,locked:!1,parentId:759167,position:{height:66.13048917110723,rotationDeg:-4.643223669572973,width:99.19573375666084,x:132.9811320046307,y:5241.901327858461,zIndex:50192},properties:{htmlId:"image-94361"},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/65/29504591534230a24fc7d6db362e5e/1chjc3s.png"},ID:766544,locked:!1,parentId:759167,position:{height:313.64,rotationDeg:0,width:439.0257558790593,x:752.0128779395296,y:5387.5,zIndex:50142},properties:{htmlId:"image-33614",pointerEvents:At.None},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/65/29504591534230a24fc7d6db362e5e/1chjc3s.png"},ID:766548,locked:!1,parentId:759167,position:{height:313.64,rotationDeg:0,width:439.0257558790593,x:413.39940129500815,y:5387.5,zIndex:50187},properties:{htmlId:"section-58000",pointerEvents:At.None},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/65/29504591534230a24fc7d6db362e5e/1chjc3s.png"},ID:766550,locked:!1,parentId:759167,position:{height:313.64,rotationDeg:0,width:439.0257558790593,x:-262.6042984417369,y:5387.5,zIndex:50152},properties:{htmlId:"section-62078",pointerEvents:At.None},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/65/29504591534230a24fc7d6db362e5e/1chjc3s.png"},ID:766551,locked:!1,parentId:759167,position:{height:313.64,rotationDeg:0,width:439.0257558790593,x:1085.7866873314392,y:5387.5,zIndex:50157},properties:{htmlId:"section-64243",pointerEvents:At.None},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/65/29504591534230a24fc7d6db362e5e/1chjc3s.png"},ID:766552,locked:!1,parentId:759167,position:{height:313.64,rotationDeg:0,width:439.0257558790593,x:-591.3953796961819,y:5387.5,zIndex:50162},properties:{htmlId:"section-66842",pointerEvents:At.None},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{URL:"https://asset.mmm.page/65/29504591534230a24fc7d6db362e5e/1chjc3s.png"},ID:766549,locked:!1,parentId:759167,position:{height:313.64,rotationDeg:0,width:439.0257558790593,x:76.44420574729537,y:5387.5,zIndex:50147},properties:{htmlId:"section-59918",pointerEvents:At.None},source:null,styles:{overflow:"hidden"},type:"image"},{altText:null,content:{richButtonColor:"#7289da",richButtonIcon:{icon:"fab-discord",placement:"left"},richButtonText:{align:"center",bold:!1,color:"#fff",font:"lato",size:43.84542523915158,text:"the mmm discord"}},ID:759340,locked:!1,parentId:759167,position:{height:128.95713305632816,rotationDeg:4.093467369014609,width:128.9571330563282,x:310.5,y:5307.251393644935,zIndex:49812},properties:{hyperlink:"https://discord.gg/4ZCvv8aNKd",hyperlinkTarget:"_blank"},source:null,styles:{borderRadius:6},type:"rich-button"},{altText:"twitter.com/xhfloz",content:{richButtonColor:"#1DA1F2",richButtonIcon:{icon:"fab-twitter",placement:"left"},richButtonText:{align:"center",bold:!1,color:"#fff",font:"lato",size:43.84542523915158,text:"twitter.com/xhfloz"}},ID:759342,locked:!1,parentId:759167,position:{height:128.95713305632816,rotationDeg:-3.5216612180960163,width:128.9571330563282,x:480.4183968603336,y:5307.251393644935,zIndex:50182},properties:{hyperlink:"https://twitter.com/xhfloz",hyperlinkTarget:"_blank"},source:null,styles:{borderRadius:6},type:"rich-button"},{altText:null,content:{richButtonColor:"#d35a56",richButtonIcon:{icon:"fas-envelope",placement:"left"},richButtonText:{align:"center",bold:!1,color:"#fff",font:"lato",size:43.84542523915158,text:"support@mmm.page"}},ID:759343,locked:!1,parentId:759167,position:{height:128.95713305632816,rotationDeg:-3.811247294711767,width:128.9571330563282,x:140.61782321517398,y:5307.251393644935,zIndex:49807},properties:{hyperlink:"mailto:support@mmm.page",hyperlinkTarget:"_blank"},source:null,styles:{borderRadius:6},type:"rich-button"},{altText:"",content:{color:"#666666",font:"lato",text:'{"type":"doc","content":[{"type":"paragraph","attrs":{"lineHeight":1.25,"textAlign":"left"},"content":[{"type":"text","marks":[{"type":"italic"},{"type":"textStyle","attrs":{"color":"rgba(0, 0, 0, 0.2)","fontSize":32,"font":"times-new-roman"}}],"text":"Sorry, minimalism"}]}]}',fontSize:32,isBold:!1,isItalic:!1,textAlign:"center",useAutosize:!1},ID:766580,locked:!1,parentId:759167,position:{height:40,rotationDeg:0,width:242.09318576260878,x:829.0465928813044,y:5332.207544877451,zIndex:49797},properties:{htmlId:"section-80680",hyperlink:"https://paper.mmm.dev",hyperlinkTarget:"_self"},source:null,styles:{},type:"text"}],updatedAt:"2023-04-18T16:50:54.516591Z"},ud={onDrag:[],onDragStart:[],onDragEnd:[],onKeyDown:[],onKeyUp:[],onPointerUp:[],onThingAdded:[],onThingUpdated:[],onThingRemoved:[],onThingSelected:[],onFontLoad:[],onPagePublishSuccess:[],onPagePublishError:[]};var md=function(e,t,a,n){return new(a||(a=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}))};const gd=new de({caller:"MmmApp"});class pd{constructor({handlers:e=Zc}={handlers:Zc}){this.doNotDeepMerge=!0,this.setLayoutGuides=e=>{const t=function(e,t){return zc.debug("LayoutGuides set",t),Object.assign(Object.assign({},e),{layoutGuides:t})}(this.state.editor,e);return this.setStateSlice({editor:t})},this.mutateThings=(e,{thingsToMutate:t,inProgress:a=!1,useLayoutGuides:n=[],updateSelectedParentIds:i=!0,addToChangeHistory:o}={inProgress:!1,useLayoutGuides:[]})=>{if(void 0===this.state.page.stable)return gd.warn("Stable page was not found in mutateThings()"),this;if(!hl(this.state))return this;const s=null!=t?t:Tc(this.state);if(0===s.length)return gd.info("No-op. Nothing to mutate."),this;let r=new cd(s),l=[];l=!0===n?["translate","transform","rotate"]:!1===n?[]:n,l.length>0&&r.useLayoutGuides((e=>this.setLayoutGuides(e)),this.state.page.stable.things,l),r=e(r);const c=function(e,t,a,n,{thingsToMutate:i,inProgress:o}){o?fc.debug(`Mutated ${i.length} things in inProgress`):fc.info(`Mutated ${i.length} things in stable`),a(t.get());const{pageState:s,newParentIds:r}=es.setThings(e,t.get(),o);return r&&n(r),s}(this.state.page,r,(e=>{this.invokeCallbacks("onThingUpdated",{updated:e})}),(e=>{i&&this.selectParents(e.toArray(),!0)}),{thingsToMutate:s,inProgress:a});return this.setStateSlice({page:c},null!=o?o:!a)},this.f=e=>{var t;return Object.assign(Object.assign({},e),{ids:null!==(t=e.ids)&&void 0!==t?t:this.selectOnce(_c).toArray()})},this.setLastChangeSnapshot=()=>{const e=z()(this.state);return delete e.editor.lastChangeSnapshot,this.setStateSlice({editor:Object.assign(Object.assign({},this.state.editor),{lastChangeSnapshot:e})})},this.clearLastChangeSnapshot=()=>this.setStateSlice({editor:Object.assign(Object.assign({},this.state.editor),{lastChangeSnapshot:void 0})}),this.publishPage=({newPage:e}={})=>md(this,void 0,void 0,(function*(){if(gd.debug("publishPage() called"),void 0===this.state.page.stable)return!1;this.state.page.inProgress&&this.commitInProgressPage(),this.resetEditor();const t=z()(null!=e?e:ts(this.state.page.stable));if(void 0===t)return!1;we.clear(t.ID),t.settings.editorVersion=p.currentEditorVersion;const[a,n]=yield((e,t)=>fr(void 0,void 0,void 0,(function*(){var a,n;try{return[(yield yr.put(`/page/${e}`,t)).data,void 0]}catch(e){const{response:i}=e,{data:o}=i;Pr(i);const s=o.trim();switch(s){case ft.PageNoPermission:Hs.play("denied"),(0,r.Am)(rr);break;case ft.PageSlugAlreadyUsed:Hs.play("denied"),(0,r.Am)(or);break;case ft.ThingInvalidHyperlink:Hs.play("denied"),vr.error("Uncaught by client: ThingInvalidHyperlink"),(0,r.Am)("One of the hyperlinks is causing an issue. Please report bug.");break;case ft.ThingsPerPageLimitExceeded:{vr.error("Uncaught by client: ThingsPerPageLimitExceeded");const e=null!==(n=null===(a=t.things)||void 0===a?void 0:a.length)&&void 0!==n?n:0,{maxThingsPerPage:i}=Is([mt.Basic]);if(e>i){sc({message:e-i+" too many blocks on this page to publish",eventName:"max_things_per_page_exceeded"});break}vr.error("ThingsPerPageLimitExceeded mistakenly thrown. Fewer things than plan cap.")}default:Hs.play("denied"),(0,r.Am)(lr)}return[void 0,new Error(s)]}})))(t.ID,{slug:t.slug,things:t.things,relativeHeight:t.relativeHeight,style:t.style,isListed:t.isListed,isPeekable:t.isPeekable,isPublic:t.isPublic,isDisabled:t.isDisabled,settings:t.settings});if(void 0===a||void 0!==n)return!1;const{page:i}=a;return this.invokeCallbacks("onPagePublishSuccess",{page:i}),this.loadPage(i,!1),!0})),this.updateAndPublishSite=e=>md(this,void 0,void 0,(function*(){if(void 0===this.state.page.stable)return!1;const t=ts(this.state.page.stable),[a,n]=yield((e,t)=>fr(void 0,void 0,void 0,(function*(){try{return[(yield yr.put(`/site/${e}`,t)).data,void 0]}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),a.trim(),(0,r.Am)(lr),[void 0,new Error(a)]}})))(t.site.ID,e);return void 0!==a&&void 0===n&&(yield this.loadPageFromURL(!1),!0)})),this.loadPageFromURL=(e=!0)=>md(this,void 0,void 0,(function*(){if("/"===location.pathname)return void this.loadPage(dd,!0);const[t,a]=re(location.pathname);if(void 0===t)return void gd.error("invalid slug",{siteSlug:t,pageSlug:a});document.title=void 0!==t&&void 0!==a?`${t}.${a}`:`${t}`;const[n,i]=yield xr(t,null!=a?a:p.indexPageSlug);if(void 0===n||void 0!==i)return;const o=n.page;this.loadPage(o,e)})),this.store_DO_NOT_USE_DIRECTLY=(0,U.Z)((()=>Yc)),this.useStore=(0,B.Z)(this.store_DO_NOT_USE_DIRECTLY),this._handlers=e,this._callbacks=ud,this.loadPreferencesFromStorage(),this.resetEditor(),gd.info("MmmApp initialized")}get state(){return this.store_DO_NOT_USE_DIRECTLY.getState()}get handlers(){return this._handlers}get page(){return this.state.page}getTipTapEditor(){return this._tipTapEditor}setTipTapEditor(e){return this._tipTapEditor=e,this}applyPatch(e,t){var a;if(void 0===e||0===Object.keys(e).length)return this;let n;if(t&&this._handlers.addToChangeHistory){const t=null!==(a=this.state.editor.lastChangeSnapshot)&&void 0!==a?a:this.state;let{result:i,before:o,after:s}=be(t,e);n=i,j()(o,s)||this._handlers.addToChangeHistory(this.state,{type:Xc.Patch,before:z()(o),after:z()(s)}),this.clearLastChangeSnapshot()}else n=fe(this.state,e);return pe.syncPageState(n.page),this.store_DO_NOT_USE_DIRECTLY.setState(n,!0),this}setState(e,t){var a;if(t&&this._handlers.addToChangeHistory)if(j()(this.state,e))gd.info("setState() did not add to change history since state was unchanged");else{const t=null!==(a=this.state.editor.lastChangeSnapshot)&&void 0!==a?a:z()(this.state);this._handlers.addToChangeHistory(this.state,{type:Xc.Full,before:t,after:z()(e)}),this.clearLastChangeSnapshot()}return pe.syncPageState(e.page),this.store_DO_NOT_USE_DIRECTLY.setState(e,!0),this}setStateSlice(e,t,a){let n;for(let t in e){n=t;break}if(void 0===n)return gd.warn("Error updating stateSlice: no key found"),this;if(t&&this._handlers.addToChangeHistory)if(a){const{before:e,after:t}=a;this._handlers.addToChangeHistory(this.state,{type:Xc.Slice,before:e,after:t}),this.clearLastChangeSnapshot()}else{const{lastChangeSnapshot:t}=this.state.editor;if(t)this._handlers.addToChangeHistory(this.state,{type:Xc.Full,before:t,after:this.state}),this.clearLastChangeSnapshot();else{const t={[n]:this.state[n]};this._handlers.addToChangeHistory(this.state,{type:Xc.Slice,before:t,after:e})}}if("page"===n){const t=e.page;pe.syncPageState(t)}return this.store_DO_NOT_USE_DIRECTLY.setState(e),this}applyPatchDangerously(e,t,a){3048203334==e?this.applyPatch(t,a):gd.error("Someone tried to call applyPatchDangerously() without knowing what they're doing!")}setStateDangerously(e,t,a){3048203334==e?this.setState(t,a):gd.error("Someone tried to call setStateDangerously() without knowing what they're doing!")}setStateSliceDangerously(e,t,a){3048203334==e?this.setStateSlice(t,a):gd.error("Someone tried to call setStateSliceDangerously() without knowing what they're doing!")}addChangeDangerously(e,t){3048203334==e?this._handlers.addToChangeHistory?(this._handlers.addToChangeHistory(this.state,t),this.clearLastChangeSnapshot()):gd.warn("addToChangeHistory handler not found when trying to add to change history"):gd.error("Someone tried to call addChangeDangerously() without knowing what they're doing!")}selectOnce(e){return e(this.state)}setHandler(e){return this._handlers=fe(this._handlers,e),this}registerCallbacks(e){return this._callbacks=fe(this._callbacks,e),this}registerCallback(e,t){return this._callbacks[e].push(t),this}unregisterCallback(e,t,a=!1){return this._callbacks[e].length,this._callbacks[e]=this._callbacks[e].filter((e=>e!==t)),this}invokeCallbacks(e,t){const a=this._callbacks[e];gd.debug(`Invoked ${a.length} callbacks for ${e}`),null==a||a.forEach((e=>{e(this.state,t)}))}setDevice(e){return this.setState(Object.assign(Object.assign({},this.state),{device:Ee(this.state.device,e)}))}resetEditor(){gd.info("resetEditor() called"),void 0!==this.page.inProgress&&this.commitInProgressPage();const e=function(e,t){const a=e.modeHandler;return a&&a.name!==Ce.Layout&&a.onModeEnd(t),zc.info("Editor reset"),Object.assign(Object.assign({},Ie),{modeHandler:new Gl(t)})}(this.state.editor,this),t=Object.assign(Object.assign({},this.state.gesture),{handle:void 0}),a=Object.assign(Object.assign({},this.state.interface),{cursor:{type:"pointer",rotationDeg:0}});return this.setState(Object.assign(Object.assign({},this.state),{editor:e,gesture:t,interface:a}))}setMode(e){const t=function(e,t,a){let n;switch(t){case void 0:n=void 0;break;case Ce.Drawing:n=new Te(a);break;case Ce.TextEditing:n=new Ac(a);break;case Ce.InlineTextEditing:n=new Rc(a);break;case Ce.Layout:default:n=new Gl(a)}return zc.info("Editor mode set to:",t),n&&n.onModeStart(a),Object.assign(Object.assign({},e),{modeHandler:n})}(this.state.editor,e,this);return this.setState(Object.assign(Object.assign({},this.state),{editor:t}))}setModeState(e){const t=function(e,t){return zc.info("Editor modeState set:",{modeState:t}),Object.assign(Object.assign({},e),{modeState:t})}(this.state.editor,e);return this.setState(Object.assign(Object.assign({},this.state),{editor:t}))}selectThings(e,t){if((0,A.is)((0,A.l4)(e),this.state.editor.selectedIds))return this;this.invokeCallbacks("onThingSelected",{selectedIds:e});const a=xc(this.state.page,e),n=Lc(this.state.editor,e,a);return this.setStateSlice({editor:n},!1)}selectParents(e,t=!1){const a=t?function(e,t){return Object.assign(Object.assign({},e),{selectedParentIds:(0,A.l4)(t)})}(this.state.editor,e):Lc(this.state.editor,[],e);return this.setStateSlice({editor:a},!1)}unselectThings(e,t=!0){const a=null!=e?e:this.state.editor.selectedIds.toArray(),n=e?xc(this.state.page,null!=e?e:this.state.editor.selectedIds.toArray()):this.state.editor.selectedParentIds.toArray();if(0===a.length&&0===n.length)return this;const i=jc(this.state.editor,a,n);return this.setStateSlice({editor:i},!1)}unselectParents(e){const t=jc(this.state.editor,[],e);return this.setStateSlice({editor:t},!1)}setHovered(e){const t=function(e,t){return zc.debug("Set hovered to",t),Object.assign(Object.assign({},e),{hoveredId:t})}(this.state.editor,e);return this.setStateSlice({editor:t})}isInvalidInteraction(){return!this.state.gesture.gestureDetectionEnabled||this.handlers.isPointerOverUiElement&&this.handlers.isPointerOverUiElement(this.state)}setTouchMove(e){const t=function(e,t){return Re.info("Set touch move:",t),Object.assign(Object.assign({},e),{canTouchMove:t})}(this.state.gesture,e);return this.setState(Object.assign(Object.assign({},this.state),{gesture:t}))}enableGestureDetection(e){const t=function(e,t){return Re.info("Set allow interactions:",t),Object.assign(Object.assign({},e),{gestureDetectionEnabled:t})}(this.state.gesture,e);return this.setState(Object.assign(Object.assign({},this.state),{gesture:t}))}onPointerMove(e){var t,a;const n=function(e,t){return Object.assign(Object.assign({},e),{pointer:t})}(this.state.gesture,e);return this.setStateSlice({gesture:n}),null!==(a=null===(t=this.state.editor.modeHandler)||void 0===t?void 0:t.onPointerMove(this))&&void 0!==a?a:this}onPointerDown(e){var t,a;const n=function(e,t){return Re.info("onPointerDown"),Object.assign(Object.assign({},e),{pointer:t})}(this.state.gesture,e);return this.setStateSlice({gesture:n}),null!==(a=null===(t=this.state.editor.modeHandler)||void 0===t?void 0:t.onPointerDown(this))&&void 0!==a?a:this}onPointerUp(e){var t,a;const n=function(e,t){return Re.info("onPointerUp"),Object.assign(Object.assign({},e),{pointer:t})}(this.state.gesture,e);return this.setStateSlice({gesture:n}),this.invokeCallbacks("onPointerUp",{}),null!==(a=null===(t=this.state.editor.modeHandler)||void 0===t?void 0:t.onPointerUp(this))&&void 0!==a?a:this}onTap(e){var t,a;const n=function(e,t){return Re.info("onTap"),Object.assign(Object.assign({},e),{pointer:t})}(this.state.gesture,e);return this.setState(Object.assign(Object.assign({},this.state),{gesture:n})),this.isInvalidInteraction()?(gd.info("onTap canceled. Invalid interaction detected."),this):null!==(a=null===(t=this.state.editor.modeHandler)||void 0===t?void 0:t.onTap(this))&&void 0!==a?a:this}onKeyDown(e){var t,a;const n=function(e,t){const{keys:a}=e,n=t.toLowerCase();return Re.debug("Key down:",n),Object.assign(Object.assign({},e),{keys:a.add(n)})}(this.state.gesture,e);return this.setState(Object.assign(Object.assign({},this.state),{gesture:n})),this.isInvalidInteraction()?(gd.info("onKeyDown canceled. Invalid interaction detected."),this):(this.invokeCallbacks("onKeyDown",{key:e}),null!==(a=null===(t=this.state.editor.modeHandler)||void 0===t?void 0:t.onKeyDown(this,e))&&void 0!==a?a:this)}onKeyUp(e){var t,a;const n=function(e,t){const{keys:a}=e,n=t.toLowerCase();return Re.info("Key up:",n),Object.assign(Object.assign({},e),{keys:a.delete(n)})}(this.state.gesture,e);return this.setState(Object.assign(Object.assign({},this.state),{gesture:n})),this.isInvalidInteraction()?(gd.info("onKeyUp canceled. Invalid interaction detected."),this):(this.invokeCallbacks("onKeyUp",{key:e}),null!==(a=null===(t=this.state.editor.modeHandler)||void 0===t?void 0:t.onKeyUp(this,e))&&void 0!==a?a:this)}clearKeys(){const{keys:e}=this.state.gesture;return e.forEach((e=>this.onKeyUp(e))),gd.info("Keys cleared",e),this}onDragStart(e){var t,a;const n=function(e,t){const{active:a}=e;return Re.info("onDragStart"),Object.assign(Object.assign({},e),{active:a.concat(["drag"]),drag:Object.assign(Object.assign({},t),{elapsedTimeMs:0,lastDeltaCpx:[0,0]})})}(this.state.gesture,e);return this.setState(Object.assign(Object.assign({},this.state),{gesture:n})),this.invokeCallbacks("onDragStart"),this.isInvalidInteraction()?(gd.info("onDragStart canceled. Invalid interaction detected."),this):null!==(a=null===(t=this.state.editor.modeHandler)||void 0===t?void 0:t.onDragStart())&&void 0!==a?a:this}onDrag(e,t=!0){var a,n;const i=function(e,t){return e.drag?Object.assign(Object.assign({},e),{drag:Object.assign(Object.assign({},e.drag),t)}):(Re.warn("Tried to called `onDrag` without a valid `dragState`"),e)}(this.state.gesture,e);return this.setState(Object.assign(Object.assign({},this.state),{gesture:i})),t&&this.invokeCallbacks("onDrag"),null!==(n=null===(a=this.state.editor.modeHandler)||void 0===a?void 0:a.onDrag(this))&&void 0!==n?n:this}onDragEnd(){var e;this.isInvalidInteraction()||(gd.info("onDragEnd canceled. Invalid interaction detected."),null===(e=this.state.editor.modeHandler)||void 0===e||e.onDragEnd(this)),this.invokeCallbacks("onDragEnd");const t=function(e){const{active:t}=e;return Re.info("onDragEnd"),Object.assign(Object.assign({},e),{active:t.filter((e=>"drag"!==e)),drag:void 0})}(this.state.gesture);return this.setState(Object.assign(Object.assign({},this.state),{gesture:t}))}onDragOverStart(e=!0){const t=function(e){const{active:t}=e;return Re.info("onDragStart"),Object.assign(Object.assign({},e),{active:t.concat(["dragover"])})}(this.state.gesture);return this.setState(Object.assign(Object.assign({},this.state),{gesture:t}))}onDragOver(e=!0){const t=function(e){const{active:t}=e;return Re.debug("onDragOver"),Object.assign({},e)}(this.state.gesture);return this.setState(Object.assign(Object.assign({},this.state),{gesture:t}))}onDragOverEnd(e=!0){const t=function(e){const{active:t}=e;return Re.info("onDragOverEnd"),Object.assign(Object.assign({},e),{active:t.filter((e=>"dragover"!==e))})}(this.state.gesture);return this.setState(Object.assign(Object.assign({},this.state),{gesture:t}))}onDrop(e=!0){const t=function(e){const{active:t}=e;return Re.info("onDrop"),Object.assign(Object.assign({},e),{active:t.filter((e=>"dragover"!==e))})}(this.state.gesture);return this.setState(Object.assign(Object.assign({},this.state),{gesture:t}))}onPinchStart(e){var t,a;const n=function(e,t){const{active:a}=e;return Re.info("onPinchStart"),Object.assign(Object.assign({},e),{active:a.concat(["pinch"]),pinch:Object.assign(Object.assign({},t),{elapsedTimeMs:0})})}(this.state.gesture,e);return this.setState(Object.assign(Object.assign({},this.state),{gesture:n})),this.isInvalidInteraction()?(gd.info("onPinchStart canceled. Invalid interaction detected."),this):null!==(a=null===(t=this.state.editor.modeHandler)||void 0===t?void 0:t.onPinchStart(this))&&void 0!==a?a:this}onPinch(e){var t,a;const n=function(e,t){return e.pinch?Object.assign(Object.assign({},e),{pinch:Object.assign(Object.assign({},e.pinch),t)}):(Re.warn("Tried to called `onPinch` without a valid `pinchState`"),e)}(this.state.gesture,e);return this.setState(Object.assign(Object.assign({},this.state),{gesture:n})),null!==(a=null===(t=this.state.editor.modeHandler)||void 0===t?void 0:t.onPinch(this))&&void 0!==a?a:this}onPinchEnd(){var e;this.isInvalidInteraction()||(gd.info("onPinchEnd canceled. Invalid interaction detected."),null===(e=this.state.editor.modeHandler)||void 0===e||e.onPinchEnd(this));const t=function(e){const{active:t}=e;return Re.info("onPinchEnd"),Object.assign(Object.assign({},e),{active:t.filter((e=>"pinch"!==e)),pinch:void 0})}(this.state.gesture);return this.setState(Object.assign(Object.assign({},this.state),{gesture:t}))}setHandle(e){const t=function(e,t){return Re.info("Handle set to",t),Object.assign(Object.assign({},e),{handle:t})}(this.state.gesture,e);return this.setState(Object.assign(Object.assign({},this.state),{gesture:t}))}toggleDebug(){const e=(t=this.state.interface,ul.info("Debug set to",!t.debug),Object.assign(Object.assign({},t),{debug:!t.debug}));var t;return this.setStateSlice({interface:e})}setPermissions(e){const t=function(e,t){const a=(0,A.l4)(t);return ul.info("Permissions added",t),Object.assign(Object.assign({},e),{permissions:a})}(this.state.interface,e);return this.setStateSlice({interface:t})}resetPermissions(){const e=(t=this.state.interface,ul.info("Permissions reset"),Object.assign(Object.assign({},t),{permissions:(0,A.l4)()}));var t;return this.setStateSlice({interface:e})}toggleInterfaceMode(e){const t=function(e,t){const a=null!=t?t:e.mode===rl.Previewing?rl.Editing:rl.Previewing;return ul.info("Toggled interface mode to:",a),Object.assign(Object.assign({},e),{mode:a})}(this.state.interface,e);return this.setState(Object.assign(Object.assign({},this.state),{interface:t}))}addFlags(e){const t=function(e,t){const{flags:a}=e;return ul.info("Added flags:",t),Object.assign(Object.assign({},e),{flags:a.withMutations((e=>t.forEach((t=>e.add(t)))))})}(this.state.interface,e);return this.setState(Object.assign(Object.assign({},this.state),{interface:t}))}removeFlags(e){const t=function(e,t){const{flags:a}=e;return ul.info("Removed flags:",t),Object.assign(Object.assign({},e),{flags:a.withMutations((e=>{t.forEach((e=>a.remove(e)))}))})}(this.state.interface,e);return this.setState(Object.assign(Object.assign({},this.state),{interface:t}))}setCursor(e){const t=function(e,t){return ul.info("Cursor set to:",t),Object.assign(Object.assign({},e),{cursor:t})}(this.state.interface,e);return this.setStateSlice({interface:t})}setIsFullScreen(e){const t=function(e,t){return ul.debug("Set isFullScreen size to:",t),Object.assign(Object.assign({},e),{canvas:Object.assign(Object.assign({},e.canvas),{isFullScreen:t})})}(this.state.interface,e);return this.setState(Object.assign(Object.assign({},this.state),{interface:t}))}setCanvasSizePx(e){const t=function(e,t){let[a,n]=t;a&&(a=Math.max(a,p.minWindowWidthPx));const{canvas:i}=e;return i.widthPx=null!=a?a:-1,i.heightPx=null!=n?n:-1,ul.debug("Set canvas size to:",t),Object.assign(Object.assign({},e),{canvas:i})}(this.state.interface,e);return this.setState(Object.assign(Object.assign({},this.state),{interface:t}))}setCanvasAnimation(e){const t=function(e,t){return ul.info("Set canvas animation to:",t),Object.assign(Object.assign({},e),{canvas:Object.assign(Object.assign({},e.canvas),{useAnimation:t})})}(this.state.interface,e);return this.setState(Object.assign(Object.assign({},this.state),{interface:t}))}enableCanvasKeyboardShortcuts(e){const t=function(e,t){return ul.info("Canvas keyboard shortcuts "+(t?"enabled":"disabled")),Object.assign(Object.assign({},e),{useCanvasKeyboardShortcuts:t})}(this.state.interface,e);return this.setState(Object.assign(Object.assign({},this.state),{interface:t}))}hideEditorUi(e=!0){const t=function(e,t=!0){return ul.info("Editor UI forcibly set to:",t?"hidden":"visible"),Object.assign(Object.assign({},e),{isEditorUiHidden:t})}(this.state.interface,e);return this.setState(Object.assign(Object.assign({},this.state),{interface:t}))}toggleFocusMode(e){const t=function(e,t){const a=null!=t?t:!e.focusMode;return ul.info("Focus mode set to",a),Object.assign(Object.assign({},e),{focusMode:a})}(this.state.interface,e);return this.setStateSlice({interface:t})}enableSafeMode(){const e=(t=this.state.interface,ul.info("Safe mode enabled"),Object.assign(Object.assign({},t),{safeMode:!0}));var t;return this.setState(Object.assign(Object.assign({},this.state),{interface:e}))}disableSafeMode(){const e=(t=this.state.interface,ul.info("Safe mode disabled"),Object.assign(Object.assign({},t),{safeMode:!1}));var t;return this.setState(Object.assign(Object.assign({},this.state),{interface:e}))}registerUi(e,t){const a=function(e,t,a){const n=e.registeredUis;if(n.has(t))return ul.error("Illegal attempt to re-register already-registered UI!",t),e;const i=Object.assign(Object.assign({},dl),a);return ul.debug("Registered UI:",t),Object.assign(Object.assign({},e),{registeredUis:n.set(t,i)})}(this.state.interface,e,t);return this.setState(Object.assign(Object.assign({},this.state),{interface:a}))}unregisterUi(e){const t=function(e,t){const a=e.registeredUis;return ul.debug("Unregistered UI:",t),Object.assign(Object.assign({},e),{registeredUis:a.remove(t)})}(this.state.interface,e);return this.setState(Object.assign(Object.assign({},this.state),{interface:t}))}setLoadedFonts(e){const t=function(e,t){const a=(0,A.D5)(t.map((e=>[e.font,e])));return ul.info("Set loaded fonts:",t),Object.assign(Object.assign({},e),{loadedFonts:a})}(this.state.interface,e);return this.setState(Object.assign(Object.assign({},this.state),{interface:t}))}setInUseFonts(e){const t=function(e,t){const a=(0,A.D5)(t.map((e=>[e.font,e])));return ul.info("Set in use fonts:",t),Object.assign(Object.assign({},e),{inUseFonts:a})}(this.state.interface,e);return this.setState(Object.assign(Object.assign({},this.state),{interface:t}))}loadFonts(e){const t=function(e,t){let a=e.inUseFonts;return a=a.withMutations((e=>{t.forEach((t=>{const a=e.get(t.font),n=Object.assign({},t);n.styles=fo(t.font,t.styles),e=a?e.set(n.font,lo(n,a)):e.set(n.font,n)}))})),Object.assign(Object.assign({},e),{inUseFonts:a})}(this.state.interface,e);return this.invokeCallbacks("onFontLoad",{fonts:e}),this.setState(Object.assign(Object.assign({},this.state),{interface:t}))}toggleCodeEditor(e){const t=function(e,t){return ul.info("Code editor toggled to",t),Object.assign(Object.assign({},e),{isCodeEditorActive:t})}(this.state.interface,e);return e&&this.setPreferences({"expertMode.enabled":!0}),this.setState(Object.assign(Object.assign({},this.state),{interface:t}))}setExpertSidebarWidthPx(e){const t=function(e,t){return ul.info("Expert sidebar width set to",t),Object.assign(Object.assign({},e),{expertSidebarWidthPx:t})}(this.state.interface,e);return this.setState(Object.assign(Object.assign({},this.state),{interface:t}))}loadPage(e,t,a=!1,n=!1){const i=function(e,t,a){return es.loadPage(e,t,a)}(this.state.page,e,a);return this.setStateSlice({page:i},n)}beginInProgressPage(){const e=function(e){const{stable:t}=e;fc.info("Began inProgress page");const a=pa.initialize(t.things,"in-progress");return Object.assign(Object.assign({},e),{inProgress:t,inProgressThingTree:a})}(this.state.page);return this.setState(Object.assign(Object.assign({},this.state),{page:e}))}cancelInProgressPage(){gd.info("inProgress page canceled");const e=bc(this.state.page);return this.setState(Object.assign(Object.assign({},this.state),{page:e}))}commitInProgressPage(){var e;const t=null!==(e=this.state.editor.lastChangeSnapshot)&&void 0!==e?e:this.state,{state:a,changed:n}=yc(this.state.page);if(n){const{lastChangeSnapshot:e}=this.state.editor,n=e?Object.assign(Object.assign({},t.page),{inProgress:void 0,inProgressThingTree:void 0}):z()(Object.assign(Object.assign({},this.state.page),{inProgress:void 0,inProgressThingTree:void 0}));this.clearLastChangeSnapshot();const i={before:{page:n},after:{page:a}};return this.setStateSlice({page:a},!0,i)}return this.setStateSlice({page:a},!1)}removeThings(e){const t=null!=e?e:this.state.editor.selectedIds.toArray();if(!hl(this.state))return this;if(0===t.length)return gd.info("No-op. Nothing deleted since no IDs selected."),this;const a=function(e,t){return es.removeThings(e,t)}(this.state.page,t);return this.invokeCallbacks("onThingRemoved"),this.setStateSlice({page:a},!0)}patchThingsThisIsSuperRawAndUnadvisedPleaseDontUse(e,{inProgress:t=!1,addToChangeHistory:a=!0}={inProgress:!1,addToChangeHistory:!0}){const n=function(e,t,a,n=!1){const i=n?e.inProgress:e.stable;if(!i)return e;let o=[];const s=i.things.withMutations((e=>t.forEach((t=>{const a=fe(e.get(t.ID),t);e.set(t.ID,a),o.push(a)}))));a(o);const{things:r,relativeHeight:l}=((e,t,a)=>({relativeHeight:as(e,t.margin),things:a?e:es.recalculateZIndices(e),thingIds:(0,A.l4)(e.keys())}))(s,i.style,n);return n?(fc.debug(`Set ${s.size} things in inProgress`),Object.assign(Object.assign({},e),{inProgress:Object.assign(Object.assign({},i),{things:r,relativeHeight:l})})):(fc.info(`Set ${s.size} things in stable`),Object.assign(Object.assign({},e),{stable:Object.assign(Object.assign({},i),{things:r,relativeHeight:l}),hasPublishableChanges:!0}))}(this.state.page,e,(e=>{this.invokeCallbacks("onThingUpdated",{updated:e})}),t);return this.setStateSlice({page:n},a)}mutateTextStyle(e){const t=this.getTipTapEditor();return t?(e(new Qc(this,t)),this):(gd.error("Attempt to mutate text style without an editor loaded"),this)}buildThings(e,t=!0,a=!0){var n,i;let o=[];const s=function(e,t,a,n,i){const o=n(new gc(e.stable,a)).get();return cc.canAddThings(t,o,e.stable,!0)?(i&&i(o),es.buildThings(e,o)):e}(this.state.page,null!==(i=null===(n=this.state.user.account)||void 0===n?void 0:n.roles)&&void 0!==i?i:[],this.state.editor.selectedIds,e,(e=>{t&&(o=e)}));return hl(this.state)?0===o.length?(gd.info("No-op. Nothing created."),this):(this.setStateSlice({page:s},a),this.invokeCallbacks("onThingAdded",{newThings:o}),t&&this.unselectThings(void 0,!1).selectThings(o.map((e=>e.ID)),!1),this):this}mutatePage(e,{page:t,inProgress:a=!1,addToChangeHistory:n=!0}={addToChangeHistory:!0}){if(void 0===(t=null!=t?t:this.state.page.stable))return gd.warn("Tried to mutate when page is undefined"),this;if(!hl(this.state))return this;const i=function(e,t,a,n){return n?fc.debug(`Mutated page ${t.ID} in inProgress`):fc.info(`Mutated page ${t.ID} in stable`),es.setPage(e,a(new hc(t)).get(),n)}(this.state.page,t,e,a);return this.setStateSlice({page:i},n&&!a)}setPageLoading(e){const t=function(e,t){return fc.info(`Set page loading: ${t}`),Object.assign(Object.assign({},e),{loading:t})}(this.state.page,e);return this.setStateSlice({page:t})}loadPreferencesFromStorage(){return this.setStateSlice({preferences:_r(this.state.preferences)})}setPreferences(e){return this.setStateSlice({preferences:Hr(this.state.preferences,e)})}togglePreferences(e,t,a){return this.setStateSlice({preferences:Gr(this.state.preferences,e,t,a)})}loadAccount(e,t){return this.setStateSlice({user:Ql(this.state.user,e,t.fromCache)})}unloadAccount(){return this.setStateSlice({user:(e=this.state.user,Jl.info("Account unloaded"),Object.assign(Object.assign({},e),{account:void 0,status:Kl.LoggedOut}))});var e}loadSitePages(e){return this.setStateSlice({user:ec(this.state.user,e)})}}const hd="?redeem_domain",fd=(0,i.memo)((({})=>(ql(S("toast-container")),function(){const e=ol(),t=e.useStore(tc),a=(0,zr.TH)(),n=(0,zr.s0)(),{showOverlay:o}=hs(),s=e.useStore(ac);i.useEffect((()=>{a.search===hd&&w({event:"loaded-domain-voucher-eligibility-check",location:"hover-eligibility-check"})}),[a.search]);const l=i.useMemo((()=>{var e;return!(a.search!==hd||(s===Kl.LoggedOut?(sc({message:"You need a PRO or PLUS account to redeem domain",eventName:"free-domain",noSfx:!0}),1):void 0===t||!cc.canAddDomain(null!==(e=null==t?void 0:t.roles)&&void 0!==e?e:[])&&(sc({message:"You need a PRO or PLUS account to redeem domain",eventName:"free-domain",noSfx:!0}),1)))}),[t,s,a.search]);i.useEffect((()=>{l&&((0,r.Am)("Voucher activated! Click the top left menu button to redeem."),e.setPreferences({"domainVoucher.read":!1,"domainVoucher.dismissed":!1,"domainVoucher.eligible":!0}),n(a.pathname))}),[o,l])}(),i.createElement(i.Fragment,null))));fd.displayName="AppHooks";var bd=a(51943);const yd=e=>{const{children:t}=e,a=(0,zr.TH)();return(0,i.useEffect)((()=>{w({event:"page-view",location:"global",page:a.pathname}),ue.debug("Location changed",{location:a.pathname})}),[a]),(0,i.useEffect)((()=>{window.scrollTo(0,0)}),[a.pathname]),ol(),i.createElement(i.Fragment,null,i.createElement(bd.q,null,i.createElement("link",{rel:"shortcut icon",type:"image/png",href:"https://static.mmm.page/favicon_small.png"}),i.createElement("link",{rel:"mask-icon",href:"https://static.mmm.page/favicon_small.png",color:"#000000"}),i.createElement("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),i.createElement("meta",{name:"mobile-web-app-capable",content:"yes"}),i.createElement("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),i.createElement("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),i.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code&family=Archivo+Black&family=Roboto+Mono:wght@400;600;900&display=swap",rel:"stylesheet"})),t)};var vd=a(42946),wd=a(30573),Ed=a.n(wd),kd=a(76599),Fd=a.n(kd);const xd=["https://nicolelin.mmm.page/chillin","https://nicolesgallery.mmm.page","https://kylebhawan.mmm.page/nextup","https://kylebhawan.mmm.page/sup","https://ryanseslow.mmm.page/ayeeye","https://emmma.mmm.page/type","https://zachkatz.me/","https://jkb.mmm.page/","https://olszoj.mmm.page/","https://snootie.mmm.page/","https://monty.pk/","https://nilabiska.mmm.page/com","https://christykintzel.com/","https://helena.mmm.page/soft_tech","https://littlebookfair.mmm.page/oneoneone"],Sd=["https://topshelfrecords.mmm.page/knifeplay_film","https://momsmags.mmm.page/hi","https://emmma.mmm.page/gallery","https://samuelmcintosh.com/","https://olszoj.mmm.page/drawings","https://zoesydney.mmm.page/2020","https://humangirl.mmm.page/poetrynewshit","https://shirotenzhen.mmm.page/","https://phantizn.mmm.page/","https://mnn.mmm.page/old","https://bluerabbitfictions.mmm.page/front","https://truefallacies.mmm.page/404","https://peigiurquhart.mmm.page/about","https://emmma.mmm.page/type_ransom","https://jer.mmm.page/","https://devirtualized.mmm.page/","https://peigiurquhart.mmm.page/","https://queenjordanofjupiter.mmm.page/egirlend","https://djpatrick.mmm.page/","https://whistlegraph.mmm.page/about","https://mdac.mmm.page/","https://nicevideo.mmm.page/"],Id=["https://jasno.mmm.page/","https://artificience.mmm.page/isthis_failure","https://natbeth_store_ec.mmm.page/","https://soelver.mmm.page/","https://bungadanbintang.mmm.page/","https://jonsatrom.mmm.page/","https://zozomo.mmm.page/","https://djbirdbones.mmm.page/","https://comics.mmm.page/sketch","https://charliereynolds.mmm.page/werk","https://ellebaet.mmm.page/","https://nicolelin.mmm.page/moreme","https://stc.mmm.page/","https://ryanseslow.mmm.page/","https://serenstudios.mmm.page/","https://xsten.mmm.page/","https://ragged.mmm.page/test","https://humangirl.mmm.page","https://cheyce.mmm.page/","https://thehumangirl.com/braindump","https://7headedswan.mmm.page/main"],Cd=["https://truefallacies.mmm.page/podcast","https://sadiakhatri.mmm.page/workshops","https://wyratt.mmm.page/","https://poetsofup.mmm.page/","https://ragged.mmm.page/test","https://zevy.mmm.page/","https://emmma.mmm.page/type_verre","https://sp3ak3zy.mmm.page/","https://sarinasu.mmm.page/","https://caro.mmm.page/","https://aboutkkhanh.mmm.page/","https://maru.mmm.page/","https://discobot.mmm.page/","https://salisha.mmm.page/","https://yolanda.mmm.page/pdf","https://vaniiillalatte.mmm.page/","https://lobarnes.mmm.page/","https://ironiczombie.mmm.page/gallery","https://earl.mmm.page/","https://nickpe.mmm.page/as","https://zoesydney.mmm.page/awards","https://judycampbell.mmm.page/portfolio","https://lightermachis.mmm.page/","https://kylebhawan.mmm.page/listen","https://whatsupper.mmm.page/","https://espree.mmm.page/podcasts","https://nath.mmm.page/links","https://fletchbeeb.mmm.page/omgthatsme","https://someoneshamster.mmm.page/graphic_design"],Pd=["https://soulcrush.net/","https://trashpipo.mmm.page/bin","https://profryan.mmm.page/","https://bananaverde.mmm.page/restaurante","https://michellecpy.mmm.page/","https://seyyjo.mmm.page/","https://feelingpieces.mmm.page/","https://clwd.mmm.page/","https://stelladesign.mmm.page/","https://queercraftclub.mmm.page/","https://yaelsulkin.mmm.page/gallery","https://monolesan.mmm.page/links","https://katieschultz.mmm.page/","https://shesafuzy.mmm.page/","https://0_won214.mmm.page/","https://samuelfine.mmm.page/","https://stuartdobson.mmm.page/net","https://k8.mmm.page/","https://syles.mmm.page/draft","https://alwaysreve.mmm.page/company"],Td=(0,i.memo)((({})=>{var e;const[t,a]=i.useState("a"),[n,o]=i.useState("https://xh.mmm.page"),[s,l]=i.useState(null!==(e=Fd()(xd))&&void 0!==e?e:""),c=(0,zr.s0)(),d=i.useRef(null),u=i.useRef(null),m=i.useRef({s:xd,v:Sd,a:Id,b:Cd,c:Pd}),g=i.useCallback((()=>{let e;return m.current.s.length>0?(e=Fd()(m.current.s),m.current.s=m.current.s.filter((t=>t!==e))):m.current.v.length>0?(e=Fd()(m.current.v),m.current.v=m.current.v.filter((t=>t!==e))):m.current.a.length>0?(e=Fd()(m.current.a),m.current.a=m.current.a.filter((t=>t!==e))):m.current.b.length>0?(e=Fd()(m.current.b),m.current.b=m.current.b.filter((t=>t!==e))):m.current.c.length>0&&(e=Fd()(m.current.c),m.current.c=m.current.c.filter((t=>t!==e))),e}),[m]),p=i.useCallback((()=>{c("/"),Hs.play("light-click")}),[c]),h=i.useCallback((()=>{const e=g();if(void 0===e)return Hs.play("denied"),void(0,r.Am)("You've reached the end! Why not create one?");Hs.play("light-click"),"a"===t?(a("b"),o(e)):(a("a"),l(e))}),[o,l,t,a,g]),f=i.useMemo((()=>"a"===t?n:s),[t,n,s]);return i.createElement("div",{id:S("explore-container")},i.createElement("div",{className:"browser-chrome"},i.createElement("div",{className:"navigation"},i.createElement(Vs,{mainAxisAlign:"space-between",style:{height:"100%"}},i.createElement("a",{href:f,className:"mobile-only-button",target:"_blank"},i.createElement(xs,{icon:vd.wlW})),i.createElement("div",{className:"url-bar"},i.createElement("a",{href:f,target:"_blank"},f,i.createElement(xs,{icon:vd.wlW}))),i.createElement(Vs,{mainAxisAlign:"end",style:{height:"100%",paddingRight:12},gap:12},i.createElement("button",{onClick:p,style:{borderColor:"rgba(255,255,255,0.24)"}},"Make Your Own"),i.createElement("button",{className:"primary",onClick:h},"Random")))),i.createElement("div",{className:"frame"},i.createElement("div",{className:"notification"},"Remember to scroll!"),i.createElement("iframe",{ref:d,key:n,id:"a",className:Ed()({active:"a"===t}),src:n}),i.createElement("iframe",{ref:u,key:s,id:"b",className:Ed()({active:"b"===t}),src:s}))))}));Td.displayName="ExploreContainer";const Nd=(0,i.memo)((({})=>i.createElement("div",{id:S("explore-screen")},i.createElement(Td,null))));Nd.displayName="ExploreScreen";const Rd=(0,i.memo)((({children:e,className:t,style:a,v:n,h:o,dir:s})=>i.createElement("aside",{className:F()("floating-container",[t],[n],[o],[s]),style:a},e)));Rd.displayName="FloatingContainer";var Dd=a(28896),Od=a.n(Dd),Ad=a(48711),Md=a.n(Ad);const zd=new de({caller:"Fallback"}),Ld=(0,i.memo)((({componentName:e})=>(i.useMemo((()=>{w({event:"crashed",location:null!=e?e:""}),zd.error(`<Fallback /> triggered by ${e}`)}),[]),i.createElement("div",{id:S("fallback")},i.createElement("h2",null,"Uh-Oh"),void 0!==e?i.createElement("p",null,"Something's wrong with ",i.createElement("strong",null,e),". Mind saving your changes, then refreshing the page?"):i.createElement("p",null,"Something's wrong. Mind saving your changes, then refreshing the page?")))));Ld.displayName="Fallback";const jd=(0,i.memo)((({children:e,componentName:t,onReset:a})=>i.createElement(l.SV,{fallback:i.createElement(Ld,{componentName:t}),onReset:a},e)));jd.displayName="ErrorBoundary";var Bd=a(58626),Ud=a(46759);const _d=e=>Date.parse(e);function Hd(e,t=!1){return new Bd.Z("en-US").format(e,t?"mini-minute-now":void 0)}Bd.Z.addDefaultLocale(Ud.Z);const Gd=S("autosave-confirm-dialog"),qd=(0,i.memo)((({active:e,autosaveEnvelope:t,onCancelClick:a,onConfirmClick:n})=>{ol();const{showOverlay:o}=hs();if(i.useEffect((()=>{o(Gd,e)}),[o,e]),void 0===t)return i.createElement(i.Fragment,null);const s=Hd(t.updatedAtMs).replace("just now","very recently");return i.createElement(tr,{id:Gd,options:{closeOnTapOutside:!1}},i.createElement(Js,{width:"narrow"},i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",null,"We've recovered some unpublished changes made ",s,". "),i.createElement("p",null,"Do you want to recover them?"))),i.createElement(Ws,null,i.createElement(Vs,{gap:8},i.createElement(Zs,{onClick:()=>{n(),o(Gd,!1)}},"Recover"),i.createElement(Zs,{onClick:()=>{a(),o(Gd,!1)},vibe:"secondary"},"Discard Changes")))))}));qd.displayName="AutosaveConfirmDialog";const Wd={margin:14,closeOthersOnOpen:!1,onPopoverClose:()=>{},autoPosition:!1},Vd=fs((({id:e,targetRef:t,tags:a,closeOnTapOutside:n=!0,visible:o,placement:s="above",options:{margin:r=Wd.margin,closeOthersOnOpen:l=Wd.closeOthersOnOpen,onPopoverClose:c=Wd.onPopoverClose,autoPosition:d=Wd.autoPosition}=Wd,className:u,children:m,style:g,idsToIgnoreForOutsideClick:p},h)=>{const[f,b]=(0,i.useState)({}),y=(0,i.useCallback)((e=>{var a;if(null===e)return;null!=h&&(h.current=e);const n=null===(a=t.current)||void 0===a?void 0:a.getBoundingClientRect(),i=e.getBoundingClientRect();if(void 0===n)return;let o=s;const l=oa(),c=n.y-i.height-r,d=n.y+n.height+i.height+r;"above"===s&&c<=l.minY?o="below":"below"===s&&d>=l.maxY&&(o="above");const u=ws(o,n,r,{selfBounds:i,selfCenter:!0});b(Object.assign(Object.assign({},u),g))}),[h,b,t,r,s,g]);return i.createElement(bs,{id:e,ref:y,tags:a,type:"popover",className:I(`${x("popover")} ${u}`),forceVisible:o,style:f,closeOnTapOutside:n,onClose:c,idsToIgnoreForOutsideClick:p},m)}));Vd.displayName="Popover";const $d=(0,i.memo)((({id:e,children:t,style:a={},className:n})=>i.createElement("div",{id:e,className:I(x("popover-card"),{[n]:void 0!==n}),style:a},t)));$d.displayName="PopoverCard";const Yd=fs((({children:e,onClick:t,selected:a=!1,className:n,style:o={},hint:s},r)=>i.createElement("button",{ref:r,className:I(x("popover-button"),{selected:a,[n]:void 0!==n}),style:o,onClick:t},i.createElement("span",null,e),s&&i.createElement("span",{className:"hint"},s))));Yd.displayName="PopoverButton";var Xd=a(15412);const Kd=(0,i.memo)((({className:e,height:t=300,children:a,scrollable:n=!1,initialScrollTop:o,withBorder:s=!1,style:r})=>{const l=(0,i.useRef)(null);return(0,i.useEffect)((()=>{var e,t;0===(null===(e=l.current)||void 0===e?void 0:e.getScrollTop())&&void 0!==o&&o>0&&(null===(t=l.current)||void 0===t||t.scrollTop(Math.max(o-32,0)))}),[o]),n?i.createElement(Xd.$B,{ref:l,renderThumbVertical:e=>i.createElement("div",Object.assign({className:x("popover-cell-scroll-thumb")},e),i.createElement("div",{className:"visible"})),renderTrackVertical:e=>i.createElement("div",Object.assign({className:x("popover-cell-scroll-track")},e)),style:{width:"100%",height:t}},i.createElement("div",{className:I(S("popover-cell"),{[e]:void 0!==e}),style:r},a)):i.createElement("div",{className:I(x("popover-cell"),{"with-borders":s,[e]:void 0!==e}),style:r},a)}));Kd.displayName="PopoverCell";const Zd=(0,i.memo)((({children:e})=>i.createElement("div",{className:x("popover-subheading")},e)));Zd.displayName="PopoverSubheading";const Jd={margin:16},Qd={height:300},eu=new Set([Ft.ComicSans]),tu=[Ft.Arial,Ft.EbGaramond,Ft.Lora,Ft.Lato,Ft.RobotoMono,Ft.TimesNewRoman].map((e=>so.get(e))),au=[Ft.Anton,Ft.Ballet,Ft.BalsamiqSans,Ft.Calistoga,Ft.Creepster,Ft.DancingScript,Ft.FingerPaint,Ft.FiraCode,Ft.FrederickaTheGreat,Ft.GamjaFlower,Ft.LuckiestGuy,Ft.PlayfairDisplay,Ft.RedactedScript,Ft.RubikGlitch,Ft.Rye,Ft.WorkSans,Ft.SpecialElite].map((e=>so.get(e))),nu=Array.from(so.values()).sort(((e,t)=>e.cssName.localeCompare(t.cssName))).filter((e=>!eu.has(e.font)&&!tu.includes(e)&&!au.includes(e))),iu=Array.from(nu.values()).concat(Array.from(au.values())).map((({font:e,googleFontsName:t})=>({font:e,styles:[Ea.Regular400],glyphs:Array.from(new Set(null==t?void 0:t.split("")))}))),ou=(0,i.memo)((({id:e,buttonId:t,active:a,onChange:n,targetRef:o,placement:s})=>{const r=ol();ql(e);const l=r.useStore(tc),c=i.useMemo((()=>!((null==l?void 0:l.roles.includes(mt.Admin))||(null==l?void 0:l.roles.includes(mt.Supporter))||(null==l?void 0:l.roles.includes(mt.Plus))||(null==l?void 0:l.roles.includes(mt.Pro)))),[null==l?void 0:l.roles]),[d,u]=i.useState(!1),m=i.useCallback((()=>{r.loadFonts(iu),Hs.play("light-click"),w({event:d?"clicked-show-fewer-fonts":"clicked-show-more-fonts",location:"font-picker"}),u(!d)}),[d]),[g,p]=(0,i.useState)(0),h=(0,i.useCallback)((e=>{e&&d&&p(e.offsetTop)}),[d]),f=(0,i.useCallback)((e=>{const t=e;r.loadFonts([{font:t,styles:[Ea.Regular400,Ea.Regular700]}]),n(t)}),[n]),b=i.useCallback((e=>()=>f(e)),[f]),y=i.useCallback((e=>()=>{c?sc({message:sr("Premium fonts",[mt.Supporter,mt.Plus,mt.Pro],!0),eventName:"premium_fonts"}):f(e)}),[f,c]);return i.createElement(Vd,{id:e,className:x("font-picker"),options:Jd,placement:s,targetRef:o,style:Qd,idsToIgnoreForOutsideClick:[t]},i.createElement($d,null,i.createElement("div",{className:I("slider-container",{"show-all":d})},i.createElement(Vs,null,i.createElement(Kd,{className:"child-view limited-view",height:Qd.height-32,initialScrollTop:g,scrollable:!0},i.createElement(Zd,null,"Classic"),tu.map((({font:e,cssName:t})=>i.createElement(Yd,{ref:e===a?h:null,className:"font-picker-option",key:t,style:{fontFamily:t},onClick:b(e),selected:e===a},t))),i.createElement("div",{className:"divider"}),i.createElement(Zd,null,"Fun & Stylish"),au.map((({font:e,cssName:t})=>i.createElement(Yd,{ref:e===a?h:null,className:"font-picker-option",key:t,style:{fontFamily:t},onClick:b(e),selected:e===a},t)))),i.createElement(Kd,{className:Od()("child-view complete-view",{restricted:c}),height:Qd.height-32,initialScrollTop:g,scrollable:!0},nu.map((({font:e,cssName:t})=>i.createElement(Yd,{ref:e===a?h:null,className:"font-picker-option",key:t,style:{fontFamily:t},onClick:y(e),selected:e===a},t,c&&i.createElement(xs,{icon:ns.byT}))))))),i.createElement(Kd,{style:{padding:0}},i.createElement(Yd,{className:"way-more-fonts-button",onClick:m},!d&&i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement("span",null,"More Fonts"),i.createElement(xs,{icon:ns._tD})),d&&i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement(xs,{icon:ns.A35}),i.createElement("span",null,"Fewer Fonts"))))))}));function su(e){if(void 0!==e.key)return e.key;{const t=e.keyCode;return String.fromCharCode(t)}}ou.displayName="FontPickerPopover";const ru=new de({caller:"useCanvasKeyboardShortcuts"});var lu=a(91483),cu=a.n(lu),du=a(19279);const uu=(e,t)=>{const a=(0,du.Z)(e);(0,i.useEffect)((()=>{void 0!==a&&document.documentElement.style.removeProperty(a),document.documentElement.style.setProperty(e,t)}),[e,t])},mu="dark-background",gu="light-background",pu="#ffffff",hu=new de({caller:"useKeyboardHandler"}),fu=new Set(["a","b","c","d","e","f","g","h","i","j","k","l","m","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9",":",'"',"<",">","?","{","}","-","+","/","\\","]","[","."]);const bu=new de({caller:"usePageLoader"}),yu=[[360,.75],[1600,void 0]],vu=new de({caller:"useScrollOnEdgeDrag"}),wu=(e,t,a)=>{const n=(i=e,((new Date).getTime()-i.getTime())/1e3);var i;let o=0,s=0;if(!a){const[e]=yu[0];return s+=e*(n-o),s*("up"===t?-1:1)}for(let e=0;e<yu.length;e++){const[t,a]=yu[e];if(void 0===a)s+=t*(n-o);else{if(!(n>a)){s+=t*(n-o);break}s+=t*(a-o),o=a}}return s*("up"===t?-1:1)},Eu=(0,i.memo)((()=>{const e=ol(),t=e.useStore((e=>e.page.stable)),a=e.useStore((e=>e.user.account)),n=e.useStore(fl),o=e.useStore(Fc);i.useEffect((()=>{o||void 0===(null==t?void 0:t.ID)||we.clear(null==t?void 0:t.ID)}),[o,null==t?void 0:t.ID]);const{showAutosaveConfirmDialog:s,autosaveEnvelope:l,handleShowDialogCancelClick:c,handleShowDialogConfirmClick:d}=function(){const e=ol(),t=(0,zr.TH)(),a=e.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.ID})),[n,o]=i.useState(!1),[s,l]=i.useState(void 0),[c,d]=i.useState(void 0),u=i.useCallback((()=>{w({event:"clicked-confirm-in-autosave-dialog",location:"autosave-confirm-dialog"}),void 0!==s?(bu.error("Restored from autosaved page"),e.loadPage(s.page,!0,!0),we.clear(s.page.ID),o(!1)):bu.error("autosaveEnvelope not set in confirm click")}),[e,s]),m=i.useCallback((()=>{w({event:"clicked-cancel-in-autosave-dialog",location:"autosave-confirm-dialog"}),void 0!==c?(bu.info("Discarding autosaved page. Loading fresh page from server."),e.loadPage(c,!0),we.clear(c.ID),o(!1)):bu.error("loadedPage not set in confirm click")}),[e,c]),g=e.useStore(ac);(0,i.useEffect)((()=>{"/"!==t.pathname&&"/n/paper"!==t.pathname&&(e.resetEditor(),h())}),[t.pathname,g]),(0,i.useEffect)((()=>{"/"!==t.pathname&&"/n/paper"!==t.pathname||(e.resetEditor(),h())}),[t.pathname]);const h=(0,i.useCallback)((()=>{return n=this,i=void 0,c=function*(){if("/n/paper"===t.pathname)return void e.loadPage(lc,!0);if("/"===t.pathname)return void e.loadPage(dd,!0);e.setPageLoading(!0);const[n,i]=re(t.pathname);if(void 0===n)return void bu.error("Invalid slug",{siteSlug:n,pageSlug:i});document.title=void 0!==n&&void 0!==i?`${n}.${i}`:`${n}`;const[s,c]=yield xr(n,null!=i?i:p.indexPageSlug);if(e.setPageLoading(!1),void 0===s||void 0!==c)return bu.error("Error loading page. Response is undefined."),void(0,r.Am)(lr);const u=s.page;if(d(u),u.ID!==a){bu.info("New page ID detected. Retrieving from autosave cache.");const t=yield we.retrieve(u.ID,_d(u.updatedAt));l(t),void 0!==t?(bu.info("Autosaved changes found. Attempting to recover."),o(!0)):(bu.info(`Successfully loaded newPage ${u.ID}`),e.loadPage(u,!0))}else bu.info("Nothing loaded since page IDs are the same.")},new((s=void 0)||(s=Promise))((function(e,t){function a(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(a,o)}r((c=c.apply(n,i||[])).next())}));var n,i,s,c}),[t.pathname,a,e,d,o]);return{showAutosaveConfirmDialog:n,autosaveEnvelope:s,handleShowDialogCancelClick:m,handleShowDialogConfirmClick:u}}();return function(e,t){const a=ol(),n=(0,zr.TH)(),o=a.useStore(pl);(0,i.useEffect)((()=>{(null==t?void 0:t.ID)!==dd.ID&&(null==t?void 0:t.ID)!==lc.ID&&a.toggleInterfaceMode(o?rl.Editing:rl.Previewing)}),[o,null==t?void 0:t.ID]),(0,i.useEffect)((()=>{if(void 0===t)return void a.setPermissions([]);if((null==t?void 0:t.ID)===dd.ID||(null==t?void 0:t.ID)===lc.ID)return void a.setPermissions([ll.CanEdit,ll.CanSample,ll.CanView]).toggleInterfaceMode(rl.Previewing);if(!0===(null==t?void 0:t.isPeekable)&&(void 0===e||(null==t?void 0:t.accountID)!==(null==e?void 0:e.ID)))return a.setPermissions([ll.CanSample,ll.CanView]).toggleInterfaceMode(rl.Editing),void a.enableSafeMode();let n=[];void 0===e||void 0===t||t.accountID!==e.ID&&!e.roles.includes(mt.Admin)||(n=[ll.CanEdit,ll.CanSample,ll.CanView,ll.CanPublish],a.disableSafeMode()),a.setPermissions(n)}),[e,null==t?void 0:t.ID,null==t?void 0:t.updatedAt,n])}(a,t),(()=>{const e=ol();(0,i.useEffect)((()=>{e.setDevice({isMobile:Ne.tq,isHoverCapable:!us(),isTouchEnabled:us(),isWindows:Ne.ED,isMacOs:Ne.Q5})}),[])})(),ol(),function(e,t=!0){!function(e,t=!0){const{navigator:a}=(0,i.useContext)(zr.Us);(0,i.useEffect)((()=>{if(!t)return;const n=a.block((t=>{const a=Object.assign(Object.assign({},t),{retry(){n(),t.retry()}});e(a)}));return n}),[a,e,t])}((0,i.useCallback)((t=>{window.confirm(e)&&t.retry()}),[e]),t)}("Changes made may not be saved.",o&&n),function(){const e=ol(),t=i.useCallback((()=>{const t=Array.from(tu.values()).concat(Array.from(au.values())).map((({font:e,googleFontsName:t})=>({font:e,styles:[Ea.Regular400],glyphs:Array.from(new Set(null==t?void 0:t.split("")))})));e.loadFonts(t)}),[e]),a=i.useCallback((()=>{const t=[{font:yo,styles:[Ea.Regular400,Ea.Italic400,Ea.Regular700,Ea.Italic700]}];e.loadFonts(t)}),[e]);i.useEffect((()=>{const e=window.setTimeout(a,1e3),n=window.setTimeout(t,5e3);return()=>{window.clearTimeout(e),window.clearTimeout(n)}}),[])}(),function(){const e=ol(),t=e.useStore((e=>e.preferences["sfx.enabled"]));i.useEffect((()=>{Hs.enable(t)}),[t]),i.useEffect((()=>{Hs.preload()}),[]),i.useEffect((()=>{const t=()=>Hs.play("medium-click",.4);return e.registerCallback("onThingSelected",t),()=>{e.unregisterCallback("onThingSelected",t)}}),[e]),i.useEffect((()=>{const t=()=>Hs.play("appear");return e.registerCallback("onThingAdded",t),()=>{e.unregisterCallback("onThingAdded",t)}}),[e]),i.useEffect((()=>{const t=()=>Hs.play("whoosh");return e.registerCallback("onThingRemoved",t),()=>{e.unregisterCallback("onThingRemoved",t)}}),[e]),i.useEffect((()=>{const t=()=>Hs.play("publish-success");return e.registerCallback("onPagePublishSuccess",t),()=>{e.unregisterCallback("onPagePublishSuccess",t)}}),[e])}(),(()=>{const e=ol(),t=(0,i.useRef)(new Map),a=(0,i.useRef)(new Map);Vt(window,"keydown",(n=>{const i=su(n).toLowerCase();e.onKeyDown(i),t.current.get(i)&&clearTimeout(t.current.get(i));const o=window.setTimeout((()=>{const t=a.current.get(i);fu.has(i)&&t&&Date.now()-t>100&&(hu.info("Fired artificial KeyUp event for:",i),e.onKeyUp(i))}),500);t.current.set(i,o),a.current.set(i,Date.now()),hu.debug("KeyDown listener added")}),[],{passive:!0,onListenerRemoved:()=>{hu.debug("KeyDown listener removed")}}),Vt(window,"keyup",(a=>{const n=su(a).toLowerCase();e.onKeyUp(n),t.current.get(n)&&(clearTimeout(t.current.get(n)),t.current.delete(n)),hu.debug("KeyUp listener added")}),[],{passive:!0,onListenerRemoved:()=>{hu.debug("KeyUp listener removed")}}),Vt(window,"blur",(t=>{(null==t?void 0:t.target)===window&&e.clearKeys()}),[],{passive:!0}),Vt(window,"contextmenu",(()=>{e.clearKeys()}),[],{passive:!0})})(),function(){const e=ol();(0,i.useEffect)((()=>{const t=t=>((e,t)=>{if(e.selectOnce(yl)!==rl.Editing)return;e.selectOnce(pl);const a=e.selectOnce(Bc);if(!e.selectOnce(xl))return;if(null!==document.querySelector("div:focus")||null!==document.querySelector("input:focus")||null!==document.querySelector("textarea:focus")||a!==Ce.Layout)return;const n=su(t).toLowerCase(),i=t.metaKey||t.ctrlKey,o=t.shiftKey,s=e.selectOnce(_c);if(o&&i&&("delete"===n||"backspace"===n)&&(e.toggleDebug(),(0,r.Am)("Secret development mode toggled"),t.preventDefault()),"."===n&&i&&(ru.info("Focus mode shortcut invoked"),w({event:"toggle-focus-mode",location:"canvas-keyboard-shortcuts"}),e.toggleFocusMode(),t.preventDefault()),"d"===n&&i&&(ru.info("Clone shortcut invoked"),e.buildThings((e=>e.cloneSelectedThings())),t.preventDefault()),"delete"!==n&&"backspace"!==n||(ru.info("Delete shortcut invoked"),e.removeThings().resetEditor(),t.preventDefault()),i&&"["===n&&(ru.info("Send back shortcut invoked"),e.mutatePage((e=>e.sendBack(s.toArray()))),t.preventDefault()),"["===n&&(ru.info("Send back (backmost) shortcut invoked"),e.mutatePage((e=>e.sendBack(s.toArray(),!0))),t.preventDefault()),i&&"]"===n&&(ru.info("Bring forward shortcut invoked"),e.mutatePage((e=>e.bringForward(s.toArray()))),t.preventDefault()),"]"===n&&(ru.info("Bring forward (frontmost) shortcut invoked"),e.mutatePage((e=>e.bringForward(s.toArray(),!0))),t.preventDefault())," "===n){ru.info("Expert mode toggle shortcut invoked");const a=e.selectOnce((e=>e.preferences["expertMode.enabled"]));e.setPreferences({"expertMode.enabled":!a}),t.preventDefault()}if("arrowup"===n){const a=o?8:1;e.mutateThings((e=>e.translate([0,-a])),{useLayoutGuides:!1}),t.preventDefault()}if("arrowdown"===n){const a=o?8:1;e.mutateThings((e=>e.translate([0,a])),{useLayoutGuides:!1}),t.preventDefault()}if("arrowleft"===n){const a=o?8:1;e.mutateThings((e=>e.translate([-a,0])),{useLayoutGuides:!1}),t.preventDefault()}if("arrowright"===n){const a=o?8:1;e.mutateThings((e=>e.translate([a,0])),{useLayoutGuides:!1}),t.preventDefault()}"escape"===n&&(ru.info("Escape clear keys"),e.clearKeys()),s.size>0&&"escape"===n&&(e.selectOnce((e=>void 0===Ul(e).action))&&e.unselectThings(),t.preventDefault())})(e,t);return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[e])}(),(()=>{const e=ol(),t=(0,i.useRef)(),a=(0,i.useRef)(void 0),[n,o]=(0,i.useState)(sa()),s=e=>{vu.info("Scroll started",e),a.current={direction:e,startTime:new Date,initialScrollY:sa(),scrollYDelta:0},t.current&&clearInterval(t.current),t.current=window.setInterval((()=>{a.current?o((e=>e+1)):clearInterval(t.current)}),12)},r=()=>{vu.info("Scroll ended"),a.current=void 0,t.current&&(vu.info("cleared interval"),clearInterval(t.current))},l=(0,i.useRef)(void 0);(0,i.useLayoutEffect)((()=>{var t;if(a.current){const{startTime:n,direction:i,initialScrollY:o}=a.current,{height:s,scrollOffset:[,c]}=na(),{height:d}=ta();if(e.selectOnce(_l)===Ll.DragSelect&&"down"===i&&c+d>=s)return void r();if(c<=0&&"up"===i)return void r();const u=e.selectOnce(_l),m=u===Ll.DragSelect||u===Ll.Translate,g=o+wu(n,i,m),[p,h]=e.selectOnce(Ae),f=g-(null!==(t=l.current)&&void 0!==t?t:0);e.onPointerMove({positionCpx:[p,h+f]}),e.onDrag({lastDeltaCpx:[0,f]},!1),l.current=g,function(e,t=!0){if(ia({scrollOffset:e}),t){const t=document.getElementById(Kt);null==t||t.scrollTo(e[0],e[1])}}([0,g])}}),[n]);const c=e=>{const t=_l(e);if(t!==Ll.Transform&&t!==Ll.Translate&&t!==Ll.DragSelect)return;const[,n]=e.gesture.pointer.positionCpx,{minY:i,maxY:o}=oa();n>=o-72?a.current||s("down"):n<=i+72&&i>0?a.current||s("up"):a.current&&r()},d=()=>{r()};(0,i.useEffect)((()=>(e.registerCallback("onDrag",c),e.registerCallback("onDragEnd",d),()=>{e.unregisterCallback("onDrag",c),e.unregisterCallback("onDragEnd",d)})),[e])})(),function(){const e=ol(),t=e.useStore((e=>{var t,a,n;return null!==(a=null===(t=e.page.inProgress)||void 0===t?void 0:t.style.backgroundColor)&&void 0!==a?a:null===(n=e.page.stable)||void 0===n?void 0:n.style.backgroundColor})),a=e.useStore(gl),n=a&&void 0!==t?t:pu,{primaryColor:o,primaryColorRgb:s,superFaintAccent:r,faintAccent:l,heavyAccent:c,superFaintAccentRgb:d,faintAccentRgb:u,heavyAccentRgb:m,textColorRgb:g,themeMode:p}=(0,i.useMemo)((()=>{const e=new(cu())(null!=n?n:pu),t=Wo(e.hex,120),a=t?e.shade(8):e.tint(8),i=t?e.shade(20):e.tint(20),o=t?e.shade(87):e.tint(87);return t?(document.body.classList.remove(mu),document.body.classList.add(gu)):(document.body.classList.remove(gu),document.body.classList.add(mu)),{primaryColor:n,primaryColorRgb:e.rgb.join(", "),superFaintAccent:a.hexString(),faintAccent:i.hexString(),heavyAccent:o.hexString(),superFaintAccentRgb:a.rgb.join(", "),faintAccentRgb:i.rgb.join(", "),heavyAccentRgb:o.rgb.join(", "),textColorRgb:t?"0, 0, 0":"255, 255, 255",themeMode:t?"light":"dark"}}),[n,a]);uu("--editor-theme-primary-color",o),uu("--editor-theme-primary-color-rgb",s),uu("--editor-theme-super-faint-accent",r),uu("--editor-theme-faint-accent",l),uu("--editor-theme-heavy-accent",c),uu("--editor-theme-super-faint-accent-rgb",d),uu("--editor-theme-faint-accent-rgb",u),uu("--editor-theme-heavy-accent-rgb",m),uu("--editor-theme-text-color-rgb",g),uu("--editor-theme-theme-mode",p)}(),Vt(window,"focusout",(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})}),[]),i.createElement(i.Fragment,null,i.createElement(qd,{autosaveEnvelope:l,active:s,onCancelClick:c,onConfirmClick:d}))}));Eu.displayName="EditorHooks";const ku=(0,i.memo)((e=>{const{orientation:t,children:a}=e;return"horizontal"===t?i.createElement(Vs,Object.assign({},e),a):i.createElement(Qs,Object.assign({},e),a)}));ku.displayName="HorizontalVertical";const Fu=(0,i.memo)((({color:e,direction:t="vertical",length:a,hideOnMobile:n=!1,invisible:o=!1,margin:s})=>{const r={};return"vertical"===t?(a&&(r.height="full-length"===a?"100%":a),s&&(r.margin=`0 ${s}px`)):(a&&(r.width="full-length"===a?"100%":a),s&&(r.margin=`${s}px 0`)),void 0!==e&&(r.backgroundColor=e),i.createElement("div",{className:I(x("separator"),{vertical:"vertical"===t,horizontal:"horizontal"===t,invisible:o,"hide-on-mobile":n}),style:r})}));Fu.displayName="Separator";const xu=fs((({id:e,className:t,style:a,children:n,darkMode:o,useHoverBackground:s=!1},r)=>{const l=i.useMemo((()=>F()(x("toolbar"),{[t]:void 0!==t,"dark-mode":o,"use-hover-background":s})),[o,t,s]);return i.createElement("div",{id:e,ref:r,style:a,className:l},n,i.createElement("div",{className:"backdrop"}))}));xu.displayName="Toolbar";const Su=fs(((e,t)=>{const{id:a,active:n,className:o,style:s={},label:r,icon:l,hint:c,onClick:d,onHover:u,onPointerLeave:m,href:g,target:p="_blank",tooltipOptions:h,destructive:f,children:b,disabled:y,hideTooltipOnClick:v,fitToChildren:w=!1,noSfx:E=!1}=e,k=(0,i.useRef)(null),S=(0,gs.Z)(k,t),{showOverlay:I}=hs(),C=(0,i.useRef)(null!=a?a:(0,ss.v4)()),P=i.useCallback((e=>{var t;v&&I(C.current,!1),null===(t=k.current)||void 0===t||t.blur(),d&&d(e)}),[d,v]),T=i.useCallback((e=>{m&&m(e)}),[m]),N=i.useCallback((e=>{u&&u(e)}),[u]),R=i.useCallback((()=>{E||Hs.play("light-click")}),[E]),D=i.useMemo((()=>F()(x("toolbar-button"),{[o]:void 0!==o,active:n,destructive:f,"fit-to-children":w,"contains-children":void 0!==b})),[n,b,f,o,w]);return i.createElement(i.Fragment,null,r&&i.createElement(ks,{id:C.current,hint:c,options:h,targetRef:k},r),void 0===g&&i.createElement("button",{id:a,ref:S,className:D,style:s,onClick:P,onPointerEnter:N,onPointerDown:R,onPointerLeave:T,tabIndex:0,disabled:y},i.createElement("div",{className:"highlight-background"}),l&&i.createElement("span",{className:"icon"},i.createElement(xs,{icon:l})),i.createElement("div",null,b)),void 0!==g&&i.createElement("a",{id:a,href:g,target:p,ref:S,className:D,style:s,onPointerLeave:T,onPointerEnter:N,onClick:P,onPointerDown:R,tabIndex:0},i.createElement("div",{className:"highlight-background"}),l&&i.createElement("span",null,i.createElement(xs,{icon:l})),i.createElement("div",null,b)))}));Su.displayName="ToolbarButton";var Iu=a(45388),Cu=a.n(Iu);const Pu=(e,t,a={parentId:void 0,content:void 0,position:void 0,styles:void 0,hyperlink:void 0,source:void 0,altText:void 0})=>{if(e===zt.Group)throw Error("Can't create thing with createNewThing");const{content:n,position:i,styles:o,hyperlink:s,source:r,altText:l}=a;let c=-Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);const d=new Set(t.map((e=>e.ID)));for(;d.has(c);)c=-Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);const u=es.calcZIndexOptima((0,A.D5)(t.map((e=>[e.ID,e])))),m={ID:c,position:Object.assign({height:.25,width:.25,x:.5+.1*Math.random(),y:.5+.1*Math.random(),zIndex:u.max+1,rotationDeg:0},i),locked:!1,altText:null!=l?l:null,source:null!=r?r:null,properties:{hyperlink:s},styles:Object.assign({},o),type:e,content:null!=n?n:{}};switch(e){case zt.Shape:{const{shapeType:e}=m.content,[t,a]=(e=>{var t;return null!==(t=new Map([[Pt.ArrowThick,[448,512]],[Pt.ArrowThin,[448,512]],[Pt.BreadSlice,[576,512]],[Pt.Cloud,[640,512]],[Pt.File,[384,512]],[Pt.MapMarker,[384,512]],[Pt.StickyNote,[512,512]],[Pt.Triangle,[512,512]]]).get(e))&&void 0!==t?t:[512,512]})(e);m.position.width=m.position.height*(t/a);break}case zt.Youtube:m.position.width=m.position.height*(16/9)}return m};var Tu=a(33191),Nu=a.n(Tu);const Ru=(e={exclude:[],includeOnly:[]})=>{const{exclude:t,includeOnly:a}=e;let n=[Ft.ComicNeue,Ft.EbGaramond,Ft.OpenSans,Ft.Bangers,Ft.BebasNeue,Ft.Lato,Ft.Pacifico,Ft.NanumPenScript,Ft.PlayfairDisplay,Ft.Vt323,Ft.ZillaSlabHighlight];return t&&t.length>0&&(n=n.filter((e=>!t.includes(e)))),a&&a.length>0&&(n=n.filter((e=>a.includes(e)))),Nu()(n)[0]},Du=e=>{var t,a;const n=Cu()(),i={backgroundColor:n,borderColor:n,hideOverflow:!1};let o=[],s=[Pt.Rectangle,Pt.Oval,Pt.Triangle];s=(e=>{const t=[...e];let a,n,i=t.length;for(;0!==i;)n=Math.floor(Math.random()*i),i-=1,a=t[i],t[i]=t[n],t[n]=a;return t})(s);const r=Bu(s[0],o,{height:.25,rotationDeg:-16.908002636236333,width:.25,x:.03584339233183227,y:1.4630493189708638});r.position=Uu(r.position),o.push(r);const l=Bu(s[1],o,{height:.16895125061273575,rotationDeg:0,width:.16895125061273575,x:.13584339233183226,y:.37311235790697994});l.position=Uu(l.position),o.push(l);const c=Bu(s[2],o,{height:.40725699067115784,rotationDeg:10.653583155635808,width:.40725699067115784,x:.890110619469048,y:.8138399200591193});c.position=Uu(c.position),o.push(c);const d=Ou(null!==(t=null==e?void 0:e.username)&&void 0!==t?t:"your_name",o);return o.push(d),o.push(zu(d.content.font,o)),o.push(Au(null!==(a=null==e?void 0:e.email)&&void 0!==a?a:"you@email.com",o)),o.push(Lu(o)),o.push(ju(o)),o.push(Mu(o)),o=o.concat(_u(o)),{slug:"main",relativeHeight:2.3,isPublic:!0,style:i,things:o,settings:{},isListed:!1,isPeekable:!1}},Ou=(e,t)=>Pu(zt.Text,t,{content:{font:Ru({includeOnly:[Ft.EbGaramond,Ft.ComicNeue,Ft.Bangers,Ft.BebasNeue,Ft.Lato,Ft.PlayfairDisplay,Ft.SpaceMono,Ft.Vt323]}),color:"#000000",textAlign:Ct.Center,fontSize:.128,text:e,useAutosize:!0},position:{height:95.9844/600,rotationDeg:0,width:.7938310788472493,x:.5,y:.2406382989350831}}),Au=(e,t)=>Pu(zt.Button,t,{hyperlink:"mailto:example@example.com",content:{buttonType:kt.Wide,color:Cu()(),font:Ft.Lato,text:"example@example.com"},position:{height:.13866666666666666,rotationDeg:0,width:.9146666666666666,x:.5,y:1.247172446615936}}),Mu=e=>Pu(zt.Image,e,{content:{URL:"https://asset.mmm.page/13/d31b366f484f2a80527e5ed2bef7ad/profile_placeholder.png"},position:{height:.448547,width:.448547,x:.5,y:.782802509984842}}),zu=(e,t)=>Pu(zt.Text,t,{content:{font:e,color:"#000000",textAlign:Ct.Center,fontSize:.064,text:"Something about yourself",useAutosize:!0},position:{height:.079974,rotationDeg:0,width:.7897314987182618,x:.5,y:.38311235790697995}}),Lu=e=>Pu(zt.Button,e,{hyperlink:"https://twitter.com",content:{buttonType:kt.Wide,color:"#1DA1F2",font:Ft.Lato,text:"@example"},position:{height:.13866666666666666,rotationDeg:0,width:.9146666666666666,x:.5,y:1.417172446615936}}),ju=e=>Pu(zt.Button,e,{hyperlink:"https://instagram.com/",content:{buttonType:kt.Wide,color:"linear-gradient(45deg,#fda948 13%,#f66748 21%,#ec3653 64%,#c13a9c 84%)",font:Ft.Lato,text:"@example"},position:{height:.13866666666666666,rotationDeg:0,width:.9146666666666666,x:.5,y:1.5871724466159365}}),Bu=(e,t,a)=>Pu(zt.Shape,t,{content:{shapeColor:Cu()(),shapeType:e},position:a}),Uu=e=>{const t=.5*Math.random()+.75,a=15*Math.random()-7.5,n=.2*Math.random()-.1,i=.2*Math.random()-.1;return Object.assign(Object.assign({},e),{x:e.x+n,y:e.y+i,width:e.width*t,height:e.height*t,rotationDeg:e.rotationDeg+a})},_u=e=>{const t=[];return t.push(Pu(zt.Image,e,{content:{URL:"https://asset.mmm.page/13/39848616304282990b6140c1897ddb/tip_1.png"},position:{height:.13813709020614623,rotationDeg:0,width:.5087487956372704,x:.28500000000000003,y:.5606348559391341,zIndex:1073741839}})),t.push(Pu(zt.Image,e,{content:{URL:"https://asset.mmm.page/61/4968f5f65d4576b9be588291a0b8d3/tip_2.png"},position:{height:.221131175814969,rotationDeg:0,width:.5137047315086203,x:.6683333333333334,y:1.0894691766515086,zIndex:1073741880}})),t.push(Pu(zt.Image,e,{content:{URL:"https://asset.mmm.page/f4/57b76c75174d9a9b6f52f2cd7b596a/tip_3.png"},position:{height:.14070973509303436,rotationDeg:0,width:.5182236585133705,x:.31833333333333336,y:1.7817957752858855,zIndex:1073741855}})),t.push(Pu(zt.Image,e,{content:{URL:"https://asset.mmm.page/9a/023adf10f7471abd0901ede7a97acd/tip_4.png"},position:{height:.17944158241879996,rotationDeg:0,width:.5112392253818641,x:.484,y:2.0725057799492697,zIndex:1073741863}})),t},Hu=(0,i.memo)((({tooltipOptions:e,noLabel:t})=>{const a=ol(),{showOverlay:n}=hs(),[o,s]=(a.useStore(Fc),i.useState(!1)),r=a.useStore(vc),[l,c]=i.useState(!1);i.useEffect((()=>{s(!1)}),[r]);const d=i.useCallback((()=>{if(!l){const e=[Ft.EbGaramond,Ft.ComicNeue,Ft.Bangers,Ft.BebasNeue,Ft.Lato,Ft.PlayfairDisplay,Ft.SpaceMono,Ft.Vt323].map((e=>({font:e,styles:[Ea.Regular400]})));a.loadFonts(e)}const e=a.selectOnce(tc),t=Du(e),n=a.selectOnce(vc);a.resetEditor().loadPage(Object.assign(Object.assign({},n),t),!1,!0,!0),window.setTimeout((()=>{s(!0)}),100)}),[l]),u=i.useCallback((()=>{w({event:"clicked-chaos-monkey-in-tool-picker",location:"tool-picker"}),(o||confirm("Chaos monkey will replace your page. Do you want to proceed? (You can always undo.)"))&&d()}),[n,o]);return i.useCallback((()=>{n("chaos-monkey-modal",!1),d()}),[]),i.createElement(i.Fragment,null,i.createElement(Su,{id:"chaos-monkey-button",label:t?void 0:"Chaos Monkey",icon:ns.Nb1,tooltipOptions:e,onClick:u},i.createElement("span",{className:"label"},"Chaos Monkey")))}));Hu.displayName="ChaosMonkeyButton_EXP014";const Gu=({children:e,className:t,style:a={},icon:n,type:o="primary",size:s="medium",centerInParent:r=!1,fullWidth:l=!1,autoHeight:c=!1,darkMode:d=!1})=>i.createElement("div",{className:F()("mmm-floating-label",{[t]:void 0!==t,"center-in-parent":r,error:"error"===o,secondary:"secondary"===o,warning:"warning"===o,small:"small"===s,medium:"medium"===s,"full-width":l,"auto-height":c,"dark-mode":d}),style:a},void 0!==n&&n,e),qu=(0,i.memo)((({errors:e,style:t={}})=>{const a=(0,i.useMemo)((()=>Object.assign({marginTop:8},t)),[t]);return e.length>0?i.createElement(Gu,{icon:i.createElement(Fs.G,{icon:ns.RLE}),type:"error",style:a},e[0]):i.createElement(i.Fragment,null)}));qu.displayName="InputErrorBanner";const Wu=(0,i.memo)((({label:e,htmlFor:t,sublabel:a,style:n,vertical:o=!1})=>i.createElement("div",{className:I(x("input-label"),{vertical:o}),style:n},i.createElement("label",{className:"main-label",htmlFor:t},e),void 0!==a&&i.createElement("span",{className:"sub-label"},a))));Wu.displayName="InputLabel";const Vu={margin:8,closeOthersOnOpen:!1},$u=(0,i.memo)((({id:e,visible:t,options:{closeOthersOnOpen:a=Vu.closeOthersOnOpen}=Vu,children:n})=>{const{showOverlay:o}=hs();return(0,i.useEffect)((()=>{const t=t=>{"Escape"===su(t)&&o(e,!1)};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[e,o]),i.createElement(bs,{id:e,type:"prompt",className:I(x("prompt-wrapper")),forceVisible:t},i.createElement("button",{className:I("exit-button"),onClick:()=>{o(e,!1)},type:"button"},"Close Overlay"),n)}));var Yu;$u.displayName="Prompt",function(e){e[e.BlackSolid=0]="BlackSolid",e[e.PrimaryColorSolid=1]="PrimaryColorSolid",e[e.Outline=2]="Outline"}(Yu||(Yu={}));const Xu=fs((({id:e,iconString:t,faIcon:a,onClick:n,style:o={},className:s,children:r,labelOptions:{position:l="bottom"}={position:"bottom"},alt:c,appearance:d,useIconStringLiterally:u,iconType:m="solid",noLabel:g=!1,onMouseDown:p},h)=>{const f=(0,i.useRef)(null),b=(0,gs.Z)(f,h),y=(e=>"brand"===e?"fab":"regular"===e?"far":"solid"===e?"fas":"far")(m);return i.createElement("button",{id:e,className:F()(`option label-on-${l}`,{[s]:void 0!==s,"use-literal-icon-string ":u,"primary-color-solid":d===Yu.PrimaryColorSolid,"black-solid":d===Yu.BlackSolid}),style:o,onMouseDown:e=>{e.preventDefault(),e.currentTarget.focus(),void 0!==p&&p(e)},onClick:n,"aria-label":c,type:"button",tabIndex:0,ref:b},a?i.createElement(xs,{icon:a}):u?t:i.createElement("i",{className:`${y} fa-${t}`}),!g&&""!==c&&i.createElement("label",{htmlFor:e},c),r)}));Xu.displayName="IconButton";var Ku=a(97143);const Zu=/^https?:\/\/codepen\.io\/([a-zA-Z\-_0-9]*)\/pen\/([a-zA-Z0-9]*)/g,Ju={name:"CodePen",icon:{string:"codepen",type:"brand"},faIcon:Ku.N8x,smartEmbed:{prefilledURL:"https://codepen.io/",isEmbeddableURL:e=>null!==e.match(Zu),getThingParamsFromURL:e=>{const t=Array.from(e.matchAll(Zu));if(0===t.length)return;const[[,a,n]]=t;return{type:zt.Codepen,content:{codePenUsername:a,codePenID:n},position:{height:420,width:420},properties:{},styles:{}}}}},Qu=/^(https?:\/\/)?(www\.)?(soundcloud\.com|snd\.sc)\/.*$/g,em={name:"SoundCloud",icon:{string:"soundcloud",type:"brand"},faIcon:Ku.ZG$,smartEmbed:{prefilledURL:"https://soundcloud.com/",isEmbeddableURL:e=>null!==e.match(Qu),getThingParamsFromURL:e=>{if(null!==e.match(Qu))return{type:zt.Soundcloud,content:{soundcloudURL:e},properties:{},styles:{}}}}},tm=/^https?:\/\/(?:open|play|www)\.spotify\.com\/(track|album|artist|show|episode|playlist)\/([a-zA-Z0-9]*)/g,am={name:"Spotify",icon:{string:"spotify",type:"brand"},faIcon:Ku.Ha7,smartEmbed:{prefilledURL:"https://open.spotify.com/track/",isEmbeddableURL:e=>null!==e.match(tm),getThingParamsFromURL:e=>{const t=Array.from(e.matchAll(tm));if(0===t.length)return;const[[,a,n]]=t;return{type:zt.Spotify,content:{spotifyURL:`https://open.spotify.com/embed/${a}/${n}`},position:{height:300,width:300},properties:{},styles:{}}}}},nm=/^(https?:\/\/)?(www\.)?(twitch\.tv)\/.*$/g,im={name:"Twitch",icon:{string:"twitch",type:"brand"},faIcon:Ku.z0T,smartEmbed:{prefilledURL:"https://www.twitch.tv/",isEmbeddableURL:e=>null!==e.match(nm),getThingParamsFromURL:e=>{if(null!==e.match(nm))return{type:zt.Twitch,content:{twitchURL:e},properties:{},styles:{}}}}},om=/^(?:(?:https?:\/\/)?(?:www\.)?twitter\.com\/)(?:@|#!\/)?([A-Za-z0-9_]{1,15})(?:\/status\/([0-9]{1,20}))([-a-zA-Z0-9@:%_\+.~#?&//=]*)?$/g,sm={name:"Twitter",icon:{string:"twitter",type:"brand"},faIcon:Ku.mdU,smartEmbed:{prefilledURL:"https://twitter.com/username/status/",isEmbeddableURL:e=>null!==e.match(om),getThingParamsFromURL:e=>{const t=Array.from(e.matchAll(om));if(0===t.length)return;const[[,a,n]]=t;let i;if(void 0!==n)i={twitterContentType:Tt.Tweet,twitterTweetID:n};else{if(void 0===a)return;i={twitterContentType:Tt.Profile,twitterUsername:a}}return{type:zt.Twitter,content:Object.assign({},i),position:{width:540,height:270},properties:{},styles:{}}}}};var rm=a(55978);const lm={name:"YouTube",icon:{string:"youtube",type:"brand"},faIcon:Ku.opf,smartEmbed:{prefilledURL:"https://www.youtube.com/watch?v=",isEmbeddableURL:e=>{const{id:t,service:a}=(0,rm.Z)(e);return null!==t&&"youtube"===a},getThingParamsFromURL:e=>{const{id:t}=(0,rm.Z)(e);if(null!==t)return{type:zt.Youtube,content:{youtubeID:t},position:{width:329,height:185},properties:{},styles:{}}}}},cm=new Map([[zt.Youtube,lm],[zt.Soundcloud,em],[zt.Spotify,am],[zt.Twitch,im],[zt.Twitter,sm],[zt.Codepen,Ju]]),dm=e=>{for(const[t,a]of Array.from(cm.entries())){const{smartEmbed:n}=a;if(void 0===n)continue;const{isEmbeddableURL:i}=n;if(i(e))return t}},um=e=>cm.get(e),mm=e=>{for(const[t,a]of Array.from(cm.entries())){const{smartEmbed:t}=a;if(void 0===t)continue;const{getThingParamsFromURL:n}=t,i=n(e);if(void 0!==i)return i}},gm=()=>(J.kM(J.Z_,"smartEmbedURL",(function(e){return this.test("test-smart-embed-url",e,(function(t){const{path:a,createError:n}=this;return void 0!==mm(null!=t?t:"")||n({path:a,message:e})}))})),J.kM(J.Z_,"notPlaceholderURL",(function(e){return this.test("test-not-prefilled-url",e,(function(t){const{path:a,createError:n}=this,i=dm(null!=t?t:"");if(void 0===i)return n({path:a,message:e});const o=um(i);if(void 0===o)return n({path:a,message:e});const{smartEmbed:s}=o;return void 0===s||void 0===s.prefilledURL?n({path:a,message:e}):t!==s.prefilledURL||n({path:a,message:e})}))})),J.Z_().required().url("Need to be a valid URL").smartEmbedURL("Smart Embed is not yet supported for this URL"));const pm=S("smart-embed-prompt"),hm=S("smart-embed-prompt-url-input"),fm=(0,i.memo)((()=>{var e;const t=ol();ql(pm);const{isOverlayVisible:a,showOverlay:n}=hs(),o=Array.from(cm.keys()),{withInputFormSubmit:s,registerInput:l,getErrors:c,getValue:d,resetForm:u,isLoading:m,canSubmit:g}=Mr(),p=a(pm),h=d(hm);(0,i.useEffect)((()=>{p||u()}),[p]);const f=c(hm),b=f.length>=1?f[0]:void 0,y=gm();let v;const w=dm(h);return void 0!==w&&(v=null===(e=um(w))||void 0===e?void 0:e.name),i.createElement($u,{id:pm},i.createElement(Js,null,i.createElement("form",{onSubmit:s((e=>{return a=void 0,i=void 0,s=function*(){var a;if(!g())return;const i=null===(a=e.get(hm))||void 0===a?void 0:a.value;if(void 0===i)return;const o=mm(i);if(void 0===o)return;const{type:s,content:l,position:c}=o;t.buildThings((e=>e.add({type:s,content:l}).patchPosition(c))),n(pm,!1),(0,r.Am)("Creating embed...")},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function r(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof o?a:new o((function(e){e(a)}))).then(n,r)}l((s=s.apply(a,i||[])).next())}));var a,i,o,s}))},i.createElement(Ws,{direction:"vertical"},i.createElement(Wu,{label:"Smart Embed",sublabel:"Paste a URL and we'll try to embed it",htmlFor:hm}),i.createElement(Vs,{gap:8},i.createElement(Tr,Object.assign({id:hm,placeholder:"https://"},l(hm,{schema:y}),{options:{theme:"light"},style:{flexGrow:1},fullWidth:!0,focusOnMount:!0})),i.createElement(Zs,{label:"Embed",type:"submit",loading:m(),disabled:!g(),options:{theme:"light"},wrapWidthToContent:!0})),i.createElement(qu,{errors:b?[b]:[]}),void 0!==v&&void 0===b&&i.createElement(Gu,{icon:i.createElement(Fs.G,{icon:ns.u8Q}),type:"secondary",style:{marginTop:8}},v," embeds are supported!")),i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement(Wu,{label:"Supported Platforms",style:{margin:0}}),i.createElement(Vs,{mainAxisAlign:"space-between",style:{padding:"8px 16px 0"}},o.map((e=>{var t;const{name:a,icon:n,faIcon:o}=um(e);return i.createElement(Xu,{key:`smart-embed-prompt-shortcut-${ls(a)}`,id:`smart-embed-prompt-shortcut-${ls(a)}`,iconString:null!==(t=null==n?void 0:n.string)&&void 0!==t?t:a[0],labelOptions:{position:"top"},alt:a,iconType:null==n?void 0:n.type,faIcon:o,useIconStringLiterally:void 0===n,style:{cursor:"default"}})}))),0===h.length&&i.createElement(Gu,{icon:i.createElement(Fs.G,{icon:ns.sqG}),type:"warning",fullWidth:!0},"FYI you can also embed by pasting links directly onto the canvas"))))))}));fm.displayName="SmartEmbedPrompt";const bm=({className:e,tooltipOptions:t,onClickCallback:a,noLabel:n=!1})=>{const{showOverlay:o}=hs(),s=i.useCallback((()=>{o(pm,!0),void 0!==a&&a(),w({event:"clicked-smart-embed-button",location:"tool-picker"})}),[o]);return i.createElement(i.Fragment,null,i.createElement(Su,{label:n?void 0:"Smart Embed",icon:ns.NxF,tooltipOptions:t,onClick:s},i.createElement("span",{className:"label"},"Embed")))};bm.displayName="SmartEmbedToolPickerButton";const ym=({noLabel:e=!1,onClickCallback:t})=>{const a=ol(),n=a.useStore(tc),{showOverlay:o}=hs(),s=(0,i.useCallback)((()=>{(null==n?void 0:n.roles.includes(mt.Pro))||(null==n?void 0:n.roles.includes(mt.Plus))||(null==n?void 0:n.roles.includes(mt.Admin))?(void 0!==t&&t(),w({event:"clicked-code-embed-button",location:"tool-picker"}),a.resetEditor().setPreferences({"expertMode.enabled":!0}).buildThings((e=>e.add({type:zt.CodeEmbed,content:{ceCode:"\x3c!-- Try changing 'blue' to 'red'. --\x3e\n<div style=\"color: white; background: blue; padding: 20px; height: 100%;\">\n  This is a custom code block. Edit me in the sidebar.\n</div>"}}).patchPosition({width:350}))).toggleCodeEditor(!0)):sc({message:"Custom code requires an upgrade to Plus",eventName:"custom_code"})}),[o,n,t]);return i.createElement(i.Fragment,null,i.createElement(Su,{label:e?void 0:"Add Custom Code",tooltipOptions:Ng,icon:vd.dT$,onClick:s},i.createElement("span",{className:"label"},"HTML")))};ym.displayName="CodeEmbedToolPickerButton";const vm=({disabled:e=!1})=>{const t=ol(),a=(0,i.useCallback)((()=>{t.setCanvasSizePx([void 0,void 0]).enableGestureDetection(!1).hideEditorUi().setMode(Ce.Drawing),w({event:"clicked-draw-button",location:"tool-picker"})}),[]);return i.createElement(i.Fragment,null,i.createElement(Su,{label:"Draw",icon:ns.ZSs,tooltipOptions:Ng,onClick:a,disabled:e},i.createElement("span",{className:"label"},"Draw")))};vm.displayName="DrawingToolPickerButton";const wm=(0,i.memo)((({active:e,toggleActivePanel:t,disabled:a=!1})=>{const n=(0,i.useCallback)((()=>{t("sticker"),w({event:"clicked-gif-button",location:"tool-picker"})}),[t]);return i.createElement(Su,{active:e,label:"Add Sticker",icon:vd.L4e,tooltipOptions:Ng,onClick:n,disabled:a},i.createElement("span",{className:"label"},"Sticker"))}));wm.displayName="GifToolPickerButton";var Em=a(25965),km=a(22801),Fm=a(56681);const xm=["shape","underline","art"],Sm=["wordart","background","stroke","circle","arrow","dread","border","meme","squiggle","sparkle","hello"],Im=new Em.GiphyFetch(p.giphyKey),Cm=(0,i.memo)((({})=>{const e=ol(),{fetchGifs:t,searchKey:a,setSearch:n,term:o}=(0,i.useContext)(km.SearchContext),[s,r]=(0,i.useState)(!1),[l,c]=(0,i.useState)([]);(0,i.useEffect)((()=>{c([...xm,...ms(Sm)])}),[]);const d=a.split("/").length>1?t:()=>Im.trending({type:"stickers"}),u=e=>{const t={URL:e.url,width:e.width,height:e.height,size:e.size?parseInt(e.size,10):void 0};return"webp"in e&&"webp_size"in e&&(t.webp={URL:e.webp,size:parseInt(e.webp_size,10)}),"mp4"in e&&"mp4_size"in e&&(t.mp4={URL:e.mp4,size:parseInt(e.mp4_size,10)}),t},m=e=>{const{preview:t,preview_gif:a,preview_webp:n}=e;return{URL:a.url,width:a.width,height:a.height,size:a.size?parseInt(a.size,10):void 0,webp:{URL:n.url,size:n.size?parseInt(n.size,10):null},mp4:{URL:t.url,size:t.size?parseInt(t.size,10):null}}},g=Math.min(400,document.body.clientWidth-56),p=document.body.clientWidth<600;return i.createElement("div",{className:"giphy-area inner-content"},i.createElement(Qs,null,i.createElement(km.SearchBar,{placeholder:cr}),i.createElement(Fm.Z,{hideScrollbars:!1,onStartScroll:()=>r(!0),onEndScroll:()=>window.setTimeout((()=>r(!1)),50)},i.createElement("div",{className:"ideas",style:{padding:"4px 8px 0 8px"}},l.map((e=>i.createElement("button",{className:Od()({active:o===e}),key:`idea-${e}`,type:"button",onClick:()=>{s||n(e)}},e))))),i.createElement(km.Grid,{key:a,columns:3,width:g,fetchGifs:d,hideAttribution:p,noLink:!0,onGifClick:t=>{if(void 0===e.selectOnce((e=>e.page.stable)))return;const a={default:u(t.images.original),optimized:u(t.images.downsized),fixedWidth:u(t.images.fixed_width),fixedWidthSmall:u(t.images.fixed_width_small),preview:m(t.images)},n=a.default.width/a.default.height,{user:i,source:o,embed_url:s}=t;let r;null!=i&&(r=""!==i.display_name?i.display_name:i.username);const l={name:r,URL:""!==o?o:null!=s?s:null,metadata:{giphyURL:s}};e.resetEditor().buildThings((e=>e.add({type:zt.GIF,content:{images:a}}).patchPosition({height:150,width:150*n}).setSource(l)))}})))}));Cm.displayName="GifToolPickerPanel";const Pm=(0,i.memo)((()=>i.createElement(km.SearchContextManager,{apiKey:p.giphyKey,options:{sort:"relevant",lang:"en",limit:10,type:"stickers"}},i.createElement(Cm,null)))),Tm=()=>(J.kM(J.Z_,"extendedValidUrl",(function(e){return this.test("test-extended-valid-url",e,(function(t){const{path:a,createError:n}=this,i=null!=t?t:"";if(i.startsWith("#"))return!0;try{const e=new URL(i);return!/:\/\//.test(e.hostname)}catch(t){return/^[a-z]+:\/\//i.test(i)?n({path:a,message:e}):n({path:a,message:"Missing protocol (e.g. https://)"})}}))})),J.Z_().required().extendedValidUrl("Needs to be a valid URL"));var Nm;!function(e){e[e.Mailto=0]="Mailto",e[e.Amazon=1]="Amazon",e[e.Apple=2]="Apple",e[e.AppleMusic=3]="AppleMusic",e[e.Bandcamp=4]="Bandcamp",e[e.CashApp=5]="CashApp",e[e.Clubhouse=6]="Clubhouse",e[e.Discord=7]="Discord",e[e.Etsy=8]="Etsy",e[e.Facebook=9]="Facebook",e[e.Github=10]="Github",e[e.Instagram=11]="Instagram",e[e.LinkedIn=12]="LinkedIn",e[e.Patreon=13]="Patreon",e[e.PayPal=14]="PayPal",e[e.Snapchat=15]="Snapchat",e[e.SoundCloud=16]="SoundCloud",e[e.Spotify=17]="Spotify",e[e.Substack=18]="Substack",e[e.TikTok=19]="TikTok",e[e.Telegram=20]="Telegram",e[e.Twitch=21]="Twitch",e[e.Twitter=22]="Twitter",e[e.Venmo=23]="Venmo",e[e.WhatsApp=24]="WhatsApp",e[e.YouTube=25]="YouTube"}(Nm||(Nm={}));const Rm=e=>{var t,a;let n;try{n=new URL(e)}catch(e){return}if(Go(e))return Nm.Mailto;const i=new Map;Dm.forEach((e=>{const{linkPlatform:t,hosts:a}=e;a.forEach((e=>{i.set(e,t)}))}));const o=n.host.split(".").slice(-2).join(".");return null!==(a=null!==(t=i.get(n.host))&&void 0!==t?t:i.get(o))&&void 0!==a?a:void 0},Dm=new Map([[Nm.Mailto,{linkPlatform:Nm.Mailto,icon:["far","envelope"],color:"#ffffff",hosts:["mailto:"]}],[Nm.Amazon,{linkPlatform:Nm.Amazon,icon:["fab","amazon"],color:"#FF9900",hosts:["amazon.com"]}],[Nm.Apple,{linkPlatform:Nm.Apple,icon:["fab","apple"],color:"#FFFFFF",hosts:["apple.com"]}],[Nm.AppleMusic,{linkPlatform:Nm.AppleMusic,icon:["fab","itunes-note"],color:"#fa243c",hosts:["music.apple.com"]}],[Nm.Bandcamp,{linkPlatform:Nm.Bandcamp,icon:["fab","bandcamp"],color:"#629aa9",hosts:["bandcamp.com"]}],[Nm.CashApp,{linkPlatform:Nm.CashApp,icon:null,color:"#00d54b",hosts:["cash.app"]}],[Nm.Clubhouse,{linkPlatform:Nm.Clubhouse,icon:null,color:"#F2EFE4",hosts:["joinclubhouse.com"]}],[Nm.Discord,{linkPlatform:Nm.Discord,icon:["fab","discord"],color:"#7289da",hosts:["discord.com","discord.gg"]}],[Nm.Etsy,{linkPlatform:Nm.Etsy,icon:["fab","etsy"],color:"#F56400",hosts:["etsy.com"]}],[Nm.Facebook,{linkPlatform:Nm.Facebook,icon:["fab","facebook-f"],color:"#1778F2",hosts:["facebook.com","fb.me"]}],[Nm.Github,{linkPlatform:Nm.Github,icon:["fab","github"],color:"#000000",hosts:["github.com"]}],[Nm.Instagram,{linkPlatform:Nm.Instagram,icon:["fab","instagram"],color:"linear-gradient(45deg,#fda948 13%,#f66748 21%,#ec3653 64%,#c13a9c 84%)",hosts:["instagram.com"]}],[Nm.LinkedIn,{linkPlatform:Nm.LinkedIn,icon:["fab","linkedin-in"],color:"#0077b5",hosts:["linkedin.com"]}],[Nm.Patreon,{linkPlatform:Nm.Patreon,icon:["fab","patreon"],color:"#f96854",hosts:["patreon.com"]}],[Nm.PayPal,{linkPlatform:Nm.PayPal,icon:["fab","paypal"],color:"#003087",hosts:["paypal.com"]}],[Nm.Snapchat,{linkPlatform:Nm.Snapchat,icon:["fab","snapchat-ghost"],color:"#fffc00",hosts:["snapchat.com"]}],[Nm.SoundCloud,{linkPlatform:Nm.SoundCloud,icon:["fab","soundcloud"],color:"#ff7700",hosts:["soundcloud.com"]}],[Nm.Spotify,{linkPlatform:Nm.Spotify,icon:["fab","spotify"],color:"#1db954",hosts:["open.spotify.com","spotify.com"]}],[Nm.Substack,{linkPlatform:Nm.Substack,icon:null,color:"#fd6752",hosts:["substack.com"]}],[Nm.TikTok,{linkPlatform:Nm.TikTok,icon:["fab","tiktok"],color:"#000000",hosts:["tiktok.com"]}],[Nm.Telegram,{linkPlatform:Nm.Telegram,icon:["fab","telegram-plane"],color:"#0088cc",hosts:["telegram.com"]}],[Nm.Twitch,{linkPlatform:Nm.Twitch,icon:["fab","twitch"],color:"#9146ff",hosts:["twitch.tv","twitch.com"]}],[Nm.Twitter,{linkPlatform:Nm.Twitter,icon:["fab","twitter"],color:"#1DA1F2",hosts:["twitter.com"]}],[Nm.Venmo,{linkPlatform:Nm.Venmo,icon:null,color:"#3d95ce",hosts:["venmo.com"]}],[Nm.WhatsApp,{linkPlatform:Nm.WhatsApp,icon:["fab","whatsapp"],color:"#25d366",hosts:["whatsapp.com"]}],[Nm.YouTube,{linkPlatform:Nm.YouTube,icon:["fab","youtube"],color:"#ff0000",hosts:["youtube.com"]}]]);class Om{constructor(e){this.thing=e}tooltipOptions(){return null}onSave(e){return this.thing.content}onChange(e){return e}onSelect(){}onUnselect(){}onTap(){return null}}class Am extends Om{onTap(){return null}static newThing(e,t,a=!0){var n,i,o,s,r;return i=this,o=void 0,r=function*(){if(!qo(e)&&!Go(e)&&!(e=>{const t=e.split(":");return 2===t.length&&"tel"===t[0]})(e))return[void 0,new Error("invalid_url")];const a=Rm(e),i=void 0!==a&&null!==(n=(e=>{var t,a;return null!==(a=null===(t=Dm.get(e))||void 0===t?void 0:t.color)&&void 0!==a?a:void 0})(a))&&void 0!==n?n:"#000",o=new URL(e);let s=`${o.host}`;return o.pathname.length>1&&(s+=o.pathname),qo(e)&&(s=new URL(e).hostname),[Pu(zt.Button,t.things,{hyperlink:e,content:{color:i,font:Ft.Lato,text:s,buttonType:kt.Wide},position:{height:83.2,width:548.8,x:.5}}),void 0]},new((s=void 0)||(s=Promise))((function(e,t){function a(e){try{l(r.next(e))}catch(e){t(e)}}function n(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(e){e(i)}))).then(a,n)}l((r=r.apply(i,o||[])).next())}))}}const Mm=S("rich-button-prompt"),zm=S("rich-button-prompt-url-input"),Lm=Tm(),jm=(0,i.memo)((({})=>{const e=ol();ql(Mm);const{isOverlayVisible:t,showOverlay:a}=hs(),{withInputFormSubmit:n,registerInput:o,getErrors:s,getValue:l,resetForm:c,isLoading:d,canSubmit:u}=Mr(),m=t(Mm);i.useEffect((()=>{m||c()}),[m]);const g=i.useCallback((t=>{return n=void 0,i=void 0,s=function*(){var n;if(!u())return;const i=null===(n=t.get(zm))||void 0===n?void 0:n.value;if(void 0===i)return;(0,r.Am)("Link detected. Creating button...");const o=e.selectOnce(ac),s=e.selectOnce(vc),[l,c]=yield Am.newThing(i,ts(s),o===Kl.LoggedIn);if(void 0===l||void 0!==c)return;const d=l.content,m=z()(Vo.defaultContent);m.richButtonColor=d.color,m.richButtonText.text=d.text,m.richButtonIcon=Object.assign(Object.assign({},m.richButtonIcon),{icon:Xo(i)}),e.buildThings((e=>e.add({type:zt.RichButton,content:m}).patchPosition(Vo.defaultPosition).setStyle({borderRadius:Vo.defaultBorderRadius}).setProperties({hyperlink:i}))),a(Mm,!1)},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{l(s.next(e))}catch(e){t(e)}}function r(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,r)}l((s=s.apply(n,i||[])).next())}));var n,i,o,s}),[u,a]),p=s(zm),h=p.length>=1?p[0]:void 0;return i.createElement($u,{id:Mm},i.createElement(Js,null,i.createElement("form",{onSubmit:n(g)},i.createElement(Ws,{direction:"vertical"},i.createElement(Wu,{label:"Add Button",sublabel:"Paste a URL and we'll create a button",htmlFor:zm}),i.createElement(Vs,{gap:8},i.createElement(Tr,Object.assign({id:zm},o(zm,{schema:Lm,defaultValue:"https://"}),{options:{theme:"light"},style:{flexGrow:1},fullWidth:!0,focusOnMount:!0})),i.createElement(Zs,{label:"Add",type:"submit",loading:d(),disabled:!u(),options:{theme:"light"},wrapWidthToContent:!0})),i.createElement(qu,{errors:h?[h]:[]})),i.createElement(Ws,null,i.createElement(Gu,{type:"secondary"},"We'll even identify the correct color and icon for you, based on your link.")))))}));jm.displayName="RichButtonPrompt";const Bm="button-url-input",Um=Tm(),_m=(0,i.memo)((({id:e,heading:t,buttonLabel:a})=>{const n=ol(),{showOverlay:o,isOverlayVisible:s}=hs(),r=(0,i.useRef)(null),[l,c]=(0,i.useState)("https://"),{resetForm:d,getErrors:u,withInputFormSubmit:m,registerInput:g,isLoading:p,canSubmit:h}=Mr(),f=s(e);(0,i.useEffect)((()=>{f||d()}),[f]);const b=(0,i.useCallback)((t=>{return a=void 0,i=void 0,r=function*(){const a=t.get(Bm).value,i=n.selectOnce(vc),[s,r]=yield Am.newThing(a,ts(i));if(void 0===s||void 0!==r)return;const l=s.position;delete l.x,delete l.y,n.resetEditor().buildThings((e=>e.add({type:s.type,content:s.content}).patchPosition(l).setProperties({hyperlink:a}))),o(e,!1)},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{l(r.next(e))}catch(e){t(e)}}function o(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof s?a:new s((function(e){e(a)}))).then(n,o)}l((r=r.apply(a,i||[])).next())}));var a,i,s,r}),[n,e,o]),y=(0,i.useCallback)((e=>()=>{var t;c(e),null===(t=r.current)||void 0===t||t.focus()}),[]);return i.createElement($u,{id:e},i.createElement(Js,{className:x("button-dialog-view")},i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("form",{onSubmit:m(b),style:{width:"100%"}},i.createElement(Wu,{label:t,htmlFor:Bm}),i.createElement(Vs,{gap:8},i.createElement(Tr,Object.assign({id:Bm,ref:r,options:{theme:"light"},style:{flexGrow:1},fullWidth:!0,focusOnMount:!0},g(Bm,{schema:Um,defaultValue:l}))),i.createElement(Zs,{label:a,type:"submit",loading:p(),disabled:!h(),options:{theme:"light"},wrapWidthToContent:!0})),i.createElement(qu,{errors:u(Bm)})))),i.createElement(Ws,{className:"shortcuts"},i.createElement(Qs,{crossAxisAlign:"start"},i.createElement(Wu,{label:"Shortcuts",sublabel:"These are just suggestions!"}),i.createElement(Vs,{mainAxisAlign:"space-around",gap:12,style:{padding:"6px 8px"}},i.createElement(Su,{label:"Literally Any Link",icon:ns.nNP,onClick:y("https://")}),i.createElement(Su,{label:"Email",icon:vd.FU$,onClick:y("mailto:your@email.com")}),i.createElement(Fu,{direction:"vertical"}),i.createElement(Su,{label:"Instagram",icon:Ku.Zzi,onClick:y("https://instagram.com/")}),i.createElement(Su,{label:"Twitter",icon:Ku.mdU,onClick:y("https://twitter.com/")}),i.createElement(Su,{label:"Discord",icon:Ku.omb,onClick:y("https://discord.gg/")}),i.createElement(Su,{label:"SoundCloud",icon:Ku.ZG$,onClick:y("https://soundcloud.com/")}),i.createElement(Su,{label:"Spotify",icon:Ku.Ha7,onClick:y("https://open.spotify.com/user/")}),i.createElement(Su,{label:"YouTube",icon:Ku.opf,onClick:y("https://www.youtube.com/channel/")}),i.createElement(Su,{label:"TikTok",icon:Ku.ABo,onClick:y("https://www.tiktok.com/")}),i.createElement(Su,{label:"LinkedIn",icon:Ku.D9H,onClick:y("https://www.linkedin.com/in/")}))))))}));_m.displayName="ButtonDialog";const Hm=(0,i.memo)((({})=>i.createElement(_m,{id:"add-button-dialog",heading:"Add Button",buttonLabel:"Add"})));Hm.displayName="AddButtonDialog";const Gm=({noLabel:e=!1,onClickCallback:t})=>{ol();const{showOverlay:a}=hs(),n=(0,i.useCallback)((()=>{a(Mm),void 0!==t&&t(),w({event:"clicked-rich-button-button",location:"tool-picker"})}),[a,t]);return i.createElement(i.Fragment,null,i.createElement(Su,{label:e?void 0:"Add Button",icon:ns.r9b,tooltipOptions:Ng,onClick:n},i.createElement("span",{className:"label"},"Button")),i.createElement(Hm,null))};Gm.displayName="RichButtonToolPickerButton";const qm=({disabled:e=!1})=>{const t=ol(),a=(0,i.useCallback)((()=>{const e=wo;e.text=JSON.stringify(((e,t)=>{try{return JSON.parse(e.text)}catch(t){return No(e,{})}})(Object.assign(Object.assign({},wo),{text:"New Text",fontSize:56,isBold:!0}))),t.resetEditor().buildThings((t=>t.add({type:zt.Text,content:e}).patchPosition({height:70,width:236,x:300}).setStyle({overflow:Mt.Visible}))),w({event:"clicked-text-button",location:"tool-picker"})}),[t]);return i.createElement(Su,{label:"Add Text",icon:ns.K5C,tooltipOptions:Ng,onClick:a,disabled:e},i.createElement("span",{className:"label"},"Text"))};qm.displayName="TextToolPickerButton";const Wm=(0,i.memo)((({active:e,toggleActivePanel:t})=>{const a=(0,i.useCallback)((()=>{t("image"),w({event:"clicked-image-button",location:"tool-picker"})}),[t]);return i.createElement(Su,{active:e,label:"Add Image",icon:vd.jZ7,tooltipOptions:Ng,onClick:a},i.createElement("span",{className:"label"},"Image"))}));Wm.displayName="ImageToolPickerButton";const Vm=({children:e,variant:t="normal",noMargin:a=!1})=>i.createElement("p",{className:F()(x("text"),{fine:"fine"===t,"no-margin":a})},e);Vm.displayName="Text";const $m=({active:e,fileInput:t})=>ol().useStore(ac)!==Kl.LoggedIn?i.createElement("div",{className:"toolbar-panel image-panel",style:{padding:0,width:300}},i.createElement(Ws,{style:{padding:24}},i.createElement(Qs,{gap:16,style:{padding:"16 0",textAlign:"center",width:"100%"}},i.createElement("div",{style:{lineHeight:1.6}},"Login to upload")," "))):e?i.createElement("div",{className:"toolbar-panel image-panel",style:{padding:0,width:300}},i.createElement(Ws,{style:{padding:24}},i.createElement(Qs,{gap:16,style:{padding:"16 0",textAlign:"center",width:"100%"}},i.createElement("div",{style:{lineHeight:1.6}},i.createElement(Vm,{noMargin:!0},"Upload image"),i.createElement(Vm,{variant:"fine",noMargin:!0},"Only .png, .jpg, .gif allowed. Max 5 MB."),i.createElement(Vm,{variant:"fine",noMargin:!0},"You can also drag and drop.")),i.createElement("div",null,t)))):i.createElement(i.Fragment,null);$m.displayName="ImagePanel";const Ym=(0,i.memo)((({active:e})=>i.createElement("div",{className:"toolbar-panel more-blocks-panel",style:{padding:16,width:216}},i.createElement(Qs,{gap:16},i.createElement(Vs,{gap:16},i.createElement("button",{className:"more-blocks-button"},i.createElement(xs,{icon:ns.nNP}),i.createElement("div",{className:"label"},"Button")),i.createElement("button",{className:"more-blocks-button"},i.createElement(xs,{icon:ns.NxF}),i.createElement("div",{className:"label"},"Embeds"))),i.createElement(Vs,{gap:16},i.createElement("button",{className:"more-blocks-button"},i.createElement(xs,{icon:ns.dT$}),i.createElement("div",{className:"label"},"Code")),i.createElement("button",{className:"more-blocks-button"},i.createElement(xs,{icon:ns.kd8}),i.createElement("div",{className:"label"},"Fun")))))));Ym.displayName="MoreBlocksPanel";const Xm=(0,i.memo)((({active:e,toggleActivePanel:t})=>{const a=(0,i.useCallback)((()=>{t("page-style")}),[t]);return i.createElement(Su,{active:e,label:"Page Styles",icon:vd.q2v,tooltipOptions:Ng,onClick:a})}));Xm.displayName="PageStylesButton";var Km=a(892);const Zm=fs(((e,t)=>{const a=i.useMemo((()=>({width:10,height:9,opacity:.72})),[]);return i.createElement(Su,Object.assign({ref:t},e,{fitToChildren:!0}),i.createElement(Vs,{gap:6},i.createElement("div",{className:"content"},e.children),i.createElement(xs,{icon:ns.ptq,style:a})))}));Zm.displayName="ToolbarCheveronButton";var Jm=a(81355),Qm=a(70571),eg=a.n(Qm),tg=a(83729),ag=a.n(tg),ng=a(175);const ig=({uppy:e})=>i.createElement("div",{className:x("asset-uploader-file-input")},i.createElement(ng.S2,{uppy:e}));ig.displayName="AssetUploaderFileInput";const og="UcSapJFXfDDpuo3Fsvhs";function sg(e){const[,t]=e.id.split("/");return t}const rg=(e,t)=>{const{name:a,extension:n}=e;return Object.assign(Object.assign({},e),{id:lg("test",a),name:cg("test",a,n)})},lg=(e,t)=>`${e}/${ls(t+og)}`,cg=(e,t,a)=>`${e}/${ls(t+og)}.${a}`;var dg=a(78321);class ug extends Qm.UIPlugin{constructor(e,t){super(e,t),this.id=this.opts.id||"ImageCompressor",this.type="modifier",this.defaultLocale={strings:{compressingImages:"Compressing images..."}},this.opts=Object.assign(Object.assign({},{quality:.8,maxSizeMB:5,maxWidthOrHeight:2048}),t),delete this.opts.success,delete this.opts.error,this.prepareUpload=this.prepareUpload.bind(this),this.compress=this.compress.bind(this)}setOptions(e){super.setOptions(e)}compress(e){var t;return"image/gif"!==e.type&&(null===(t=this.opts)||void 0===t?void 0:t.useCompression)?new Promise(((t,a)=>{(0,dg.Z)(e,{maxSizeMB:5,maxWidthOrHeight:2048,useWebWorker:!0,maxIteration:10,initialQuality:.8,exifOrientation:1}).then((e=>t(e))).catch((e=>a(e)))})):Promise.resolve(e)}prepareUpload(e){const t=e.map((e=>{const t=this.uppy.getFile(e);if(this.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:"Compressing images..."}),void 0!==t&&void 0!==(null==t?void 0:t.type)&&"image"===t.type.split("/")[0])return this.compress(t.data).then((a=>{this.uppy.log(`[Image Compressor] Image ${t.id} size before/after compression: ${t.data.size} / ${a.size}`),this.uppy.setFileState(e,{data:a})})).catch((e=>{this.uppy.log(`[Image Compressor] Failed to compress ${t.id}:`,"warning"),this.uppy.log(e,"warning")}))}));return Promise.all(t).then((()=>{e.forEach((e=>{const t=this.uppy.getFile(e);this.uppy.emit("preprocess-complete",t)}))}))}install(){this.uppy.addPreProcessor(this.prepareUpload)}uninstall(){this.uppy.removePreProcessor(this.prepareUpload)}}const mg={maxFileSize:5242880,maxNumberOfFiles:10,minNumberOfFiles:1,allowedFileTypes:[".jpg",".jpeg",".png",".gif",".webp"]},gg=new de({caller:"AssetUploader"}),pg=({transloadIt:{templateID:e,fetchSignatureEnvelope:t,fileMeta:a={},readyToFetch:n},callbacks:o,options:{restrictions:s=mg,useCompression:r=!0}={restrictions:mg,useCompression:!0},hasPermissionToUpload:l=!0})=>{const c=(0,i.useRef)({onFileUploaded:()=>{},onRestrictionFailed:()=>{}}),[d,u]=(0,i.useState)(!1),[m,g]=(0,i.useState)(void 0),[h,f]=(0,i.useState)(0),b=h>0,y=i.useCallback((()=>new(eg())({debug:!1,autoProceed:!0,restrictions:Object.assign(Object.assign({},mg),s),onBeforeFileAdded:rg}).use(ug,{useCompression:r}).on("file-added",(e=>{const t=sg(e);gg.info(`"file-added": ${t}`);const{onFileAdded:a,onFileBase64Encoded:n}=c.current;if(a&&a(t,e),void 0!==n){const a=new FileReader;a.readAsDataURL(e.data),a.onloadend=()=>{const i=new Image;i.src=a.result,i.onload=()=>{n(t,a.result,i.width,i.height,e)}}}})).on("progress",(e=>{g(e)})).on("restriction-failed",((e,t)=>{gg.warn(`"restriction-failed": ${null==e?void 0:e.name}`);const{onRestrictionFailed:a}=c.current;void 0!==e&&a(sg(e),e,t)})).on("transloadit:result",((e,t)=>{gg.info(`"upload-result": ${t.basename}`),((e,t,a)=>{const{original_basename:n,meta:{width:i,height:o,orientation:s,average_color:r}}=t,{width:l,height:c}=((e,t,a)=>{let n,i;return!a||"Rotate 90 CW"!==a&&"Rotate 270 CW"!==a?(n=e,i=t):(n=t,i=e),{width:n,height:i}})(i,o,s),d=new URL(t.ssl_url).pathname.replace("/asset.mmm.page/",`${p.assetURL}/`),{onFileUploaded:u}=a.current;u(n,d,l,c,r)})(0,t,c),g(void 0)})).on("upload",(()=>f((e=>e+1)))).on("complete",(e=>{gg.info('"complete"'),f((e=>e-1))})).on("cancel-all",(()=>{f(0)})).on("error",(e=>{gg.warn('"generic-error"');const{onRestrictionFailed:t}=c.current;t(void 0,void 0,e),f((e=>e-1))}))),[s,r]),v=(0,i.useRef)(y());(0,i.useEffect)((()=>(v.current=y(),()=>{var e;null===(e=v.current)||void 0===e||e.close()})),[y]);const w=Math.max(0,138e5),E=()=>{return n=void 0,i=void 0,s=function*(){u(!1);const[n,i]=yield t();if(void 0===n||void 0!==i)return;const o=((e,t,a)=>{const{expiration:n,signature:i,accountSignature:o}=t;return{fields:Object.assign({expiration:n,accountSignature:o},a),params:{auth:{key:p.transloadIt.key,expires:n},template_id:e},signature:i,waitForEncoding:!0}})(e,n,a),s=v.current.getPlugin("Transloadit");void 0!==s&&v.current.removePlugin(s);const r=v.current.getPlugin("Tus");void 0!==r&&v.current.removePlugin(r),v.current.use(ag(),o),u(!0),setTimeout((()=>{E(),console.debug("AssetUploader signature refreshed")}),w)},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{l(s.next(e))}catch(e){t(e)}}function r(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,r)}l((s=s.apply(n,i||[])).next())}));var n,i,o,s};(0,i.useEffect)((()=>{c.current=o}),[o]),(0,i.useEffect)((()=>{n&&!d&&l&&E()}),[n,l]);const k=(0,i.useCallback)((e=>{v.current.addFile({name:e.name,type:e.type,data:e})}),[]),F=(0,i.useCallback)((e=>{v.current.addFiles(e.map((e=>({name:e.name,type:e.type,data:e}))))}),[]),x=(0,i.useCallback)((()=>v.current.cancelAll()),[]),S=i.createElement(ig,{uppy:v.current});return{isUploading:b,uploadProgress:m,cancelUploads:x,uploadFile:k,uploadFiles:F,readyToUpload:d,fileInput:S}};const hg=new de({caller:"ImageFillPanel"}),fg=(0,i.memo)((({})=>{const e=ol(),t=(e.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.site})),e.useStore(tc)),a=e.useStore(ac),n=()=>void 0===t,o=e.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.style.background})),s=e.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.style.backgroundColor})),l=null==o?void 0:o.size,c=void 0!==l&&"cover"!==l&&"contain"!==l&&"100% 100%"!==l;let d="cover";switch(l){case"cover":d="cover";break;case"contain":d="contain";break;case"100% 100%":d="stretch";break;case void 0:d="cover";break;default:d="tile"}const u=i.useMemo((()=>{var e,n;const i=cc.getMaxUploadSizeMb(null!==(e=null==t?void 0:t.roles)&&void 0!==e?e:[]);return{transloadIt:{templateID:p.transloadIt.templateID,fetchSignatureEnvelope:Ir,fileMeta:{accountID:`${null!==(n=null==t?void 0:t.ID)&&void 0!==n?n:-1}`},readyToFetch:void 0!==t&&a===Kl.LoggedIn},callbacks:{onFileUploaded:(e,t,a,n,i)=>{h(t,i)},onRestrictionFailed:(e,t,a)=>{let n=a.message.trim();const i=Array.from(n.matchAll(/^You can only upload (\d*) file$/gi));if(i.length>0){const[,e]=i[0];n=`Only ${e} files can be uploaded at a time.`}n.startsWith("You can only upload:")&&(n="Unsupported file type (only .png, .gif, and .jpgs)"),n.endsWith("AUTH_EXPIRED")&&(n="Something went wrong. Please refresh the page."),(0,r.Am)(n),hg.warn(a.message.trim(),{},{sendToSentry:!0})}},options:{restrictions:{maxFileSize:1024*i*1024,maxNumberOfFiles:1,minNumberOfFiles:1}}}}),[e,t,a]),{isUploading:m,uploadFile:g}=pg(u),h=i.useCallback(((t,a,n,i,r,l=!1)=>{return c=void 0,d=void 0,m=function*(){const r={};void 0!==o&&(r.background=z()(o)),void 0!==t&&(r.backgroundColor=null!=a?a:"#ffffff",r.background=Object.assign(Object.assign({},o),{imageUrl:t,color:null!=a?a:"#ffffff"})),void 0!==n&&(void 0===r.background&&(r.background={color:null!=s?s:"#ffffff"}),"cover"===n?(r.background.size="cover",r.background.repeat=void 0):"contain"===n?(r.background.size="contain",r.background.repeat=void 0):"stretch"===n&&(r.background.size="100% 100%",r.background.repeat=void 0),"tile"===n&&(r.background.repeat="repeat",void 0===r.background&&(r.background={color:null!=s?s:"#ffffff"}),r.background.size=`${null!=i?i:50}%`)),e.mutatePage((e=>e.patchStyle(r)),{inProgress:l})},new((u=void 0)||(u=Promise))((function(e,t){function a(e){try{i(m.next(e))}catch(e){t(e)}}function n(e){try{i(m.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof u?i:new u((function(e){e(i)}))).then(a,n)}i((m=m.apply(c,d||[])).next())}));var c,d,u,m}),[e,o,s]),f=i.useCallback((()=>{const t={};void 0!==o&&(t.background=void 0),e.mutatePage((e=>e.patchStyle(t)))}),[o]),b=i.useCallback((e=>{if(null===e.target.files)return hg.error("Files array is somehow empty."),void(0,r.Am)(lr);const t=Array.from(e.target.files);g(t[0])}),[g]),y=i.useCallback((e=>{h(void 0,void 0,e.currentTarget.value)}),[h]),v=i.useCallback((e=>{h(void 0,void 0,"tile",e[0],void 0,!0)}),[h]),w=i.useCallback((e=>{h(void 0,void 0,"tile",e[0],void 0,!1)}),[h]);return i.createElement(i.Fragment,null,i.createElement(Kd,{className:x("image-fill-panel"),style:{padding:12}},i.createElement(Qs,null,i.createElement("div",{className:I("image-fill-upload-button-wrapper",{"has-background":void 0!==o})},void 0!==o&&i.createElement(i.Fragment,null,i.createElement("img",{src:o.imageUrl,className:"image-fill-preview"}),i.createElement(Vs,{gap:8},i.createElement("input",{disabled:n(),style:{display:"none"},id:"image-fill-upload",type:"file",onChange:b}),i.createElement("label",{className:os()({uploading:m,disabled:n()}),id:"image-fill-upload-button",htmlFor:"image-fill-upload",style:{marginLeft:10}},"Replace",m&&i.createElement("span",{className:"loading-indicator"},i.createElement(Fs.G,{icon:ns.AX7,className:"fa-spin"}))),i.createElement(Zs,{options:{theme:"dark"},size:"small",vibe:"secondary",onClick:f},"Remove"))),void 0===o&&i.createElement(i.Fragment,null,i.createElement("div",{className:"disclaimer"},i.createElement(xs,{icon:ns.qDv}),"No image yet"),i.createElement("input",{disabled:n(),style:{display:"none"},id:"image-fill-upload",type:"file",onChange:b}),i.createElement("label",{className:os()({uploading:m,disabled:n()}),id:"image-fill-upload-button",htmlFor:"image-fill-upload",style:{marginLeft:10}},"Upload",m&&i.createElement("span",{className:"loading-indicator"},i.createElement(Fs.G,{icon:ns.AX7,className:"fa-spin"}))))))),void 0!==o&&i.createElement(Kd,{className:x("image-fill-panel"),style:{padding:12,borderTop:"1px solid rgba(255,255,255,0.24)"}},i.createElement(Qs,{gap:8},i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement("div",{className:"label"},"Fit"),i.createElement("div",null,i.createElement("select",{onChange:y,value:d},i.createElement("option",{value:"cover"},"Cover"),i.createElement("option",{value:"contain"},"Contain"),i.createElement("option",{value:"stretch"},"Stretch"),i.createElement("option",{value:"tile"},"Tile")))),c&&i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement("div",{className:"label"},"Tile Size"),i.createElement(Jm.fC,{className:"SliderRoot",defaultValue:[void 0===l?50:parseInt(l)],max:100,min:1,step:5,"aria-label":"padding",onValueChange:v,onValueCommit:w,style:{maxWidth:"50%"}},i.createElement(Jm.fQ,{className:"SliderTrack",style:{background:"rgba(255,255,255,.32)"}},i.createElement(Jm.e6,{className:"SliderRange",style:{background:"#fff"}})),i.createElement(Jm.bU,{className:"SliderThumb"}))))))}));fg.displayName="ImageFillPanel";var bg=a(61128);class yg{static get regex(){return{hex:/^#[a-f0-9]{3}([a-f0-9]{3})?$/i,rgb:/^rgb?\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*\)$/,rgba:/^rgba\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*(\d+|\d*\.\d+)\s*\)$/,hsl:/^hsl\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*\)$/,hsla:/^hsla\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*,\s*(\d+|\d*\.\d+)\s*\)$/,hsv:/^hsv\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*\)$/,hwb:/^hwb\(\s*\d{1,3}\s*,\s*\d{1,3}%\s*,\s*\d{1,3}%\s*\)$/}}static isHex(e){return yg.regex.hex.test(e)}static isRgb(e){return yg.regex.rgb.test(e)}static isRgba(e){return yg.regex.rgba.test(e)}static isHsl(e){return yg.regex.hsl.test(e)}static isHsla(e){return yg.regex.hsla.test(e)}static isHsv(e){return yg.regex.hsv.test(e)}static isHwb(e){return yg.regex.hwb.test(e)}static isKeyword(e){return"keyword"===yg.getFormat(e)}static format(e){return yg.getFormat(e)}static getFormat(e){for(const t in yg.regex)if(yg.regex.hasOwnProperty(t)&&yg.regex[t].test(e))return t;return"keyword"}static array(e,t=!1){return yg.toArray(e,t)}static toArray(e,t=!1){const a=yg.clear(e,t);return a?a.split(","):[e]}static clear(e,t=!1){let a=yg.removeFormat(e);return a&&t&&(a=a.replace(/%/g,"")),a}static removeFormat(e){return!!e&&e.replace(/(hex|rgba?|hsla?|hwb|hsv|\(+|\)+|\s)/g,"")}static componentToHex(e){var t=e.toString(16);return 1==t.length?"0"+t:t}static rgbToHex(e){const{r:t,g:a,b:n}=e;return"#"+yg.componentToHex(t)+yg.componentToHex(a)+yg.componentToHex(n)}static hexToRgb(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:void 0}}const vg=(0,i.memo)((({fill:e,onChange:t})=>{const a=i.useMemo((()=>{var t,a;if(yg.isRgb(e)){const[t,a,n]=yg.array(e).map((e=>{var t;return null!==(t=parseFloat(e))&&void 0!==t?t:0}));return{r:t,g:a,b:n,a:1}}if(yg.isRgba(e)){const[t,a,n,i]=yg.array(e).map((e=>{var t;return null!==(t=parseFloat(e))&&void 0!==t?t:0}));return{r:t,g:a,b:n,a:i}}return yg.isHex(e)?null!==(t=yg.hexToRgb(e))&&void 0!==t?t:{r:0,g:0,b:0}:null!==(a=yg.hexToRgb(e))&&void 0!==a?a:{r:0,g:0,b:0}}),[e]),n=i.useCallback((e=>{const{r:a,g:n,b:i,a:o}=e.rgb;t(`rgba(${a}, ${n}, ${i}, ${o})`,!0)}),[]),o=i.useCallback((e=>{const{r:a,g:n,b:i,a:o}=e.rgb;t(`rgba(${a}, ${n}, ${i}, ${o})`)}),[t]);return i.createElement(Kd,{style:{padding:0}},i.createElement("div",null,i.createElement(bg.AI,{color:a,disableAlpha:!1,onChangeComplete:n,onChange:o})))}));vg.displayName="NewReactComponent";const wg=fs((({id:e,targetRef:t,placement:a,fill:n,onChange:o,onPointerDown:s,onPointerUp:r,toggleIds:l,externalStateEnvelope:c},d)=>{const[u,m]=i.useState("solid"),g=c?c[0]:u,p=c?c[1]:m,h=i.useCallback((()=>{const e=Cu()();o(e,!0)}),[o]),{open:f,close:b,isSupported:y}=(0,Km.Z)(),v=i.useCallback((()=>{return e=void 0,t=void 0,n=function*(){const e=yield f();o(e.sRGBHex,!0)},new((a=void 0)||(a=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}));var e,t,a,n}),[o,f]),w=!y(),E=y()?"Eye Dropper":"Unsupported In Your Browser";return i.createElement(Vd,{id:e,ref:d,className:x("fill-picker-popover"),targetRef:t,placement:a,options:{margin:16},idsToIgnoreForOutsideClick:l},i.createElement($d,{style:{width:224,overflow:"hidden"}},i.createElement(Kd,{className:"popover-header",withBorder:!0},i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement(Zm,{onClick:()=>{p("solid"===g?"image":"solid")}},"solid"===g&&i.createElement(i.Fragment,null,"Solid Color"),"image"===g&&i.createElement(i.Fragment,null,"Image")),"solid"===g&&i.createElement(i.Fragment,null,i.createElement(Vs,{mainAxisAlign:"end",gap:6},y()&&i.createElement(i.Fragment,null,i.createElement(Su,{className:"eye-dropper-button",label:E,onClick:v,style:{width:32},disabled:w,tooltipOptions:{placement:"below"}},i.createElement(xs,{icon:ns.GlN})),i.createElement(Fu,null)),i.createElement(Su,{className:"randomize-button",label:"Randomize!",onClick:h,style:{width:32},tooltipOptions:{placement:"below"}},i.createElement(xs,{icon:ns.a_u})))))),"solid"===g&&i.createElement(vg,{fill:n,onChange:o}),"image"===g&&i.createElement(fg,null)))}));wg.displayName="FillPickerPopover";const Eg=fs((({id:e,fill:t="#fff",imageFill:a,onChange:n,onPointerDown:o,onPointerUp:s,theme:r="dark",size:l="regular",popoverPlacement:c="above",allowImages:d=!1},u)=>{const[m,g]=i.useState("solid"),p=i.useRef(null),h=i.useRef(null),{toggleOverlay:f,isOverlayVisible:b}=hs(),y=`${e}-popover`,v=b(y),w=`${e}-image-fill-button`,E=`${e}-solid-fill-button`;ql(y);const k=i.useCallback((e=>()=>{Hs.play("light-click"),v&&m!==e?g(e):(g(e),f(y))}),[f,v,y,m]),F=i.useMemo((()=>I(x("fill-picker"),{"dark-mode":"dark"===r,"light-mode":"light"===r,[l]:void 0!==l})),[r,l]);return i.createElement(i.Fragment,null,i.createElement(wg,{ref:u,id:y,targetRef:p,fill:t,onChange:n,onPointerDown:o,onPointerUp:s,placement:c,toggleIds:[w,E],externalStateEnvelope:[m,g]}),d&&i.createElement(i.Fragment,null,i.createElement(ks,{targetRef:h},"Background Image"),i.createElement("button",{id:w,ref:h,className:F,style:{background:void 0!==a?`url('${null==a?void 0:a.imageUrl}')`:"transparent",backgroundSize:"cover",borderRadius:2,marginRight:8},onClick:k("image")})),i.createElement(ks,{targetRef:p},"Background Color"),i.createElement("button",{id:E,ref:p,className:F,style:{backgroundColor:t},onClick:k("solid")}))}));Eg.displayName="FillPicker";const kg=({active:e,colorPickerRef:t})=>{var a;const n=ol(),o=n.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.style.backgroundColor})),s=n.useStore((e=>{var t;return null===(t=e.page.inProgress)||void 0===t?void 0:t.style.backgroundColor}));ql("page-background-color-picker-popup");const r=i.useCallback(((e,t)=>{const a=n.selectOnce(wc);t?n.cancelInProgressPage().mutatePage((t=>t.patchStyle({backgroundColor:e}))):(void 0===a&&n.beginInProgressPage(),n.mutatePage((t=>t.patchStyle({backgroundColor:e})),{inProgress:!0}))}),[]),l=null!==(a=null!=s?s:o)&&void 0!==a?a:p.defaultPageStyle.backgroundColor;return e?i.createElement("div",{className:"toolbar-panel",style:{minWidth:240}},i.createElement(Qs,{gap:8},i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement("div",{style:{fontSize:16,fontWeight:600}},"Background Color"),i.createElement("div",null,i.createElement(Eg,{id:"page-background-color-picker",ref:t,fill:l,onChange:r,popoverPlacement:"below",size:"large",theme:"light",allowImages:!0}))))):i.createElement(i.Fragment,null)};kg.displayName="PageStylesPanel";const Fg=(0,i.memo)((({active:e,toggleActivePanel:t})=>{const a=(0,i.useCallback)((()=>{t("shape"),w({event:"clicked-shape-button",location:"tool-picker"})}),[t]);return i.createElement(i.Fragment,null,i.createElement(Su,{active:e,label:"Add Shape",icon:vd.Kak,tooltipOptions:Ng,onClick:a},i.createElement("span",{className:"label"},"Shape")))}));Fg.displayName="ShapeToolPickerButton";const xg=({children:e,style:t={},gap:a,cellWidth:n,cellHeight:o})=>{const s=i.useMemo((()=>{let e={"--cell-width":`${n}px`};return o&&(e["--cell-height"]=`${o}px`),void 0!==a&&(e["--grid-gap"]=`${a}px`),Object.assign(Object.assign({},e),t)}),[t,n,o,a]);return i.createElement("div",{className:x("scrollable-grid"),style:s},e)},Sg=({id:e,alt:t="",children:a=null,style:n,onClick:o=null})=>{const s=i.useMemo((()=>Object.assign({display:"flex",alignItems:"center",justifyContent:"center"},n)),[n]);return i.createElement("div",{className:"cell",style:s},a,o&&i.createElement(i.Fragment,null,i.createElement("label",{htmlFor:e},t),i.createElement("button",{id:e,type:"button",onClick:o})))},Ig=(0,i.memo)((({content:e,preserveAspectRatio:t=!0})=>{const{shapeType:a,shapeColor:n}=e;let o;switch(a){case Pt.Rectangle:o=i.createElement("polygon",{points:"512 0, 512 512, 0 512, 0 0",fill:n});break;case Pt.Oval:o=i.createElement("circle",{cx:"256",cy:"256",r:"256",fill:n});break;case Pt.Triangle:o=i.createElement("polygon",{points:"256 0, 512 512, 0 512",fill:n});break;case Pt.CommentRectangle:o=i.createElement("path",{fill:n,d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"});break;case Pt.CommentBubble:o=i.createElement("path",{fill:n,d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"});break;case Pt.ArrowThick:o=i.createElement("path",{fill:n,d:"M0 304v-96c0-13.3 10.7-24 24-24h200V80.2c0-21.4 25.8-32.1 41-17L441 239c9.4 9.4 9.4 24.6 0 34L265 448.7c-15.1 15.1-41 4.4-41-17V328H24c-13.3 0-24-10.7-24-24z"});break;case Pt.ArrowThin:o=i.createElement("path",{fill:n,d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"});break;case Pt.Asterisk:o=i.createElement("path",{fill:n,d:"M478.21 334.093L336 256l142.21-78.093c11.795-6.477 15.961-21.384 9.232-33.037l-19.48-33.741c-6.728-11.653-21.72-15.499-33.227-8.523L296 186.718l3.475-162.204C299.763 11.061 288.937 0 275.48 0h-38.96c-13.456 0-24.283 11.061-23.994 24.514L216 186.718 77.265 102.607c-11.506-6.976-26.499-3.13-33.227 8.523l-19.48 33.741c-6.728 11.653-2.562 26.56 9.233 33.037L176 256 33.79 334.093c-11.795 6.477-15.961 21.384-9.232 33.037l19.48 33.741c6.728 11.653 21.721 15.499 33.227 8.523L216 325.282l-3.475 162.204C212.237 500.939 223.064 512 236.52 512h38.961c13.456 0 24.283-11.061 23.995-24.514L296 325.282l138.735 84.111c11.506 6.976 26.499 3.13 33.227-8.523l19.48-33.741c6.728-11.653 2.563-26.559-9.232-33.036z"});break;case Pt.Ban:o=i.createElement("path",{fill:n,d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"});break;case Pt.BreadSlice:o=i.createElement("path",{fill:n,d:"M288 0C108 0 0 93.4 0 169.14 0 199.44 24.24 224 64 224v256c0 17.67 16.12 32 36 32h376c19.88 0 36-14.33 36-32V224c39.76 0 64-24.56 64-54.86C576 93.4 468 0 288 0z"});break;case Pt.Check:o=i.createElement("path",{fill:n,d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"});break;case Pt.Certificate:o=i.createElement("path",{fill:n,d:"M458.622 255.92l45.985-45.005c13.708-12.977 7.316-36.039-10.664-40.339l-62.65-15.99 17.661-62.015c4.991-17.838-11.829-34.663-29.661-29.671l-61.994 17.667-15.984-62.671C337.085.197 313.765-6.276 300.99 7.228L256 53.57 211.011 7.229c-12.63-13.351-36.047-7.234-40.325 10.668l-15.984 62.671-61.995-17.667C74.87 57.907 58.056 74.738 63.046 92.572l17.661 62.015-62.65 15.99C.069 174.878-6.31 197.944 7.392 210.915l45.985 45.005-45.985 45.004c-13.708 12.977-7.316 36.039 10.664 40.339l62.65 15.99-17.661 62.015c-4.991 17.838 11.829 34.663 29.661 29.671l61.994-17.667 15.984 62.671c4.439 18.575 27.696 24.018 40.325 10.668L256 458.61l44.989 46.001c12.5 13.488 35.987 7.486 40.325-10.668l15.984-62.671 61.994 17.667c17.836 4.994 34.651-11.837 29.661-29.671l-17.661-62.015 62.65-15.99c17.987-4.302 24.366-27.367 10.664-40.339l-45.984-45.004z"});break;case Pt.Cloud:o=i.createElement("path",{fill:n,d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4z"});break;case Pt.File:o=i.createElement("path",{fill:n,d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"});break;case Pt.Folder:o=i.createElement("path",{fill:n,d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"});break;case Pt.Heart:o=i.createElement("path",{fill:n,d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"});break;case Pt.MapMarker:o=i.createElement("path",{fill:n,d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0z"});break;case Pt.Shield:o=i.createElement("path",{fill:n,d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3z"});break;case Pt.StickyNote:o=i.createElement("path",{fill:n,d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"});break;case Pt.Tag:o=i.createElement("path",{fill:n,d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"});break;case Pt.Path:o=i.createElement(i.Fragment,null)}const[s,r]=(e=>{var t;return null!==(t=new Map([[Pt.ArrowThick,[448,512]],[Pt.ArrowThin,[448,512]],[Pt.BreadSlice,[576,512]],[Pt.Cloud,[640,512]],[Pt.File,[384,512]],[Pt.MapMarker,[384,512]],[Pt.StickyNote,[512,512]],[Pt.Triangle,[512,512]]]).get(e))&&void 0!==t?t:[512,512]})(a);return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"100%",width:"100%",viewBox:`0 0 ${s} ${r}`,preserveAspectRatio:t?"none":""},o)}));Ig.displayName="ShapeThingView";const Cg=Object.values(Pt).filter((e=>e!==Pt.Path)),Pg=({active:e})=>{const t=ol();return e?i.createElement("div",{className:"toolbar-panel shape-panel",style:{padding:16,paddingRight:4}},i.createElement(xg,{cellWidth:64,cellHeight:60},Cg.map((e=>i.createElement(Sg,{id:`option-${e}`,key:`option-${e}`,onClick:()=>{t.buildThings((t=>t.add({type:zt.Shape,content:{shapeType:e,shapeColor:"#000"}})))}},i.createElement(Ig,{content:{shapeColor:"#000",shapeType:e,shapePath:void 0},preserveAspectRatio:!1})))))):i.createElement(i.Fragment,null)};Pg.displayName="ShapePanel";const Tg=S("tool-picker"),Ng=(S("expert-tooler-picker"),{margin:16,placement:"right"}),Rg=(0,i.memo)((({orientation:e,fileInput:t,disabled:a=!1})=>{const n=(0,i.useRef)(null),{visible:o}=(ol().useStore(tc),ql(Tg)),{activePanel:s,setActivePanel:r,toggleActivePanel:l}=(()=>{const[e,t]=(0,i.useState)(void 0),a=(0,i.useCallback)((a=>{t(e===a?void 0:a)}),[t,e]);return(0,i.useMemo)((()=>({activePanel:e,setActivePanel:t,toggleActivePanel:a})),[e,t,a])})(),c=(0,i.useRef)(null),d=((0,i.useCallback)((()=>{r("more-blocks"===s?void 0:"more-blocks")}),[r,s]),(0,i.useCallback)((()=>{r(void 0)}),[r]));((e,t,a)=>{(0,i.useEffect)((()=>{const n=n=>{!e.current||e.current.contains(n.target)||(null==a?void 0:a.some((e=>{var t;return null===(t=e.current)||void 0===t?void 0:t.contains(n.target)})))||t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])})(n,d,[c]);const u=i.useMemo((()=>Od()({hidden:!o,horizontal:"horizontal"===e,vertical:"vertical"===e,"with-active-panel":void 0!==s})),[s,e,o]);return i.createElement(i.Fragment,null,i.createElement(xu,{id:Tg,ref:n,className:u},i.createElement(ku,{className:"toolbar-content-wrapper",orientation:"horizontal"===e?"vertical":"horizontal",style:{width:"min-content",alignItems:"flex-start"}},i.createElement("div",{className:"toolbar-content"},i.createElement(ku,{orientation:e,gap:0,mainAxisAlign:"start"},i.createElement(qm,null),i.createElement(vm,null),i.createElement(Fu,null),i.createElement(wm,{active:"sticker"===s,toggleActivePanel:l,disabled:a}),i.createElement(Gm,null),i.createElement(Wm,{active:"image"===s,toggleActivePanel:l}),i.createElement(Fg,{active:"shape"===s,toggleActivePanel:l}),i.createElement(bm,{tooltipOptions:Ng,onClickCallback:d}),!Ne.tq&&i.createElement(ym,null),i.createElement(Fu,null),i.createElement(Hu,{tooltipOptions:Ng}),i.createElement(Xm,{active:"page-style"===s,toggleActivePanel:l}))),i.createElement(jm,null),i.createElement(fm,null),i.createElement(Pg,{active:"shape"===s}),i.createElement(kg,{active:"page-style"===s,colorPickerRef:c}),"image"===s&&i.createElement($m,{active:"image"===s,fileInput:t}),"sticker"===s&&i.createElement(Pm,null),"more-blocks"===s&&i.createElement(Ym,{active:"more-blocks"===s}))))}));Rg.displayName="ToolPicker";var Dg=a(82655);const Og=S("town-tool-picker-button"),Ag=["green","yellow","blue","red"],Mg=(0,i.memo)((({})=>{const{toggleOverlay:e,isOverlayVisible:t}=hs(),[a,n]=i.useState((()=>Ag[0])),o=i.useCallback((()=>{e(""),w({event:"clicked-image-button",location:"tool-picker"})}),[e]),s=i.useCallback((()=>{n((e=>{let t=Ag[Math.floor(Math.random()*Ag.length)];for(;t===e;)t=Ag[Math.floor(Math.random()*Ag.length)];return t}))}),[n]);return p.isDevelopment?i.createElement(Su,{id:Og,label:"Social Blocks",active:t(""),className:a,icon:Dg.vZP,tooltipOptions:Ng,onClick:o,onPointerLeave:s,hideTooltipOnClick:!0},i.createElement("span",{className:"label"},"Social Blocks")):i.createElement(i.Fragment,null)}));Mg.displayName="TownToolPickerButton";const zg=(0,i.memo)((({})=>i.createElement("div",{id:S("town-tool-picker-panel")})));function Lg(e,t){const{isOverlayVisible:a}=hs(),n=a(e),o=i.useMemo((()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect().height}),[n]);return{height:o}}zg.displayName="TownToolPickerPanel";const jg=["shape","underline","art"],Bg=["wordart","background","stroke","circle","arrow","dread","border","meme","squiggle","sparkle","hello"],Ug=new Em.GiphyFetch(p.giphyKey),_g=S("sticker-popover"),Hg=(0,i.memo)((({targetRef:e})=>{const t=ol(),{height:a}=Lg(_g,e);ql(_g);const{fetchGifs:n,searchKey:o,setSearch:s,term:r}=i.useContext(km.SearchContext),[l,c]=i.useState(!1),[d,u]=i.useState([]);i.useEffect((()=>{u([...jg,...ms(Bg)])}),[]);const m=o.split("/").length>1?n:()=>Ug.trending({type:"stickers"}),g=e=>{const t={URL:e.url,width:e.width,height:e.height,size:e.size?parseInt(e.size,10):void 0};return"webp"in e&&"webp_size"in e&&(t.webp={URL:e.webp,size:parseInt(e.webp_size,10)}),"mp4"in e&&"mp4_size"in e&&(t.mp4={URL:e.mp4,size:parseInt(e.mp4_size,10)}),t},p=e=>{const{preview:t,preview_gif:a,preview_webp:n}=e;return{URL:a.url,width:a.width,height:a.height,size:a.size?parseInt(a.size,10):void 0,webp:{URL:n.url,size:n.size?parseInt(n.size,10):null},mp4:{URL:t.url,size:t.size?parseInt(t.size,10):null}}},h=(Math.min(400,document.body.clientWidth-56),document.body.clientWidth<600),f=i.useMemo((()=>({height:a,width:312})),[a]);return i.createElement(Vd,{id:_g,placement:"right",targetRef:e,idsToIgnoreForOutsideClick:[qg]},i.createElement(Js,{width:"narrow",style:f},i.createElement(Ws,{noPadding:!0},i.createElement(Qs,null,i.createElement(km.SearchBar,{placeholder:cr}),i.createElement(Fm.Z,{className:"suggestions-bar",hideScrollbars:!1,onStartScroll:()=>c(!0),onEndScroll:()=>window.setTimeout((()=>c(!1)),50)},i.createElement("div",{className:"ideas"},d.map((e=>i.createElement(Zs,{key:`idea-${e}`,vibe:"secondary",size:"mini",active:r===e,onClick:()=>{l||s(e)}},e))))),i.createElement(km.Grid,{key:o,columns:2,width:280,fetchGifs:m,hideAttribution:h,noLink:!0,onGifClick:e=>{if(void 0===t.selectOnce((e=>e.page.stable)))return;const a={default:g(e.images.original),optimized:g(e.images.downsized),fixedWidth:g(e.images.fixed_width),fixedWidthSmall:g(e.images.fixed_width_small),preview:p(e.images)},n=a.default.width/a.default.height,{user:i,source:o,embed_url:s}=e;let r;null!=i&&(r=""!==i.display_name?i.display_name:i.username);const l={name:r,URL:""!==o?o:null!=s?s:null,metadata:{giphyURL:s}};t.resetEditor().buildThings((e=>e.add({type:zt.GIF,content:{images:a}}).patchPosition({height:150,width:150*n}).setSource(l)))}})))))}));Hg.displayName="StickerPopover";const Gg=(0,i.memo)((({targetRef:e})=>i.createElement(km.SearchContextManager,{apiKey:p.giphyKey,options:{sort:"relevant",lang:"en",limit:10,type:"stickers"}},i.createElement(Hg,{targetRef:e})))),qg=S("sticker-button"),Wg=(0,i.memo)((({disabled:e})=>{const{toggleOverlay:t,isOverlayVisible:a}=hs(),n=(0,i.useCallback)((()=>{t(_g),w({event:"clicked-gif-button",location:"tool-picker"})}),[t]);return i.createElement(Su,{id:qg,label:"Add Sticker",active:a(_g),icon:vd.L4e,tooltipOptions:Ng,onClick:n,hideTooltipOnClick:!0,disabled:e},i.createElement("span",{className:"label"},"Sticker"))}));Wg.displayName="StickerPopoverButton";const Vg=S("image-popover"),$g=(0,i.memo)((({fileInput:e,targetRef:t})=>{const a=ol();ql(Vg);const n=a.useStore(ac),{height:o}=Lg(Vg,t),s=i.useMemo((()=>({height:o,width:256})),[o]),r=i.useMemo((()=>n!==Kl.LoggedIn?i.createElement("div",{className:"toolbar-panel image-panel",style:{padding:0,width:300}},i.createElement(Ws,{style:{padding:24}},i.createElement(Qs,{gap:16,style:{padding:"16 0",textAlign:"center",width:"100%"}},i.createElement("div",{style:{lineHeight:1.6}},"Login to upload")," "))):i.createElement("div",{className:"toolbar-panel image-panel",style:{padding:0,width:300}},i.createElement(Ws,null,i.createElement(Qs,{gap:16,style:{padding:"16 0",textAlign:"center",width:"100%"}},i.createElement("div",{style:{lineHeight:1.6}},i.createElement(Vm,null,"Upload image"),i.createElement(Vm,{variant:"fine",noMargin:!0},"Only .png, .jpg, .gif allowed. Max 5 MB. You can also drag and drop.")),i.createElement("div",null,e))))),[n,e]);return i.createElement(Vd,{id:Vg,placement:"right",targetRef:t,idsToIgnoreForOutsideClick:[Yg]},i.createElement(Js,{width:"narrow",style:s},i.createElement(Ws,null,r)))}));$g.displayName="ImagePopover";const Yg=S("image-button"),Xg=(0,i.memo)((({disabled:e=!1})=>{const{toggleOverlay:t,isOverlayVisible:a}=hs(),n=(0,i.useCallback)((()=>{t(Vg),w({event:"clicked-image-button",location:"tool-picker"})}),[t]);return i.createElement(Su,{id:Yg,label:"Add Image",active:a(Vg),icon:vd.jZ7,tooltipOptions:Ng,onClick:n,hideTooltipOnClick:!0,disabled:e},i.createElement("span",{className:"label"},"Image"))}));function Kg(){const e=(0,zr.TH)();return{isFirstPage:(0,i.useMemo)((()=>"?first_page"===e.search),[e])}}Xg.displayName="ImageNewButton";const Zg=S("more-blocks-popover"),Jg=(0,i.memo)((({targetRef:e})=>{const{height:t}=Lg(Zg,e);ql(Zg);const{isFirstPage:a}=Kg(),{showOverlay:n}=hs(),o=i.useMemo((()=>({height:t,width:196})),[t]),s=i.useMemo((()=>a?{}:{borderRadius:"0px  0px 5px 0px"}),[a]);return i.createElement(Vd,{id:Zg,placement:"right",targetRef:e,idsToIgnoreForOutsideClick:[Qg]},i.createElement(Js,{width:"narrow",style:o},i.createElement(Ws,{noPadding:!0,noBorder:!0},i.createElement(xg,{cellWidth:80,cellHeight:80,gap:0,style:{overflow:"hidden"}},i.createElement(Sg,{id:"button-button-cell"},i.createElement(Gm,{onClickCallback:()=>n(Zg,!1),noLabel:!0})),i.createElement(Sg,{id:"smart-embed-button-cell"},i.createElement(bm,{onClickCallback:()=>n(Zg,!1),noLabel:!0})),i.createElement(Sg,{id:"button-button-cell",style:s},i.createElement(ym,{onClickCallback:()=>n(Zg,!1),noLabel:!0})),a&&i.createElement(Sg,{id:"button-button-cell"},i.createElement(Hu,{noLabel:!0})))),i.createElement(Ws,{style:{height:"100%",alignItems:"flex-end",padding:8}},i.createElement(Gu,{type:"secondary",style:{height:"fit-content"},fullWidth:!0},"Pardon the mess!"))))}));Jg.displayName="PageStylesModal";const Qg=S("more-blocks-button"),ep=(0,i.memo)((({disabled:e=!1})=>{const{toggleOverlay:t,isOverlayVisible:a}=hs(),n=(0,i.useCallback)((()=>{t(Zg),w({event:"opened-more-blocks-popover",location:"tool-picker"})}),[t]),o=i.useMemo((()=>({height:48})),[]);return i.createElement(Su,{id:Qg,active:a(Zg),label:"More Blocks",icon:vd.S6C,tooltipOptions:Ng,onClick:n,style:o,hideTooltipOnClick:!0,disabled:e})}));ep.displayName="MoreBlocksButton";const tp=S("page-styles-modal"),ap=(0,i.memo)((({targetRef:e})=>{var t;const a=ol(),n=a.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.style.backgroundColor})),o=a.useStore((e=>{var t;return null===(t=e.page.inProgress)||void 0===t?void 0:t.style.backgroundColor})),s=a.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.style.background})),{height:r}=Lg(tp,e);ql(tp),ql("page-background-color-picker-popup");const l=i.useCallback(((e,t)=>{const n=a.selectOnce(wc);t?a.cancelInProgressPage().mutatePage((t=>t.patchStyle({backgroundColor:e}))):(void 0===n&&a.beginInProgressPage(),a.mutatePage((t=>t.patchStyle({backgroundColor:e})),{inProgress:!0}))}),[]),c=null!==(t=null!=o?o:n)&&void 0!==t?t:p.defaultPageStyle.backgroundColor,d=i.useMemo((()=>({height:r,width:256})),[r]);return i.createElement(Vd,{id:tp,placement:"right",targetRef:e,idsToIgnoreForOutsideClick:[np,"page-background-color-picker-popover"]},i.createElement(Js,{width:"narrow",style:d},i.createElement(Ws,{noBorder:!0},i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement("div",{style:{fontSize:14,fontWeight:600}},"Background"),i.createElement("div",null,i.createElement(Eg,{id:"page-background-color-picker",fill:c,imageFill:s,onChange:l,popoverPlacement:"below",size:"regular",theme:"light",allowImages:!0})))),i.createElement(Ws,{style:{height:"100%",alignItems:"flex-end",padding:8}},i.createElement(Gu,{type:"secondary",style:{height:"fit-content"},fullWidth:!0},i.createElement("div",null,"Want to add domain + favicon? Click"," ",i.createElement("code",null,i.createElement(xs,{icon:ns.b7W,style:{margin:0}}))," ","for ",i.createElement("code",null,"Page Settings"))))))}));ap.displayName="PageStylesModal";const np=S("page-styles-button"),ip=(0,i.memo)((({})=>{const{toggleOverlay:e,isOverlayVisible:t}=hs(),a=(0,i.useCallback)((()=>{e(tp),w({event:"opened-page-styles-popover",location:"tool-picker"})}),[e]);return i.createElement(Su,{id:np,active:t(tp),label:"Page Styles",icon:vd.q2v,tooltipOptions:Ng,onClick:a,hideTooltipOnClick:!0})}));ip.displayName="PageStylesButton";const op=[Pt.Rectangle,Pt.Triangle,Pt.Oval,...Object.values(Pt).filter((e=>e!==Pt.Path&&e!==Pt.Tag&&e!==Pt.BreadSlice&&e!==Pt.Rectangle&&e!==Pt.Triangle&&e!==Pt.Oval))],sp=S("shape-popover"),rp=(0,i.memo)((({targetRef:e})=>{const t=ol(),{height:a}=Lg(sp,e);ql(sp);const n=i.useCallback((e=>()=>{t.buildThings((t=>t.add({type:zt.Shape,content:{shapeType:e,shapeColor:"#000"}})))}),[]),o=i.useMemo((()=>({height:a,width:256})),[a]);return i.createElement(Vd,{id:sp,placement:"right",targetRef:e,idsToIgnoreForOutsideClick:[lp]},i.createElement(Js,{width:"narrow",style:o},i.createElement(Ws,{style:{padding:12,height:"100%"}},i.createElement(xg,{cellWidth:56},op.map((e=>i.createElement(Sg,{id:`option-${e}`,key:`option-${e}`},i.createElement("button",{onClick:n(e)},i.createElement(Ig,{content:{shapeColor:"#000",shapeType:e,shapePath:void 0},preserveAspectRatio:!1})))))))))}));rp.displayName="ShapePopover";const lp=S("shape-button"),cp=(0,i.memo)((({disabled:e=!1})=>{const{toggleOverlay:t,isOverlayVisible:a}=hs(),n=(0,i.useCallback)((()=>{t(sp),w({event:"clicked-shape-button",location:"tool-picker"})}),[t]);return i.createElement(Su,{id:lp,label:"Add Shape",active:a(sp),icon:vd.Kak,tooltipOptions:Ng,onClick:n,hideTooltipOnClick:!0,disabled:e},i.createElement("span",{className:"label"},"Shape"))}));cp.displayName="ShapePopoverButton";const dp=(0,i.memo)((({undo:e,redo:t,canUndo:a,canRedo:n})=>{const o=i.useRef(null),s=i.useRef(null),r=i.useCallback((()=>{w({event:"clicked-redo-button",location:"global"}),t()}),[t]),l=i.useCallback((()=>{w({event:"clicked-undo-button",location:"global"}),e()}),[e]);return a||n?i.createElement(i.Fragment,null,a&&i.createElement(ks,{targetRef:o,hint:a?"Z":void 0,options:{placement:"below"}},"Undo"),n&&i.createElement(ks,{targetRef:s,hint:n?"Y":void 0,options:{placement:"below"}},"Redo"),i.createElement(Fu,{direction:"horizontal",length:"full-length"}),i.createElement("div",{id:S("undo-redo-buttons")},i.createElement(Vs,null,i.createElement(Su,{ref:o,icon:ns.X7o,onClick:l,disabled:!a}),i.createElement(Su,{ref:s,icon:ns.XSV,onClick:r,disabled:!n})))):i.createElement(i.Fragment,null)}));dp.displayName="UndoRedoButtons";const up=S("block-picker"),mp=S("new-tool-picker"),gp=(S("undo-redo-picker"),(0,i.memo)((({fileInput:e,undo:t,redo:a,canUndo:n,canRedo:o,disabled:s})=>{ol();const{visible:r}=ql(up);ql(mp);const l=i.useRef(null),c=i.useRef(null),d=i.useRef(null),{isOverlayVisible:u}=hs(),m=u(_g)||u(sp)||u(Vg)||u(Zg)||u(tp),g=i.useMemo((()=>Od()(x("picker"),{hidden:!r,active:m})),[r,m]),h=i.useMemo((()=>Od()(x("picker"),{hidden:!r})),[r]);return s?i.createElement(i.Fragment,null):i.createElement("div",{id:S("pickers-container"),className:g},i.createElement("div",{className:S("pickers"),ref:l},i.createElement(xu,{id:up,ref:d,className:h},i.createElement(Qs,null,i.createElement(qm,{disabled:s}),i.createElement(Fu,{direction:"horizontal",length:"full-length"}),i.createElement(vm,{disabled:s}),i.createElement(Fu,{direction:"horizontal",length:"full-length"}),i.createElement(Wg,{disabled:s}),i.createElement(Gg,{targetRef:l}),i.createElement(Fu,{direction:"horizontal",length:"full-length"}),i.createElement(cp,{disabled:s}),i.createElement(rp,{targetRef:l}),i.createElement(Fu,{direction:"horizontal",length:"full-length"}),i.createElement(Xg,{disabled:s}),i.createElement($g,{fileInput:e,targetRef:l}),i.createElement(Fu,{direction:"horizontal",length:"full-length"}),i.createElement(ep,{disabled:s}),i.createElement(Jg,{targetRef:l}))),i.createElement(xu,{id:mp,ref:c,className:h},i.createElement(Qs,null,i.createElement(Mg,null),i.createElement(zg,null),p.isDevelopment&&i.createElement(Fu,{direction:"horizontal",length:"full-length"}),i.createElement(ip,null),i.createElement(ap,{targetRef:l}),i.createElement(dp,{undo:t,redo:a,canUndo:n,canRedo:o}))),i.createElement(jm,null),i.createElement(fm,null)))})));gp.displayName="NewReactComponent";const pp=fs((({id:e,className:t,label:a,onClick:n,onPointerDown:o,vibe:s="neutral",size:r,style:l,disabled:c,tooltipOptions:d,noSfx:u=!1,visible:m=!0,children:g},p)=>{const h=i.useRef(null);return i.createElement("div",{id:`${e}-container`,ref:p,className:x("floating-button-container")},a&&i.createElement(ks,{targetRef:h,options:d},a),i.createElement(Zs,{ref:h,id:e,className:F()(x("floating-button"),{visible:m,[t]:void 0!==t}),label:a,onClick:n,onPointerDown:o,vibe:s,size:r,style:l,disabled:c,noSfx:u},g))}));pp.displayName="FloatingButton";const hp=S("redo-button"),fp=(0,i.memo)((({redo:e,canRedo:t})=>{const a=(0,i.useRef)(null),{visible:n}=ql(hp),o=(0,i.useCallback)((()=>{w({event:"clicked-redo-button",location:"global"}),e()}),[e]);return i.createElement(i.Fragment,null,i.createElement(ks,{targetRef:a,hint:t?"Y":void 0,options:{placement:"right"}},t?"Redo":"Nothing to Redo"),i.createElement(pp,{id:hp,ref:a,onClick:o,disabled:!t,visible:n},i.createElement(xs,{icon:ns.XSV})))}));fp.displayName="RedoButton";const bp=S("undo-button"),yp=(0,i.memo)((({undo:e,canUndo:t})=>{const a=(0,i.useRef)(null),{visible:n}=ql(bp),o=(0,i.useCallback)((()=>{w({event:"clicked-undo-button",location:"global"}),e()}),[e]);return i.createElement(i.Fragment,null,i.createElement(ks,{targetRef:a,hint:t?"Z":void 0,options:{placement:"right"}},t?"Undo":"Nothing to Undo"),i.createElement(pp,{id:bp,ref:a,onClick:o,disabled:!t,visible:n},i.createElement(xs,{icon:ns.X7o})))}));yp.displayName="UndoButton";const vp=new de({caller:"useChangeHistory"}),wp=(0,i.memo)((({orientation:e,fileInput:t})=>{const a=ol(),{h:n,v:o,style:s}=i.useMemo((()=>"horizontal"===e?{h:"center",v:"bottom",style:{bottom:"var(--margin)"}}:{h:"left",v:"middle",style:{left:"0"}}),[e]),{canUndo:r,undo:l,canRedo:c,redo:d}=function(e){const[t,a]=(0,i.useState)((0,A.aV)()),[n,o]=(0,i.useState)((0,A.aV)()),s=e.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.ID}));i.useEffect((()=>{a((0,A.aV)()),o((0,A.aV)())}),[s]);const r=(e,t)=>{void 0!==t&&l(t)};(0,i.useEffect)((()=>{e.setHandler({addToChangeHistory:r})}),[e,r]);const l=e=>{vp.info("New change added",e),a((t=>t.push(e))),o((0,A.aV)())},c=(0,i.useCallback)(((t,a)=>{switch(t.type){case Xc.Full:e.setStateDangerously(3048203334,t[a],!1);break;case Xc.Slice:e.setStateSliceDangerously(3048203334,t[a],!1);break;case Xc.Patch:e.applyPatchDangerously(3048203334,t[a],!1)}}),[e]),d=(0,i.useMemo)((()=>t.size>0),[t]),u=(0,i.useCallback)((()=>{const e=t.last();e?(vp.info("Change undone",e),c(e,"before"),a(t.pop()),o(n.push(e))):vp.info("No more changes to undo")}),[c,t,n,a,o]),m=(0,i.useMemo)((()=>n.size>0),[n]),g=(0,i.useCallback)((()=>{const e=n.last();e?(vp.info("Change redone",e),c(e,"after"),a(t.push(e)),o(n.pop())):vp.info("No more changes to redo")}),[c,t,n,a,o]);return(0,i.useEffect)((()=>{const t=t=>{if(e.selectOnce(yl)!==rl.Editing)return;const a=e.selectOnce(Bc);null!==document.querySelector("input:focus")||null!==document.querySelector("textarea:focus")||a!==Ce.Layout||("z"!==t.key||!t.metaKey&&!t.ctrlKey||t.shiftKey?("y"===t.key&&(t.metaKey||t.ctrlKey)||"z"===t.key&&(t.metaKey||t.ctrlKey)&&t.shiftKey)&&(g(),t.preventDefault()):(u(),t.preventDefault()))};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}})),{canUndo:d,canRedo:m,undo:u,redo:g}}(a),u=a.useStore(fl);return a.useStore(pl),Ne.tq?i.createElement(Rd,{className:"toolbar-container",h:"left",v:"bottom",dir:"vertical",style:s},i.createElement(Rg,{orientation:"horizontal",fileInput:t}),(r||c)&&i.createElement(Vs,{crossAxisAlign:"start",gap:8,style:{position:"absolute",top:0,transform:"translateY(-100%) translateY(-16px)",left:0,width:"fit-content"}},i.createElement(yp,{undo:l,canUndo:r}),i.createElement(fp,{redo:d,canRedo:c}))):i.createElement(Rd,{h:n,v:o,dir:e,style:s},i.createElement(gp,{fileInput:t,redo:d,undo:l,canUndo:r,canRedo:c,disabled:!u}))}));wp.displayName="ToolPickerContainer";const Ep=S("upload-progress-bar"),kp=(0,i.memo)((({isUploading:e,progress:t,cancelUploads:a})=>{const n=(0,i.useRef)(null);ql(Ep);const o=(0,i.useCallback)((()=>a()),[a]);return e?i.createElement("div",{id:S("upload-progress-bar")},i.createElement(ks,{targetRef:n,options:{margin:12}},"Cancel Uploads"),i.createElement(Vs,{gap:12},i.createElement("button",{ref:n,onClick:o},i.createElement(xs,{icon:ns.NBC})),i.createElement("span",null,"Uploading...")),i.createElement("div",{className:"progress",style:{width:`${t}%`}})):i.createElement(i.Fragment,null)}));kp.displayName="UploadProgressBar";const Fp=new de({caller:"useConfiguredAssetUploader"});var xp=a(71750);const Sp=new de({caller:"useGestureRecognizer"});var Ip=a(97651),Cp=function(e,t,a,n){return new(a||(a=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}))};new de({caller:"PolyfillClipboard"});class Pp{static copy(e){return Cp(this,void 0,void 0,(function*(){const t=new Ip.xf({"text/html":e});yield Ip.cW([t])}))}static paste(e,{onHtmlText:t,onPlainText:a,onFile:n}){return Cp(this,void 0,void 0,(function*(){const{types:i}=e;i.includes("Files")&&void 0!==n?Array.from(e.files).forEach((e=>n(e))):i.includes("text/plain")&&void 0!==a?a(e.getData("text/plain")):i.includes("text/html")&&void 0!==t&&t(e.getData("text/html"))}))}}var Tp=function(e,t,a,n){return new(a||(a=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}))};function Np(e,t){return Tp(this,void 0,void 0,(function*(){if(void 0===t)return;const a=new Array;e.forEach((e=>{const n=t.things.get(e);void 0!==n&&a.push(Object.assign(Object.assign({},n),{ID:0}))}));const n={sourcePageId:null==t?void 0:t.ID,things:a},i=Rp(n);var o;yield Pp.copy(i),(0,r.Am)(`${o=e.size} block${o>1?"s":""} copied`)}))}new de({caller:"useClipboardHandler"});const Rp=e=>`{MMM_CLIP_START}${JSON.stringify(e)}{MMM_CLIP_END}`,Dp=(0,i.memo)((({domTarget:e})=>{const t=ol(),a=t.useStore(pl),n=t.useStore(yl)===rl.Previewing,o=(0,i.useMemo)((()=>a&&!n),[a,n]),{uploadProgress:s,cancelUploads:l,uploadFile:c,isUploading:d,uploadFiles:u,fileInput:m}=((e,{targetRef:t})=>{const a=e.useStore(tc),n=e.useStore(ac),o=(0,i.useRef)(new Map),s=(0,i.useMemo)((()=>{var t,i;const s=cc.getMaxUploadSizeMb(null!==(t=null==a?void 0:a.roles)&&void 0!==t?t:[]);return{transloadIt:{templateID:p.transloadIt.templateID,fetchSignatureEnvelope:Ir,fileMeta:{accountID:`${null!==(i=null==a?void 0:a.ID)&&void 0!==i?i:-1}`},readyToFetch:void 0!==a&&n===Kl.LoggedIn},callbacks:{onDragOver:t=>{const a=[t.clientX,t.clientY];e.onPointerMove({positionCpx:ra(a)}).onDragOver()},onDragOverEnd:t=>{const a=[t.clientX,t.clientY];e.onPointerMove({positionCpx:ra(a)}).onDragOverEnd()},onDrop:t=>{const a=[t.clientX,t.clientY];e.onPointerMove({positionCpx:ra(a)}).onDrop()},onFileBase64Encoded:(t,a,n,i,s)=>{let r=n,l=i;if(r>600||l>600){const e=r/l;r>l?(r=Math.min(600,r),l=r/e):(l=Math.min(600,l),r=l*e)}const c=e.selectOnce(Ae),d=pa.getSectionId(c,{inSpace:void 0}),u=pa.transformPoint(c,{from:void 0,to:d}),m=e.selectOnce((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.things})),g=gc.generateLocalThingId(m);e.buildThings((e=>e.add({type:zt.Image,content:{URL:a}},!1).setId(g).patchPosition({height:l,width:r,x:u[0],y:u[1]}).setParentId(d))),o.current.set(t,g)},onFileUploaded:(t,a,n,i)=>{const s=o.current.get(t);if(void 0!==s){const t=e.selectOnce((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.things.get(s)}));e.mutateThings((e=>e.transformContent((e=>Object.assign(Object.assign({},e),{URL:a})))),{thingsToMutate:[t]})}},onRestrictionFailed:(e,t,a)=>{let n=a.message.trim();const i=Array.from(n.matchAll(/^You can only upload (\d*) file$/gi));if(i.length>0){const[,e]=i[0];n=`Only ${e} files can be uploaded at a time.`}if(n.startsWith("You can only upload:")&&(n="Unsupported file type (only .png, .gif, and .jpgs)"),n.endsWith("AUTH_EXPIRED")&&(n="Something went wrong. Please refresh the page."),Array.from(n.matchAll(/exceeds maximum/gi)).length>0)return n="Boop.",void sc({message:`Max file size on your plan is ${s} MB`,eventName:"Larger Uploads"});(0,r.Am)(n),Fp.warn(a.message.trim(),{},{sendToSentry:!0})}},options:{useCompression:!(void 0!==a&&(a.roles.includes(mt.Pro)||a.roles.includes(mt.Plus)||a.roles.includes(mt.Admin))),restrictions:{maxFileSize:1024*s*1024}}}}),[e,a,n]);return pg(s)})(t,{targetRef:e});return(({enabled:e,uploadFile:t})=>{const a=ol(),n=a.useStore((e=>e.editor.selectedIds)),[o,s]=(0,i.useState)(!1),l=(0,i.useCallback)((n=>Tp(void 0,void 0,void 0,(function*(){if(!e||null!==document.querySelector("input:focus")||null!==document.querySelector("textarea:focus")||null!==document.querySelector("div[contenteditable=true]:focus"))return;const i=a.selectOnce((e=>e.page.stable));if(void 0===i)return;const{clipboardData:o}=n;null!==o&&Pp.paste(o,{onHtmlText:e=>{const t=(e=>{const t=Array.from(e.matchAll(/^(?:[^]*)(?:{MMM_CLIP_START})(.*)(?:{MMM_CLIP_END})(?:[^]*)$/g));if(0!==t.length)try{const e=t[0][1];return JSON.parse(e)}catch(e){return}})(e);if(void 0!==t){const{sourcePageId:e,things:o}=t,{max:s}=es.calcZIndexOptima(i.things);let l=o.map((e=>Object.assign(Object.assign({},e),{ID:-Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)})));e===i.ID&&(l=((e,t)=>(e.sort(((e,t)=>e.position.zIndex-t.position.zIndex)),e.map(((e,a)=>{const n=Object.assign(Object.assign({},e.position),{zIndex:t+a});if(ca(n,e.parentId))n.y+=32;else{const{minY:e,maxY:t}=oa();n.y=(t+e)/2}return Object.assign(Object.assign({},e),{position:n})}))))(l,s)),a.resetEditor().buildThings((e=>e.clone(l,!1).setParentId(pa.getMostLikelySectionId()))),(0,r.Am)(`${n=l.length} block${n>1?"s":""} pasted`)}var n},onPlainText:e=>{Tp(void 0,void 0,void 0,(function*(){var t;if(qo(e)){const n=new URL(e),o=mm(n.href);if(void 0!==o){const e=um(o.type);(0,r.Am)(`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"Supported"} link detected. Creating embed...`);const{type:n,content:i,position:s}=o;s&&(delete s.x,delete s.y),a.resetEditor().buildThings((e=>e.add({type:n,content:i},!1).patchPosition(s)))}else{(0,r.Am)("Link detected. Creating button...");const[t,n]=yield Am.newThing(e,ts(i));if(void 0===t||void 0!==n)return;const o=t.position;delete o.x,delete o.y;const s=t.content,l=z()(Vo.defaultContent);l.richButtonColor=s.color,l.richButtonText.text=s.text,l.richButtonIcon=Object.assign(Object.assign({},l.richButtonIcon),{icon:Xo(e)}),a.resetEditor().buildThings((t=>t.add({type:zt.RichButton,content:l},!1).patchPosition(Vo.defaultPosition).patchPosition(o).setStyle({borderRadius:Vo.defaultBorderRadius}).setProperties({hyperlink:e})))}}else{const t={color:"#000000",font:yo,fontSize:18,text:e,textAlign:Ct.Left,isBold:!1,isItalic:!1,useAutosize:!1};a.resetEditor().buildThings((e=>e.add({type:zt.Text,content:t},!1).patchPosition({height:43.2,width:480,x:.5}))).setMode(Ce.TextEditing)}}))},onFile:e=>{t(e)}})}))),[t,e]),c=(0,i.useCallback)((t=>Tp(void 0,void 0,void 0,(function*(){if(!e||null!==document.querySelector("input:focus")||null!==document.querySelector(":focus")||o)return;const i=a.selectOnce((e=>e.page.stable));void 0!==i&&(s(!0),n.size>0&&(yield Np(n,i),t.preventDefault()),s(!1))}))),[o,n,e]);(0,i.useEffect)((()=>(window.addEventListener("paste",l),window.addEventListener("copy",c),()=>{window.removeEventListener("paste",l),window.removeEventListener("copy",c)})),[c,l])})({enabled:o,uploadFile:c}),(({enabled:e,target:t,uploadFiles:a})=>{const n=ol(),o=n.useStore(Oe),s=n.useStore((e=>e.gesture.gestureDetectionEnabled)),r=(0,i.useMemo)((()=>e&&s),[s,e]);Vt(window,"drop",(e=>{Sp.info("Drop event detected"),e.preventDefault(),e.stopPropagation();const t=[e.clientX,e.clientY];n.onPointerMove({positionCpx:ra(t)});const i=n.selectOnce(tc),o=n.selectOnce(ac);e.dataTransfer&&void 0!==i&&o===Kl.LoggedIn&&a(Array.from(e.dataTransfer.files)),n.onDragOverEnd()}),[],{capture:!0}),Vt(window,"touchmove",(e=>{Sp.info("Touch move detected"),Ne.gn&&1!==e.scale&&e.preventDefault(),o||e.preventDefault()}),[o],{capture:!0}),Vt(window,"pointerdown",(e=>{if(Sp.info(`Pointerdown detected; enabled: ${r}`),!r)return;const t=[e.clientX,e.clientY];n.onPointerDown({positionCpx:ra(t)})}),[n,r],{capture:!0}),Vt(window,"pointerup",(e=>{if(Sp.info(`Pointerup detected; enabled: ${r}`),!r)return;const t=[e.clientX,e.clientY];n.onPointerUp({positionCpx:ra(t)})}),[n,r],{capture:!0});const l=(0,i.useCallback)((({xy:e})=>{r&&(n.selectOnce(De("drag"))||n.onPointerMove({positionCpx:ra(e)}))}),[n,r]),c=(0,i.useCallback)((({event:e,initial:t,startTime:a,buttons:i,tap:o})=>{Sp.info(`onDragStart detected; enabled: ${r}`),r&&(n.selectOnce(De("pinch"))||(n.onPointerMove({positionCpx:ra(t)}),n.onDragStart({startTimeMs:a,buttons:i,startCpx:ra(t)})))}),[n,r]),d=(0,i.useCallback)((({event:e,xy:t,tap:a,buttons:i,elapsedTime:o,delta:s})=>{r&&(a?n.onTap({positionCpx:ra(t)}):n.selectOnce(De("drag"))&&(n.onPointerMove({positionCpx:ra(t)}),n.onDrag({buttons:i,elapsedTimeMs:o,lastDeltaCpx:ra(s)})))}),[n,r]),u=(0,i.useCallback)((({event:e})=>{Sp.info(`onDragEnd detected; enabled: ${r}`),n.onDragEnd()}),[n,r]),m=(0,i.useCallback)((({startTime:e,elapsedTime:t,buttons:a,movement:[i,o]})=>{Sp.info(`onPinchStart detected; enabled: ${r}`),r&&us()&&(n.selectOnce(De("drag"))&&(Sp.info("Force ending drag because pinch detected"),n.onDragEnd()),n.onPinchStart({startTimeMs:e,elapsedTimeMs:t,zoom:i,rotation:o,buttons:a}))}),[n,r]),g=(0,i.useCallback)((({event:e,elapsedTime:t,buttons:a,movement:[i,o]})=>{r&&us()&&n.selectOnce(De("pinch"))&&(e.preventDefault(),n.onPinch({elapsedTimeMs:t,zoom:i,rotation:o,buttons:a}))}),[n,r]),p=(0,i.useCallback)((()=>{if(Sp.info(`onPinchEnd detected; enabled: ${r}`),!r)return;if(!us())return;const e=n.selectOnce(De("pinch"));r&&!e&&Sp.error("isPinching false in onPinchEnd."),n.onPinchEnd()}),[r,n]),h=i.useCallback(((e,t)=>n.selectOnce(De("drag"))?(Sp.error("Pointer capture lost. Force end drag event."),void n.onDragEnd()):n.selectOnce(De("pinch"))?(Sp.error("Pointer capture lost. Force end pinch event."),void n.onPinchEnd()):void 0),[]);(0,xp.T2)({onMove:l,onDragStart:c,onDrag:d,onDragEnd:u,onPinchStart:m,onPinch:g,onPinchEnd:p,onLostPointerCapture:h},{target:us()?t:window,eventOptions:{passive:!1,capture:!0},drag:{filterTaps:!0,pointer:{keys:!1,capture:!1,buttons:[1,2]}}})})({enabled:o,target:e,uploadFiles:u}),i.createElement(i.Fragment,null,i.createElement(Rd,{h:"center",v:"bottom",dir:"horizontal",style:{bottom:"var(--margin)"}},i.createElement(Qs,{crossAxisAlign:"end",gap:12},i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement("div",null,i.createElement(kp,{isUploading:d,progress:s,cancelUploads:l}))))),i.createElement(jd,{componentName:"ToolPicker"},i.createElement(wp,{orientation:"vertical",fileInput:m})))}));Dp.displayName="SupplementalEditorHooks";const Op=(0,i.memo)((({style:e={},children:t})=>i.createElement(Ws,{style:e,className:x("card-header")},i.createElement("h2",null,t))));Op.displayName="CardHeader";const Ap=S("beta-launch-disclaimer"),Mp=(0,i.memo)((({})=>{ol();const{showOverlay:e}=hs(),t=i.useCallback((()=>{w({event:"clicked-discord-server-in-beta-launch-modal",location:"beta-launch-modal"})}),[]);return i.createElement(tr,{id:Ap},i.createElement(Js,{width:"medium"},i.createElement(Op,null,"Welcome to mmm"),i.createElement(Ws,{direction:"vertical"},i.createElement("p",null,"The new mmm ",i.createElement("code",null,"beta")," editor is better but also buggier. Please report bugs to"," ",i.createElement("a",{href:"https://discord.mmm.dev",onClick:t,target:"_blank"},"our Discord"),". Enjoy!"),i.createElement("p",{style:{textAlign:"right",paddingRight:24}}," XH,"," ",i.createElement("a",{href:"https://twitter.com/xhfloz",target:"_blank"},"@xhfloz")))))}));Mp.displayName="BetaLaunchModal_EXP008";const zp=S("mobile-disclaimer"),Lp=(0,i.memo)((({})=>{ol();const{showOverlay:e}=hs();return i.createElement(tr,{id:zp},i.createElement(Js,{width:"medium"},i.createElement(Op,null,"Mobile is Buggy"),i.createElement(Ws,{direction:"vertical"},i.createElement("p",null,"We're still working on the mobile editor. It is very buggy. We recommend trying it on desktop first."))))}));Lp.displayName="MobileDisclaimer";const jp=(0,i.memo)((({})=>(ql("the-cover"),ol().useStore((e=>e.preferences.specialDebugState)),i.createElement(i.Fragment,null))));jp.displayName="DebugElement";const Bp=(0,i.memo)((({children:e})=>Ne.tq?i.createElement(i.Fragment,null):i.createElement(Rd,{v:"bottom",h:"left",dir:"vertical"},i.createElement("div",{id:S("notifications-container")},e))));Bp.displayName="NotificationsContainer";const Up=S("outdated-editor-warning"),_p=new de({caller:"OutdatedEditorWarning"}),Hp=(0,i.memo)((({})=>{i.useEffect((()=>{}),[]),ql(Up);const[e,t]=i.useState(!1),[a,n]=i.useState((new Date).getTime());Vt(window,"visibilitychange",(()=>{e||(_p.info("Running check to see if editor is outdated"),(new Date).getTime()-a>=2592e5&&t(!0))}),[e,t,a,n]);const o=i.useCallback((()=>{w({event:"manually-reloaded-editor",location:"notification"}),location.reload()}),[]);return e?i.createElement($d,{id:Up,style:{width:320}},i.createElement(Kd,null,i.createElement("h2",null,"Reload to Update"),i.createElement("p",null,"There's a new version of the editor. Please publish any changes and reload."),i.createElement(Zs,{vibe:"primary",size:"regular",options:{theme:"dark"},style:{marginTop:16,width:"100%"},onClick:o,fullWidth:!0},"Update Editor"))):i.createElement(i.Fragment,null)}));function Gp(e,t){return e.roles.filter((e=>t.includes(e))).length>0}Hp.displayName="OutdatedEditorWarning";const qp=({account:e,allowed:t,disallowed:a,children:n})=>i.useMemo((()=>t?void 0!==e&&Gp(e,t):a?void 0!==e&&!Gp(e,a):void 0),[])?i.createElement(i.Fragment,null,n):i.createElement(i.Fragment,null);qp.displayName="RoleGate";const Wp="upgrade-reminder",Vp=S("upgrade-reminder"),$p=(0,i.memo)((({})=>{const e=ol().useStore(tc),{showOverlay:t}=hs(),{visible:a}=ql(Vp),n=i.useCallback((()=>{t(nc),w({event:"opened-upgrade-modal",location:Wp})}),[t]),o=i.useCallback((()=>{w({event:"opened-vision-paper",location:Wp})}),[]);return void 0===e||Ne.tq||p.isDevelopment?i.createElement(i.Fragment,null):i.createElement(i.Fragment,null,i.createElement(qp,{account:e,disallowed:[mt.Pro,mt.Plus,mt.Supporter]},i.createElement("div",{id:Vp,className:os()({visible:a})},i.createElement("p",null,"Get a ",i.createElement("span",null,"free domain"),", ",i.createElement("span",null,"private pages"),", ",i.createElement("span",null,"unlimited blocks"),", ",i.createElement("span",null,"code")," ","+ support our vision of"," ",i.createElement("a",{href:"https://paper.mmm.dev",target:"_blank",onClick:o},i.createElement("span",null,"An Internet Canvas")),"."),i.createElement(Zs,{size:"small",onClick:n},"Upgrade"))))}));$p.displayName="UpgradeBox";var Yp=a(93591),Xp=a(4782);const Kp=(0,i.memo)((({type:e,rotationDeg:t})=>{const a=ol(),n=a.useStore(Ae),[o,s]=la(n),r=a.useStore((e=>e.editor.selectedIds.first())),l=a.useStore((e=>{var t,a,n,i,o,s;return r&&e.page.inProgress?(null!==(n=null===(a=null===(t=e.page.inProgress)||void 0===t?void 0:t.things.get(r))||void 0===a?void 0:a.position.rotationDeg)&&void 0!==n?n:0)-(null!==(s=null===(o=null===(i=e.page.stable)||void 0===i?void 0:i.things.get(r))||void 0===o?void 0:o.position.rotationDeg)&&void 0!==s?s:0):0})),c=`translate(-50%, -50%) translate(${o}px, ${s}px) rotate(${(null!=t?t:0)+l}deg)`;return i.createElement("div",{id:S("cursor"),className:e,style:{transform:c},role:"presentation"},"resize"===e&&i.createElement("img",{className:"icon",src:Yp,alt:""}),"rotate"===e&&i.createElement("img",{className:"icon",src:Xp,alt:""}))}));Kp.displayName="CursorView";const Zp=(0,i.memo)((({})=>{var e;const t=ol(),a=t.useStore((e=>e.interface.cursor.type)),n=null!==(e=t.useStore((e=>e.interface.cursor.rotationDeg)))&&void 0!==e?e:0;return i.createElement(i.Fragment,null,i.createElement(Md(),{className:Od()({"using-custom-cursor":"pointer"!==a,"using-css-cursor":"grabbing"===a,"grabbing-cursor":"grabbing"===a})}),"pointer"!==a&&"grabbing"!==a&&i.createElement(Kp,{type:a,rotationDeg:n}))}));Zp.displayName="Cursor";const Jp=(0,i.memo)((({})=>{const e=ol(),t=e.useStore(tc),a=e.useStore(ac),[n,o]=e.useStore(Ae),s=void 0!==t&&a===Kl.LoggedIn,r=`translate(-50%, -50%) translate(${n}px, ${o}px) `;return i.createElement("div",{id:S("drag-over-indicator"),className:Od()({allowed:s,disallowed:!s}),style:{transform:r}},i.createElement("div",{className:"inside allowed"},i.createElement("div",{className:"label"},"Drop File to Upload")),i.createElement("div",{className:"inside disallowed"},i.createElement("div",{className:"label"},"Login to Upload"),i.createElement(xs,{icon:ns.jAm})))}));Jp.displayName="DragOverIndicatorView";const Qp=(0,i.memo)((({})=>ol().useStore(_e)?i.createElement(Jp,null):i.createElement(i.Fragment,null)));Qp.displayName="DragOverIndicator";const eh=(0,i.memo)((()=>{const e=ol(),t=e.useStore(Ue),a=e.useStore(Ae),n=(0,i.useMemo)((()=>{if(void 0===t)return;const[e,n]=a,[i,o]=t;return{minX:Math.min(e,i),maxX:Math.max(e,i),minY:Math.min(n,o),maxY:Math.max(n,o)}}),[t,a]);if(void 0===n)return i.createElement(i.Fragment,null);const{minX:o,maxX:s,minY:r,maxY:l}=n;return i.createElement("aside",{id:S("builder-drag-select-bounds"),style:{width:s-o,height:l-r,left:o,top:r}})}));eh.displayName="DragSelectBounds";const th=(0,i.memo)((({})=>ol().useStore(Il)?i.createElement(eh,null):i.createElement(i.Fragment,null)));th.displayName="DragSelectBoundsContainer",S("editor-canvas-resize-handle");const ah=()=>i.createElement(i.Fragment,null),nh=({children:e})=>{const t=ol(),a=(0,i.useCallback)(((e,a)=>{t.selectOnce(kl)&&t.setCanvasSizePx([e,a])}),[]);var n;n=a,(0,i.useEffect)((()=>{const e=document.getElementById(Xt);if(null===e)return void Jt.error("Initialization failed: EditorCanvas was not found");const t=e.getBoundingClientRect();aa({top:t.top,left:t.left,height:t.height,width:t.width}),n&&n(window.innerWidth,window.innerHeight);const a=document.getElementById(Zt);null!==a?ia({height:a.getBoundingClientRect().height}):Jt.error("Initialization failed: EditorPageView was not found")}),[]),Vt(window,"resize",(e=>{Jt.info("Window resize detected");const t=document.getElementById(Xt);if(null===t)return void Jt.error("Initialization failed: EditorCanvas  was not found");const a=t.getBoundingClientRect();aa({top:a.top,left:a.left,height:a.height,width:a.width}),n&&n(window.innerWidth,window.innerHeight);const i=document.getElementById(Zt);null!==i?ia({height:i.getBoundingClientRect().height}):Jt.error("Initialization failed: EditorPageView was not found")}),[aa,n]),Yt(Xt,(e=>{Jt.info("Canvas resize detected");const{height:t,top:a,left:n,width:i}=e.target.getBoundingClientRect();aa({height:t,top:a,left:n,width:i})})),Yt(Kt,(e=>{ia({scrollOffset:[e.target.scrollLeft,e.target.scrollTop]}),aa({width:e.target.clientWidth})})),Yt(Zt,(e=>{ia({height:e.target.clientHeight})})),(0,i.useEffect)((()=>{const e=document.getElementById(Kt);if(!e)return;const t=e=>{var t,a;ia({scrollOffset:[null!==(t=e.target.scrollLeft)&&void 0!==t?t:0,null!==(a=e.target.scrollTop)&&void 0!==a?a:0]})};return e.addEventListener("scroll",t,{passive:!0}),()=>{e.removeEventListener("scroll",t)}}),[]);const o=t.useStore(wl),s=t.useStore(El),r=t.useStore(kl),l=t.useStore(Fl),c=r?"100%":`${s}px`,d=r?"100%":`${o}px`,u=o<p.maxWindowWidthPx,m=o>=p.maxWindowWidthPx;return i.createElement("div",{id:Xt,className:Od()({"full-screen":r,"use-animation":l,"desktop-viewport":m,"mobile-viewport":u}),style:{height:c,width:d}},e,i.createElement(ah,null))};nh.displayName="EditorCanvas";const ih=({children:e})=>i.createElement("div",{id:"editor-canvas-attached-region"},e);ih.displayName="EditorCanvasAttachedRegion";const oh=(0,i.memo)((({children:e})=>i.createElement("div",{id:S("editor-canvas-content")},e)));oh.displayName="EditorCanvasContent";const sh=(0,i.memo)((({onScroll:e,children:t})=>{const a=ol(),n=a.useStore(_l),o=a.useStore(_c),s=a.useStore(kl),r=i.useMemo((()=>{if(Ne.tq)return void 0!==n||o.size>0}),[n,o]);return i.createElement("div",{id:Kt,className:Od()({"use-non-overlay-scrollbar":s,"scroll-locked":r}),onScroll:e},t)}));sh.displayName="EditorCanvasScrollRegion";const rh=(0,i.memo)((({children:e})=>i.createElement("div",{id:S("editor-canvas-ui")},i.createElement("div",{className:"editor-canvas-ui-content"},e))));rh.displayName="EditorCanvasUi";const lh=S("editor-container"),ch=({children:e})=>{const t=ol(),a=t.useStore(qr),n=t.useStore(vl);return i.createElement("div",{id:lh,className:Od()({"with-sidebars":n&&a})},e)};ch.displayName="EditorContainer";const dh=(0,i.memo)((({layoutGuide:e})=>{i.useEffect((()=>{e.type!==td.Main&&e.type!==ad.CenterToPageCenter||Hs.play("snap",.3)}),[]);const{type:t,line:a}=e;if(t===td.Main){const{x:e,y:t,width:n,rotationDeg:o}=a;return i.createElement("div",{className:S("layout-guide-line"),style:{top:t,left:e,height:1.25*n,transform:`translate(-50%, -50%) rotate(${o}deg) rotate(90deg)`}})}const{start:n,end:o}=a;if(t===ad.CenterToPageCenter)return i.createElement("div",{className:`${S("layout-guide-line")} page-center`,style:{top:"0",left:"50%",height:"100%",position:"absolute",transform:"translateX(-50%) translateX(0.5px)"}});const s=[(n[0]+o[0])/2,(n[1]+o[1])/2],r=tt(n,o),l=dt(((e,t)=>{const a=new Qe(e).sub(t);return Math.atan2(a.y,a.x)})(n,o))+90;return i.createElement("div",{className:S("layout-guide-line"),style:{top:`${s[1]}px`,left:`${s[0]}px`,height:`calc(${r}px - 2px)`,transform:`translate(-50%, -50%) rotate(${l}deg)`}},i.createElement("div",{className:"endcap start"}),i.createElement("div",{className:"endcap end"}))}));dh.displayName="LayoutGuideLine";const uh=(0,i.memo)((({})=>{const e=ol().useStore($c);return i.createElement("div",{id:S("layout-guide-container")},e.map((e=>i.createElement(dh,{key:e.referenceKey,layoutGuide:e}))))}));uh.displayName="LayoutGuideContainer";const mh=()=>{const{trackEvent:e}=(0,g.rS)();return i.createElement("div",{id:"powered-by-attribution"},i.createElement("span",null,"Made on mmm"),i.createElement("div",{id:"icon-logo"},i.createElement("a",{href:p.viewerURL,onClick:()=>{b(e)({event:"click-mmm-attribution",location:"global"})}},"Made on mmm"),i.createElement("svg",{viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fill:"#000000",d:"M51.4,-60.9C67.5,-47.7,82.1,-32.4,86.9,-14C91.8,4.4,86.8,25.8,75.6,42.4C64.5,58.9,47.2,70.6,28.1,77.8C9,85,-11.9,87.7,-30.1,81.6C-48.3,75.5,-63.7,60.6,-73.7,42.8C-83.8,25,-88.5,4.3,-85.3,-15.3C-82.2,-34.9,-71.2,-53.3,-55.7,-66.6C-40.2,-79.9,-20.1,-87.9,-1.2,-86.5C17.6,-85,35.3,-74,51.4,-60.9Z",transform:"translate(100 100)"}))))},gh=(0,i.memo)((({id:e,children:t=null,title:a,pageStyle:n,referenceWidth:o,showMmmWatermark:s=!0,renderOptions:r=Ko})=>{const{backgroundColor:l,background:c}=n,{backgroundImage:d,backgroundSize:u,backgroundAttachment:m}=i.useMemo((()=>(null==c?void 0:c.imageUrl)?{backgroundImage:`url('${c.imageUrl}')`,backgroundSize:c.size,backgroundAttachment:c.attachment}:{backgroundImage:void 0,backgroundSize:void 0,backgroundAttachment:null==c?void 0:c.attachment}),[c]);return(0,i.useEffect)((()=>{null!==n&&(document.body.style.backgroundColor=l)}),[n]),(0,i.useEffect)((()=>{window.referenceWidth=o,document.documentElement.style.setProperty("--page-reference-width",`${o}`),document.documentElement.style.setProperty("--page-reference-width-px",`${o}px`)}),[o]),i.createElement("main",{id:e,className:"page-view",style:{backgroundColor:l,backgroundImage:d,backgroundSize:u,backgroundAttachment:m}},i.createElement("h1",null,null!=a?a:p.appName),t,s&&i.createElement(mh,null))}));gh.displayName="PageView";const ph=(0,i.memo)((({showMmmWatermark:e=!0,children:t})=>{const a=i.useMemo((()=>({fontFamily:"var(--sans-serif-font)",fontSize:80,textTransform:"uppercase",whiteSpace:"pre-line",boxSizing:"border-box",fontWeight:500,padding:48,color:"rgba(0, 0, 0, 0.16)",width:"100%",maxWidth:600,margin:"0 auto"})),[]);return i.createElement(gh,{id:"editor-page-view",referenceWidth:p.maxWindowWidthPx,title:"",pageStyle:{backgroundColor:"#ffffff"},showMmmWatermark:e},i.createElement("div",{id:"canvas-error-message",style:a},t))}));ph.displayName="CanvasErrorMessage";const hh=(0,i.memo)((({})=>{const e=ol(),t=e.useStore(ac),a=e.useStore(gl);return t===Kl.Uninitialized||a?i.createElement(i.Fragment,null):i.createElement(ph,{showMmmWatermark:!1},"You can't edit this page")}));hh.displayName="NoPermissionToEdit";const fh="Not Visible on Phones",bh=({})=>{var e;const t=ol(),a=t.useStore((e=>e.preferences["interface.responsiveGuides"])),n=null!==(e=t.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.settings.referenceWidth})))&&void 0!==e?e:p.maxWindowWidthPx,o=t.useStore(qr),s=t.useStore(_c),[r,l]=i.useState(!1),[c,d]=i.useState(void 0),[u,m]=i.useState(0),[g,h]=i.useState(!1),f=i.useRef(0),b=i.useMemo((()=>(f.current=n-u,n-u)),[u,n]),y=t.useStore((e=>e.preferences["experiments.enabled"])),v=i.useCallback((()=>{d(void 0),h(!1),t.mutatePage((e=>e.setPageWidth(f.current))),m(0),t.unregisterCallback("onPointerUp",v)}),[d,h,b]),w=i.useCallback((e=>{d(e),h(!0),t.registerCallback("onPointerUp",v)}),[d,h,v]),E=i.useCallback((e=>{if(e.gesture.drag){const e=t.selectOnce(Be);let a=("right"===c?-1:1)*e[0]*2;a=50*Math.round(a/50),a=Math.min(n-p.maxWindowWidthPx,a),m(Math.round(a))}}),[t,m,c,n]),k=i.useRef(null),F=i.useRef(null);i.useEffect((()=>(g?t.setMode(void 0).registerCallback("onDrag",E):t.setMode(Ce.Layout).unregisterCallback("onDrag",E),()=>{t.setMode(Ce.Layout).unregisterCallback("onDrag",E,!0)})),[t,E,g]);const x=t.useStore(_l),I=i.useMemo((()=>!0),[o,x]),C=i.useMemo((()=>g?{"--responsive-guide-width":`calc((100% - ${b}px) / 2)`}:{}),[b,g]);return ql(S("responsive-guide-handle-left")),ql(S("responsive-guide-handle-right")),a?0===s.size?i.createElement(i.Fragment,null):i.createElement("div",{id:S("responsive-guides"),className:Od()({hidden:0===s.size,"show-overlay":I}),style:C},i.createElement("div",{id:S("responsive-guide-left"),className:"responsive-guide mobile-boundary left"},i.createElement("span",{className:"mobile-label"},i.createElement(xs,{icon:ns.Aq})),i.createElement("span",{className:"desktop-label"},fh),y&&i.createElement(i.Fragment,null,!r&&i.createElement(ks,{targetRef:k},"Adjust Mobile Cutoff"),i.createElement("div",{id:S("responsive-guide-handle-left"),className:"handle-hit-area",ref:k,onPointerDown:()=>w("left")},i.createElement("div",{className:"handle"})))),i.createElement("div",{id:S("responsive-guide-right"),className:"responsive-guide mobile-boundary right"},i.createElement("span",{className:"mobile-label"},i.createElement(xs,{icon:ns.Aq})),i.createElement("span",{className:"desktop-label"},fh),y&&i.createElement(i.Fragment,null,!r&&i.createElement(ks,{targetRef:F},"Adjust Mobile Cutoff"),i.createElement("div",{id:S("responsive-guide-handle-right"),className:"handle-hit-area",ref:F,onPointerDown:()=>w("right")},i.createElement("div",{className:"handle"}))))):i.createElement(i.Fragment,null)};bh.displayName="ResponsiveGuides";const yh=(0,i.memo)((({type:e,position:t,tallboy:a=!1})=>{const{handlePointerEnter:n,handlePointerLeave:o,handlePointerDown:s,handleBlur:r}=(e=>{const t=ol(),a=(0,i.useCallback)((()=>{t.setHandle(void 0).unregisterCallback("onPointerUp",a)}),[]),n=(0,i.useCallback)((n=>{t.setHandle(e),t.registerCallback("onPointerUp",a)}),[e,a]),o=(0,i.useCallback)((a=>{const n=t.selectOnce((e=>e.editor.selectedIds));let i=0;if(1===n.size){const e=n.first(),a=t.selectOnce((t=>{var a;return null===(a=t.page.stable)||void 0===a?void 0:a.things.get(e)}));i=a.position.rotationDeg}let o={type:"rotate"===e.type?"rotate":"resize"};o.rotationDeg=i,"top-left"===e.position?o.rotationDeg+=0:"top"===e.position?o.rotationDeg+=45:"top-right"===e.position?o.rotationDeg+=90:"right"===e.position?o.rotationDeg+=135:"bottom-right"===e.position?o.rotationDeg+=180:"bottom"===e.position?o.rotationDeg+=225:"bottom-left"===e.position?o.rotationDeg+=270:"left"===e.position&&(o.rotationDeg+=315),t.setCursor(o)}),[t,e]);return{handlePointerDown:n,handlePointerEnter:o,handlePointerLeave:(0,i.useCallback)((e=>{t.setCursor({type:"pointer"})}),[t]),handleBlur:(0,i.useCallback)((()=>{t.setCursor({type:"pointer"})}),[t])}})({type:e,position:t});return i.createElement("button",{className:Od()(`handle ${e} ${t}`,{tallboy:a}),onPointerEnter:n,onPointerDown:s,onPointerLeave:o,onBlur:r},i.createElement("div",{className:"visible-part"}))}));yh.displayName="SelectionBoundsHandle";const vh=(0,i.memo)((({active:e,onlyWidthResize:t=!1})=>e?t?i.createElement(i.Fragment,null,i.createElement(yh,{type:"transform",position:"right",tallboy:!0}),i.createElement(yh,{type:"transform",position:"left",tallboy:!0}),i.createElement(yh,{type:"rotate",position:"top-left"}),i.createElement(yh,{type:"rotate",position:"top-right"}),i.createElement(yh,{type:"rotate",position:"bottom-right"}),i.createElement(yh,{type:"rotate",position:"bottom-left"}),i.createElement(yh,{type:"transform",position:"top-left"}),i.createElement(yh,{type:"transform",position:"top-right"}),i.createElement(yh,{type:"transform",position:"bottom-right"}),i.createElement(yh,{type:"transform",position:"bottom-left"})):i.createElement(i.Fragment,null,i.createElement(yh,{type:"rotate",position:"top-left"}),i.createElement(yh,{type:"rotate",position:"top-right"}),i.createElement(yh,{type:"rotate",position:"bottom-right"}),i.createElement(yh,{type:"rotate",position:"bottom-left"}),i.createElement(yh,{type:"transform",position:"top-left"}),i.createElement(yh,{type:"transform",position:"top-right"}),i.createElement(yh,{type:"transform",position:"bottom-right"}),i.createElement(yh,{type:"transform",position:"bottom-left"}),i.createElement(yh,{type:"transform",position:"top"}),i.createElement(yh,{type:"transform",position:"right"}),i.createElement(yh,{type:"transform",position:"bottom"}),i.createElement(yh,{type:"transform",position:"left"})):i.createElement(i.Fragment,null)));vh.displayName="DesktopHandles";const wh=(0,i.memo)((({active:e,onlyWidthResize:t=!1})=>e&&t?i.createElement(i.Fragment,null,i.createElement(yh,{type:"transform",position:"right",tallboy:!0}),i.createElement(yh,{type:"transform",position:"left",tallboy:!0}),i.createElement(yh,{type:"rotate",position:"top-left"}),i.createElement(yh,{type:"rotate",position:"top-right"}),i.createElement(yh,{type:"rotate",position:"bottom-right"}),i.createElement(yh,{type:"rotate",position:"bottom-left"})):i.createElement(i.Fragment,null)));wh.displayName="DesktopHandles";const Eh=(0,i.memo)((({displayPinButtons:e=!0})=>{const t=ol(),a=t.useStore((e=>e.device.isMobile)),n=t.useStore(Bc),o=t.useStore(kc),s=t.useStore(Ec),r=t.useStore(_c),l=(0,i.useMemo)((()=>o?Vc(o,r):void 0),[o,r]),c=(0,i.useMemo)((()=>s?Vc(s,r):void 0),[s,r]),d=i.useMemo((()=>{const e=t.selectOnce((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.things.get(r.first())}));return 1===r.size&&(null==e?void 0:e.type)===zt.Text}),[r]),u=i.useMemo((()=>(e=>{if(void 0===e)return{top:"0rem",left:"0rem",height:"0rem",width:"0rem",opacity:0,pointerEvents:"none"};const{x:t,y:a,width:n,height:i,rotationDeg:o}=e,s=Math.abs(n),r=Math.abs(i),l=ta();return{top:"0rem",left:"0rem",height:`${r}px`,width:`${s}px`,transform:`translate(-50%, -50%) translateZ(0) translate(${t-Math.max((l.width-window.referenceWidth)/2,0)}px) translateY(${a}px) rotate(${o}deg)`}})(null!=c?c:l)),[c,l]),m=i.useMemo((()=>{const e=null!=c?c:l;if(void 0===e)return"";const t=Math.abs(e.height)<=30,i=Math.abs(e.width)<=30,o=Math.abs(e.height)<=18,s=Math.abs(e.width)<=18;return Od()({"text-editing":n===Ce.TextEditing||n===Ce.InlineTextEditing,"mobile-ui":a,"condensed-height":t,"condensed-width":i,"super-condensed-height":o,"super-condensed-width":s})}),[n,a,c,l]);return i.createElement("div",{id:S("selection-bounds"),className:m,style:u},i.createElement(vh,{active:(n===Ce.Layout||n===Ce.TextEditing||n===Ce.InlineTextEditing)&&!a,onlyWidthResize:d}),i.createElement(wh,{active:(n===Ce.Layout||n===Ce.TextEditing||n===Ce.InlineTextEditing)&&a,onlyWidthResize:d}))}));Eh.displayName="SelectionBounds";const kh=(0,i.memo)((({})=>{const e=ol(),t=e.useStore(_c),a=e.useStore(_l),n=e.useStore(Bc),o=n===Ce.Layout;return(n===Ce.TextEditing||n===Ce.InlineTextEditing||n===Ce.Layout&&(void 0===a||a===Ll.DragSelect||a===Ll.Rotate||a===Ll.Transform||a===Ll.Pinch))&&t.size>0?i.createElement(Eh,{displayPinButtons:o}):i.createElement(i.Fragment,null)}));kh.displayName="SelectionBoundsContainer";const Fh=i.lazy((()=>a.e(644).then(a.bind(a,16644)))),xh=(0,i.memo)((({})=>{const e=ol(),t=e.useStore(_c),a=i.useMemo((()=>{if(0===t.size)return void e.toggleCodeEditor(!1);const a=e.selectOnce(kc);if(void 0===a)return void e.toggleCodeEditor(!1);const n=a.get(t.first());return 1===t.size&&(null==n?void 0:n.type)===zt.CodeEmbed?n.content.ceCode:void 0}),[e,t]),n=i.useCallback(((a,n)=>{if(void 0===a||""===a)return;const i=e.selectOnce(((e,{inProgress:t}={})=>a=>{const n=t?Ec(a):kc(a);return null==n?void 0:n.get(e)})(t.first()));if(void 0===i)return"";e.patchThingsThisIsSuperRawAndUnadvisedPleaseDontUse([{ID:i.ID,content:{ceCode:a}}])}),[t]),o=i.useCallback((()=>{e.toggleCodeEditor(!1).setPreferences({"expertMode.enabled":!1}),w({event:"clicked-done-in-code-editor",location:"code-editor"})}),[]);return i.createElement("div",{id:S("code-editor")},i.createElement(Qs,{style:{height:"100%"},gap:16},i.createElement("div",{className:"code-editor-header"},i.createElement(Vs,{mainAxisAlign:"start"},i.createElement(Zs,{onClick:o},"Save & Exit"))),i.createElement(Fh,{value:a,theme:"vs-dark",defaultLanguage:"html",path:`${t.first()}`,onChange:n,options:{wordWrap:"on",autoIndent:"full",tabSize:2,insertSpaces:!0,detectIndentation:!1}}),i.createElement(Gu,{type:"warning"},"Code editor is highly experimental right now. Things may break.")))}));xh.displayName="CodeEditor_EXP009";const Sh=(0,i.memo)((({})=>(ol(),i.createElement(i.Suspense,{fallback:i.createElement(i.Fragment,null)},i.createElement(xh,null)))));Sh.displayName="CodeEditor_EXP009";var Ih=a(28789),Ch=a.n(Ih);function Ph(e){return`section-${-1===e?"main":e}`}const Th=(0,i.memo)((({id:e,children:t,style:a={}})=>i.createElement("div",{id:e,className:x("sidebar-panel"),style:a},t)));Th.displayName="SidebarPanel";const Nh=(0,i.memo)((({style:e={}})=>{var t,a,n;const o=ol(),s=o.useStore(Hc),r=s.first(),l=o.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.things.get(null!=r?r:0)})),c=o.useStore((e=>{var t;return null===(t=e.page.inProgress)||void 0===t?void 0:t.things.get(null!=r?r:0)})),d=i.useRef(null),[u,m]=i.useState(void 0),[g,p]=i.useState(!1),h=i.useCallback((()=>{p(!0)}),[p]),f=i.useCallback((()=>{p(!1)}),[p,u,m,o]),b=i.useCallback((e=>{if(void 0===l)return;let t=e.target.value;t=t.replace(" ","").replace("<br />","").replace("&nbsp;","").replace(/[^A-Za-z0-9_-]/g,""),o.mutateThings((e=>e.setHtmlId(t)),{thingsToMutate:[l]})}),[o,l]),y=i.useCallback(((e,t)=>{var a;const n=o.selectOnce((e=>e.page.inProgress)),i=o.selectOnce((e=>e.page.stable)),s=o.selectOnce(Hc),r=null===(a=t?i:n)||void 0===a?void 0:a.things.filter((e=>s.has(e.ID))).valueSeq().toArray();t?o.cancelInProgressPage().mutateThings((t=>t.patchStyles({background:e})),{thingsToMutate:r}):(void 0===n&&o.beginInProgressPage(),o.mutateThings((t=>t.patchStyles({background:e})),{thingsToMutate:r,inProgress:!0}))}),[]);return i.createElement(i.Fragment,null,i.createElement(Th,{style:e},i.createElement(Qs,{gap:8,crossAxisAlign:"start"},i.createElement("h2",{className:os()("html-id-tag",{focused:g})},"#",i.createElement(Ch(),{className:"inner-label",html:null!==(t=null==l?void 0:l.properties.htmlId)&&void 0!==t?t:Ph(s.first()),innerRef:d,onChange:b,onFocus:h,onBlur:f,contentEditable:!0})))),i.createElement(Th,{style:{paddingBottom:24}},i.createElement(Qs,{gap:8,crossAxisAlign:"start"},i.createElement("h2",null,"Style"),i.createElement("div",{className:"panel-entry"},i.createElement("div",{className:"label"},"Background"),i.createElement("div",{className:"value",style:{textAlign:"right"}},i.createElement(Eg,{id:"section-background-color-picker",onChange:y,fill:null!==(n=null!==(a=null==c?void 0:c.styles.background)&&void 0!==a?a:null==l?void 0:l.styles.background)&&void 0!==n?n:"#fff",theme:"light",size:"small",popoverPlacement:"left"}))))),i.createElement(Th,null,i.createElement(Gu,{type:"warning"},i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",null,"Under Construction"),i.createElement("p",{style:{fontWeight:400,marginTop:4}},"More block options coming soon: alt tags, responsiveness, custom CSS, etc.")))))}));Nh.displayName="SectionPanel";const Rh=(0,i.memo)((({style:e={},withLabel:t=!1,withTooltip:a=!0})=>{const n=i.useRef(null);return i.createElement("div",{ref:n,className:I(x("experimental-badge"),{"with-label":t}),style:e},i.createElement(Vs,{gap:8},i.createElement(xs,{icon:ns.jZZ}),t&&i.createElement("span",null,"Lab")),a&&i.createElement(ks,{targetRef:n},"Experimental features!"))}));Rh.displayName="ExperimentalBadge";const Dh=(0,i.memo)((({})=>{const e=ol(),{toggleOverlay:t}=hs(),a=e.useStore(_c),n=e.useStore((e=>{var t,n;return null===(n=null!==(t=e.page.inProgress)&&void 0!==t?t:e.page.stable)||void 0===n?void 0:n.things.get(a.first())})),o=i.useRef(null),s=i.useCallback((()=>{t("interactive-panel-effects-popover")}),[]),r=i.useCallback((t=>()=>{e.mutateThings((e=>e.setHoverEffect(t)))}),[]),l=i.useMemo((()=>{var e,t;return void 0===(null==n?void 0:n.properties.effects)&&void 0!==(null==n?void 0:n.properties.hyperlink)?"Grow":null!==(t=null===(e=null==n?void 0:n.properties.effects)||void 0===e?void 0:e.onHover)&&void 0!==t?t:"None"}),[n]);return i.createElement(Th,{id:S("interactive-panel"),style:{paddingBottom:24}},i.createElement(Qs,{gap:8,crossAxisAlign:"start"},i.createElement("div",{className:"badge-wrapper"},i.createElement(Rh,null)),i.createElement("h2",null,"Interactive"),i.createElement("div",{className:"panel-entry"},i.createElement("div",{className:"label"},"Hover"),i.createElement("div",{className:"value"},i.createElement("button",{className:"panel-dropdown-button",ref:o,id:"interactive-panel-effects-dropdown",onClick:s},i.createElement("span",null,l," "),i.createElement(xs,{icon:vd.ptq})))),i.createElement(Vd,{id:"interactive-panel-effects-popover",targetRef:o,placement:"below",idsToIgnoreForOutsideClick:["interactive-panel-effects-dropdown"]},i.createElement($d,null,i.createElement(Kd,null,i.createElement(Yd,{onClick:r(void 0)},"None"),i.createElement(Yd,{onClick:r(Rt.Grow)},"Grow"))))))}));Dh.displayName="ThingInteractivePanel";const Oh=S("border-popover"),Ah="2px solid #000",Mh=(0,i.memo)((({})=>{const e=ol();ql(Oh);const t=i.useRef(null),{showOverlay:a}=hs(),n=e.useStore(_c),o=e.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.things.get(n.first())})),s=i.useMemo((()=>{if(0!==n.size)return null==o?void 0:o.styles.border}),[n,o]),r=i.useCallback((()=>{e.mutateThings((e=>e.setBorder(void 0))),a(Oh,!1)}),[a]),{width:l,style:c,color:d}=i.useMemo((()=>{const e=null!=s?s:Ah,t=new RegExp(/^([0-9]*)px\s(solid|dashed|dotted)\s(.*)$/g),a=e.matchAll(t),[,n,i,o]=Array.from(a)[0];return{width:n,style:i,color:o}}),[s]),u=i.useCallback((t=>{e.mutateThings((e=>{var a,n,i;return e.setBorder(`${null!==(a=t.width)&&void 0!==a?a:l}px ${null!==(n=t.style)&&void 0!==n?n:c} ${null!==(i=t.color)&&void 0!==i?i:d}`)}))}),[e,l,c,d]),m=i.useCallback((()=>{a(Oh,!0),void 0===s&&e.mutateThings((e=>e.setBorder(Ah)))}),[e,a,s]),g=i.useCallback((e=>{let t=parseFloat(e);isNaN(t)&&(t=0),u({width:t})}),[u]);return i.createElement(i.Fragment,null,i.createElement(Vd,{id:Oh,targetRef:t,placement:"left",options:{margin:16},idsToIgnoreForOutsideClick:["sidebar-popover-border-popover"]},i.createElement($d,{className:"sidebar-popover"},i.createElement(Kd,null,i.createElement(Qs,{gap:8},i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement("div",{className:"label"},"Width"),i.createElement("div",{className:"input-wrapper"},i.createElement(Tr,{options:{size:"small",theme:"dark"},valueEnvelope:{value:l,setValue:g}}))),i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement("div",{className:"label"},"Style"),i.createElement("div",{className:"input-wrapper"},i.createElement("select",{onChange:e=>{u({style:e.currentTarget.value})},value:c},i.createElement("option",{value:"solid"},"Solid"),i.createElement("option",{value:"dashed"},"Dashed"),i.createElement("option",{value:"dotted"},"Dotted")))),i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement("div",{className:"label"},"Color"),i.createElement("div",{className:"input-wrapper"},i.createElement(Eg,{id:"sidebar-popover-border",fill:d,onChange:e=>{u({color:e})}}))),i.createElement(Zs,{vibe:"destructive",size:"small",onClick:r},"Remove"))))),i.createElement("div",{className:"panel-entry"},i.createElement("div",{className:"label"},"Border"),i.createElement("div",{className:"value",ref:t},i.createElement("button",{className:I("box-shadow-border-button",{active:void 0!==s}),onClick:m},void 0===s&&i.createElement(i.Fragment,null,"Add"),void 0!==s&&i.createElement(i.Fragment,null,"Edit")))))}));Mh.displayName="BoxShadowEntry";const zh=S("box-shadow-popover"),Lh="4px 4px 4px #000",jh=(0,i.memo)((({})=>{const e=ol();ql(zh);const t=i.useRef(null),{showOverlay:a}=hs(),n=e.useStore(_c),o=e.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.things.get(n.first())})),s=i.useMemo((()=>{if(0!==n.size)return null==o?void 0:o.styles.dropShadow}),[n,o]),r=i.useCallback((()=>{e.mutateThings((e=>e.setDropShadow(void 0))),a(zh,!1)}),[a]),{x:l,y:c,blur:d,color:u}=i.useMemo((()=>{const e=null!=s?s:Lh,t=new RegExp(/^([0-9]*)px\s([0-9]*)px\s([0-9]*)px\s(.*)$/g),a=e.matchAll(t),[,n,i,o,r]=Array.from(a)[0];return{x:n,y:i,blur:o,color:r}}),[s]),m=i.useCallback((t=>{var a,n,i,o,s;const r=e.selectOnce(_c),l=e.selectOnce((e=>{var t;return null===(t=e.page.inProgress)||void 0===t?void 0:t.things.get(r.first())})),c=e.selectOnce((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.things.get(r.first())})),d=null===(a=null!=l?l:c)||void 0===a?void 0:a.styles.dropShadow,u=null!=d?d:Lh,m=new RegExp(/^([0-9]*)px\s([0-9]*)px\s([0-9]*)px\s(.*)$/g),g=u.matchAll(m),[,p,h,f,b]=Array.from(g)[0],y=`${null!==(n=t.x)&&void 0!==n?n:p}px ${null!==(i=t.y)&&void 0!==i?i:h}px ${null!==(o=t.blur)&&void 0!==o?o:f}px ${null!==(s=t.color)&&void 0!==s?s:b}`;e.mutateThings((e=>e.setDropShadow(y)))}),[l,c,d,u]),g=i.useCallback((()=>{a(zh,!0),void 0===s&&e.mutateThings((e=>e.setDropShadow(Lh)))}),[a,s]),p=i.useCallback((e=>{let t=parseFloat(e);isNaN(t)&&(t=0),m({x:t})}),[m]),h=i.useCallback((e=>{let t=parseFloat(e);isNaN(t)&&(t=0),m({y:t})}),[m]),f=i.useCallback((e=>{let t=parseFloat(e);isNaN(t)&&(t=0),m({blur:t})}),[m]);return i.createElement(i.Fragment,null,i.createElement(Vd,{id:zh,targetRef:t,placement:"left",options:{margin:16},idsToIgnoreForOutsideClick:["sidebar-popover-shadow-popover"]},i.createElement($d,{className:"sidebar-popover"},i.createElement(Kd,null,i.createElement(Qs,{gap:8},i.createElement(Vs,{mainAxisAlign:"space-between",gap:8},i.createElement(Vs,{mainAxisAlign:"space-between",style:{width:"50%"}},i.createElement("div",{className:"label"},"x"),i.createElement("div",{className:"input-wrapper"},i.createElement(Tr,{options:{size:"small",theme:"dark"},valueEnvelope:{value:l,setValue:p}}))),i.createElement(Vs,{mainAxisAlign:"space-between",style:{width:"50%"}},i.createElement("div",{className:"label"},"y"),i.createElement("div",{className:"input-wrapper"},i.createElement(Tr,{options:{size:"small",theme:"dark"},valueEnvelope:{value:c,setValue:h}})))),i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement("div",{className:"label"},"Blur"),i.createElement("div",{className:"input-wrapper"},i.createElement(Tr,{options:{size:"small",theme:"dark"},valueEnvelope:{value:d,setValue:f}}))),i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement("div",{className:"label"},"Color"),i.createElement("div",{className:"input-wrapper"},i.createElement(Eg,{id:"sidebar-popover-shadow",fill:u,onChange:(e,t)=>{m({color:e})}}))),i.createElement(Zs,{vibe:"destructive",size:"small",onClick:r},"Remove"))))),i.createElement("div",{className:"panel-entry"},i.createElement("div",{className:"label"},"Shadow"),i.createElement("div",{className:"value",ref:t},i.createElement("button",{className:I("box-shadow-border-button",{active:void 0!==s}),onClick:g},void 0===s&&i.createElement(i.Fragment,null,"Add"),void 0!==s&&i.createElement(i.Fragment,null,"Edit")))))}));jh.displayName="BoxShadowEntry";const Bh=(0,i.memo)((({})=>{var e,t,a,n,o,s,r,l,c,d,u,m,g;const p=ol(),h=p.useStore(_c),f=p.useStore((e=>{var t,a;return null===(a=null!==(t=e.page.inProgress)&&void 0!==t?t:e.page.stable)||void 0===a?void 0:a.things.get(h.first())})),b=i.useMemo((()=>{var e;return void 0===f?{}:null!==(e=null==f?void 0:f.styles)&&void 0!==e?e:{}}),[f]),y=i.useCallback((e=>{p.beginInProgressPage();const t=e[0]/100;p.mutateThings((e=>e.setOpacity(t)),{inProgress:!0})}),[]),v=i.useCallback((e=>{p.commitInProgressPage()}),[]),w=i.useCallback((e=>{let t=parseFloat(e);isNaN(t)&&(t=0),t=Math.min(Math.max(t/100,0),1),p.mutateThings((e=>e.setOpacity(t)))}),[]),E=Math.min(null!==(e=null==f?void 0:f.position.width)&&void 0!==e?e:0,null!==(t=null==f?void 0:f.position.height)&&void 0!==t?t:0)/2,k=i.useCallback((e=>{p.beginInProgressPage();const t=e[0];p.mutateThings((e=>e.setPadding(t)),{inProgress:!0})}),[]),F=i.useCallback((e=>{p.commitInProgressPage()}),[]),x=i.useCallback((e=>{let t=parseFloat(e);isNaN(t)&&(t=0),t=Math.min(Math.max(t,0),E),p.mutateThings((e=>e.setPadding(t)))}),[]),S=Math.min(null!==(a=null==f?void 0:f.position.width)&&void 0!==a?a:0,null!==(n=null==f?void 0:f.position.height)&&void 0!==n?n:0)/2,I=i.useCallback((e=>{p.beginInProgressPage();const t=e[0];p.mutateThings((e=>e.setBorderRadius(t)),{inProgress:!0})}),[]),C=i.useCallback((e=>{p.commitInProgressPage()}),[]),P=i.useCallback((e=>{let t=parseFloat(e);isNaN(t)&&(t=0),t=Math.min(Math.max(t,0),S),p.mutateThings((e=>e.setBorderRadius(t)))}),[]),T=i.useCallback((e=>{p.beginInProgressPage();const t=e[0];p.mutateThings((e=>e.setBlur(t)),{inProgress:!0})}),[]),N=i.useCallback((e=>{p.commitInProgressPage()}),[]),R=i.useCallback((e=>{p.mutateThings((t=>t.setBlur(e)))}),[]),D=i.useCallback(((e,t)=>{var a;const n=p.selectOnce((e=>e.page.inProgress)),i=p.selectOnce((e=>e.page.stable)),o=null===(a=t?i:n)||void 0===a?void 0:a.things.filter((e=>h.has(e.ID))).valueSeq().toArray();t?p.cancelInProgressPage().mutateThings((t=>t.setBackground(e)),{thingsToMutate:o}):(void 0===n&&p.beginInProgressPage(),p.mutateThings((t=>t.setBackground(e)),{thingsToMutate:o,inProgress:!0}))}),[h]);return i.createElement(Th,{style:{paddingBottom:24}},i.createElement(Qs,{gap:8,crossAxisAlign:"start"},i.createElement("h2",null,"Styles"),(null==f?void 0:f.type)!==zt.Shape&&i.createElement(i.Fragment,null,i.createElement("div",{className:"panel-entry"},i.createElement("div",{className:"label"},"Background"),i.createElement("div",{className:"value"},i.createElement(Eg,{fill:null!==(o=null==b?void 0:b.background)&&void 0!==o?o:"",onChange:D,theme:"light"})))),i.createElement("div",{className:"panel-entry"},i.createElement("div",{className:"label"},"Opacity"),i.createElement("div",{className:"value"},i.createElement(Vs,{gap:12},i.createElement(Tr,{className:"small-number-input",options:{size:"small"},suffix:"%",valueEnvelope:{value:100*(null!==(s=b.opacity)&&void 0!==s?s:1),setValue:w}}),i.createElement(Jm.fC,{className:"SliderRoot",defaultValue:[50],max:100,step:1,"aria-label":"opacity",value:[100*(null!==(r=b.opacity)&&void 0!==r?r:1)],onValueChange:y,onValueCommit:v},i.createElement(Jm.fQ,{className:"SliderTrack"},i.createElement(Jm.e6,{className:"SliderRange"})),i.createElement(Jm.bU,{className:"SliderThumb"}))))),i.createElement("div",{className:"panel-entry"},i.createElement("div",{className:"label"},"Padding"),i.createElement("div",{className:"value"},i.createElement(Vs,{gap:12},i.createElement(Tr,{className:"small-number-input",options:{size:"small"},suffix:"px",valueEnvelope:{value:null!==(l=b.padding)&&void 0!==l?l:0,setValue:x}}),i.createElement(Jm.fC,{className:"SliderRoot",defaultValue:[0],max:E,value:[null!==(c=b.padding)&&void 0!==c?c:0],step:1,"aria-label":"padding",onValueChange:k,onValueCommit:F},i.createElement(Jm.fQ,{className:"SliderTrack"},i.createElement(Jm.e6,{className:"SliderRange"})),i.createElement(Jm.bU,{className:"SliderThumb"}))))),i.createElement("div",{className:"panel-entry"},i.createElement("div",{className:"label"},"Radius"),i.createElement("div",{className:"value"},i.createElement(Vs,{gap:12},i.createElement(Tr,{className:"small-number-input",options:{size:"small"},suffix:"px",valueEnvelope:{value:null!==(d=b.borderRadius)&&void 0!==d?d:0,setValue:P}}),i.createElement(Jm.fC,{className:"SliderRoot",defaultValue:[0],value:[null!==(u=b.borderRadius)&&void 0!==u?u:0],max:S,step:1,"aria-label":"border-radius",onValueChange:I,onValueCommit:C},i.createElement(Jm.fQ,{className:"SliderTrack"},i.createElement(Jm.e6,{className:"SliderRange"})),i.createElement(Jm.bU,{className:"SliderThumb"}))))),i.createElement("div",{className:"panel-entry"},i.createElement("div",{className:"label"},"Blur"),i.createElement("div",{className:"value"},i.createElement(Vs,{gap:12},i.createElement(Tr,{className:"small-number-input",options:{size:"small"},suffix:"%",valueEnvelope:{value:null!==(m=b.blur)&&void 0!==m?m:0,setValue:R}}),i.createElement(Jm.fC,{className:"SliderRoot",defaultValue:[0],value:[null!==(g=b.blur)&&void 0!==g?g:0],max:20,step:1,"aria-label":"blur",onValueChange:T,onValueCommit:N},i.createElement(Jm.fQ,{className:"SliderTrack"},i.createElement(Jm.e6,{className:"SliderRange"})),i.createElement(Jm.bU,{className:"SliderThumb"}))))),i.createElement(Mh,null),i.createElement(jh,null)))}));Bh.displayName="ThingStylesPanel";const Uh=(e,t=0)=>Math.round(e*Math.pow(10,t))/Math.pow(10,t);function _h(e){return`b-${e}`}const Hh=new Set([zt.Button,zt.CodeEmbed,zt.Drawing,zt.Drawing,zt.GIF,zt.Image,zt.RichButton,zt.Shape,zt.Text]);function Gh(e){const{x:t,y:a,width:n,height:i,zIndex:o,rotationDeg:s}=e,r=n>=0?1:-1,l=i>=0?1:-1;return{"--height":Math.abs(i),"--width":Math.abs(n),"--x":t,"--y":a,"--z":o,"--rotation":Uh(s,2),"--scale-x":r,"--scale-y":l}}const qh=(0,i.memo)((({children:e})=>ol().useStore((e=>e.preferences["experiments.enabled"]))?i.createElement(i.Fragment,null,e):i.createElement(i.Fragment,null)));function Wh(e){const t=e.useStore(_c),a=e.useStore(kc);return(0,i.useMemo)((()=>{var e;return void 0===a?[]:null!==(e=Array.from(a.filter((e=>t.has(e.ID))).valueSeq()))&&void 0!==e?e:[]}),[t,a])}qh.displayName="Experimental";const Vh=(0,i.memo)((({})=>{var e;const t=ol(),a=t.useStore(_c),n=Wh(t),o=i.useRef(null),[s,r]=i.useState(void 0),[l,c]=i.useState(!1),d=i.useCallback((()=>{c(!0)}),[c]),u=i.useCallback((()=>{c(!1)}),[c,s,r,t]),m=i.useCallback((e=>{let a=e.target.value;a=a.replace(" ","").replace("<br />","").replace("&nbsp;","").replace(/[^A-Za-z0-9_-]/g,""),t.mutateThings((e=>e.setHtmlId(a)))}),[t]);return i.createElement(i.Fragment,null,i.createElement(Th,null,i.createElement(Qs,{gap:8,crossAxisAlign:"start"},i.createElement("h2",{className:os()("html-id-tag",{focused:l})},"#",i.createElement(Ch(),{className:"inner-label",html:null!==(e=n[0].properties.htmlId)&&void 0!==e?e:_h(a.first()),innerRef:o,onChange:m,onFocus:d,onBlur:u,contentEditable:!0})),i.createElement(Gu,{type:"warning"},i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",null,"Under construction."," ",i.createElement("span",{style:{fontWeight:400}},"The sidebar will look a bit ugly here for a while. Thanks for bearing.")))))),i.createElement(Bh,null),i.createElement(qh,null,i.createElement(Dh,null)))}));Vh.displayName="ThingPanel";const $h=fs((({id:e,className:t,style:a,children:n,onClick:o,enabled:s=!1,tooltip:r,noSfx:l=!1},c)=>{const d=i.useRef(null),u=(0,gs.Z)(d,c),m=i.useCallback((()=>{l||Hs.play("light-click"),void 0!==o&&o()}),[o,l]),g=i.useMemo((()=>F()(x("menu-toggle"),{enabled:s},t)),[t,s]);return i.createElement(i.Fragment,null,void 0!==r&&i.createElement(ks,{targetRef:d,options:r.options,hint:r.hint},r.label),i.createElement("button",{id:e,ref:u,onClick:m,className:g,style:a},i.createElement("span",null,n),i.createElement(xs,{icon:s?vd.wA5:vd.AB$})))}));$h.displayName="MenuToggle";const Yh=(0,i.memo)((({tooltipPlacement:e="right"})=>{const t=ol(),a=t.useStore((e=>e.preferences["experiments.enabled"])),n=i.useCallback((()=>{w({event:`toggle-experimental-${!a}`,location:"settings-popover"}),t.setPreferences({"experiments.enabled":!a})}),[t,a]),o=i.useMemo((()=>({label:"Help test new features. They may be buggy.",options:{placement:e}})),[e]);return i.createElement($h,{id:S("experimental-toggle"),onClick:n,enabled:a,tooltip:o},"Experimental")}));Yh.displayName="ExperimentalToggle";const Xh=(0,i.memo)((({})=>{const e=ol(),t=e.useStore(_c),{showCodeEditor:a}=function(){const e=ol(),t=e.useStore((e=>e.interface.isCodeEditorActive)),a=e.useStore((e=>e.preferences["expertMode.enabled"]));return i.useEffect((()=>{t?e.setExpertSidebarWidthPx(Jh):e.setExpertSidebarWidthPx(Zh)}),[t]),i.useEffect((()=>{a||e.toggleCodeEditor(!1)}),[a]),{showCodeEditor:e.useStore((e=>e.interface.isCodeEditorActive))}}(),n=e.useStore((e=>{var a;return null===(a=e.page.stable)||void 0===a?void 0:a.things.get(t.first())})),o=e.useStore(Hc),s=e.useStore(Bc),r=s!==Ce.TextEditing&&void 0===n&&o.size>0,l=s!==Ce.TextEditing&&void 0!==n;return i.createElement(i.Fragment,null,i.createElement(Qs,{mainAxisAlign:"space-between",style:{height:"100%"}},a&&i.createElement(Sh,null),!a&&i.createElement(i.Fragment,null,i.createElement("div",{className:"stick-to-top"},!l&&!r&&s!==Ce.TextEditing&&i.createElement("div",{className:"placeholder-message"},"Select block or section for options"),s===Ce.TextEditing&&i.createElement("div",{className:"placeholder-message"},"Cannot update advanced styles while editing text"),r&&i.createElement(Nh,null),l&&i.createElement(Vh,null)),i.createElement(Th,{id:"experimental-toggle-panel"},i.createElement(Yh,{tooltipPlacement:"above"})))))}));Xh.displayName="EditorPrimarySidebarContent";const Kh=(0,i.memo)((({id:e,defaultWidthPx:t,widthCssVarName:a,position:n,children:o})=>{const s=ol(),{visible:r}=ql(e,{uiConfig:{hideWhenEditing:!1}}),l=s.useStore(qr),c=(s.useStore(vl),(0,i.useMemo)((()=>l&&r),[l,r]));return uu(a,c?`${t}px`:"0px"),i.createElement("div",{id:e,className:Od()(x("sidebar"),{right:"right"===n,left:"left"===n}),style:{width:`var(${a})`}},i.createElement("div",{className:"sidebar-content",style:{width:t}},o))}));Kh.displayName="Sidebar";const Zh=304,Jh=512,Qh=(0,i.memo)((({})=>{const e=ol(),t=e.useStore((e=>e.preferences["expertMode.enabled"])),a=e.useStore(hl),n=e.useStore((e=>e.interface.expertSidebarWidthPx));i.useEffect((()=>{e.setExpertSidebarWidthPx(Zh)}),[]);const o=Ne.tq||!a;return i.createElement(Kh,{id:S("editor-primary-sidebar"),defaultWidthPx:o?0:n,widthCssVarName:"--editor-primary-sidebar-width",position:"right"},!o&&t&&i.createElement(Xh,null))}));Qh.displayName="EditorPrimarySidebar";const ef=(0,i.memo)((({})=>(ol(),i.createElement(Kh,{id:S("editor-secondary-sidebar"),defaultWidthPx:0,widthCssVarName:"--editor-secondary-sidebar-width",position:"left"}))));ef.displayName="EditorSecondarySidebar";const tf=S("expert-mode-toggle-container"),af=S("expert-mode-toggle"),nf=S("expert-mode-toggle-tooltip"),of=(0,i.memo)((({})=>{const e=ol(),t=i.useRef(null),{visible:a}=ql(tf),n=e.useStore(qr),{showOverlay:o}=hs(),s=(e.useStore((e=>e.preferences["experiments.enabled"])),e.useStore(hl)),r=(0,i.useCallback)((()=>{w({event:"clicked-expert-mode-toggle",location:"global"}),w(n?{event:"opened-expert-sidebar",location:"expert-sidebar"}:{event:"closed-expert-sidebar",location:"expert-sidebar"}),e.setPreferences({"expertMode.enabled":!n}),e.setMode(Ce.Layout),Hs.play("small-crunch");const t=window.setTimeout((()=>{o(nf,!1)}),250);return()=>{window.clearTimeout(t)}}),[n,o]),l=i.useMemo((()=>n?"Hide Advanced Styles":"Advanced Styles"),[n]);return s&&a?i.createElement(i.Fragment,null,i.createElement(ks,{id:nf,targetRef:t,hint:"SPACE",options:{placement:"left"}},l),i.createElement("div",{id:tf},i.createElement("button",{id:af,ref:t,className:Od()({enabled:n}),onClick:r},!n&&i.createElement(xs,{icon:ns.A35}),n&&i.createElement(xs,{icon:ns._tD})))):i.createElement(i.Fragment,null)}));of.displayName="ExpertModeToggle";const sf=S("first-publish-modal"),rf=(0,i.memo)((({})=>{const e=ol(),{showOverlay:t}=hs(),a=(0,zr.TH)(),n=(0,zr.s0)();ql(sf);const o=e.useStore(tc),{siteLink:s,siteLinkWithProtocol:r}=(0,i.useMemo)((()=>{if(void 0===o)return{username:"",siteLink:"",siteLinkWithProtocol:""};const{username:e}=o;return{username:e,siteLink:`${e}.${p.baseViewerHostname}`,siteLinkWithProtocol:`https://${e}.${p.baseViewerHostname}`}}),[o]),l=(0,i.useCallback)((()=>{w({event:"clicked-upgrade-from-first-publish-modal",location:"first-publish-modal"}),t(sf,!1),t(nc,!0),n(a.pathname)}),[t]),c=(0,i.useCallback)((()=>{t(sf,!1),n(a.pathname)}),[t,n]);return i.createElement(tr,{id:sf},i.createElement(Js,{width:"medium"},i.createElement(Op,null,"Page Published"),i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",null,"Congrats! Your page has been published. Here it is:"),i.createElement("p",{style:{width:"100%",textAlign:"center",fontSize:18,paddingTop:4,paddingBottom:8}},i.createElement("a",{href:r,target:"_blank"},s)),i.createElement("p",null,i.createElement("a",{href:"https://discord.mmm.dev",target:"_blank"},"Join our Discord")," ","and"," ",i.createElement("a",{href:"https://twitter.com/mmmdotpage",target:"_blank"},"follow on Twitter")," ","for updates."))),i.createElement(Ws,{style:{background:"rgba( 247, 201, 84, 0.24)"}},i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",null,i.createElement("strong",null,"Consider upgrading!")," mmm.page is an indie product, and each upgrade helps. You'll be able to add more blocks, use domain names, and more."),i.createElement("p",null,"Also, you'll have our undying gratitude."))),i.createElement(Ws,null,i.createElement(Vs,{gap:12,mainAxisAlign:"center"},i.createElement(Zs,{onClick:l,focusOnMount:!0},"Browse Plans"),i.createElement(Zs,{vibe:"secondary",onClick:c},"Close")))))}));rf.displayName="FirstPublishModal";const lf=S("welcome-modal"),cf=(0,i.memo)((({})=>{const e=ol(),{showOverlay:t}=hs();ql(lf);const a=e.useStore(tc),{siteLink:n,siteLinkWithProtocol:o}=(0,i.useMemo)((()=>{if(void 0===a)return{username:"",siteLink:"",siteLinkWithProtocol:""};const{username:e}=a;return{username:e,siteLink:`${e}.${p.baseViewerHostname}`,siteLinkWithProtocol:`https://${e}.${p.baseViewerHostname}`}}),[a]),s=(0,i.useCallback)((()=>t(lf,!1)),[t]);return i.createElement(tr,{id:lf},i.createElement(Js,{width:"medium"},i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",null,"Welcome!"),i.createElement("p",null,"I made mmm.page to help people create richer, more playful websites."),i.createElement("p",null,"The community is 45,000+ strong, and you can explore some of their pages at"," ",i.createElement("a",{href:"https://explore.mmm.page",target:"_blank"},"explore.mmm.page"),"."),i.createElement("p",null,"So poke around and have fun with it :)"),i.createElement("p",null," XH"))),i.createElement(Ws,{direction:"vertical"},i.createElement("p",{style:{width:"100%",textAlign:"center",fontSize:18,paddingTop:4,paddingBottom:8}},"Your page:"," ",i.createElement("a",{href:o,target:"_blank"},n)),i.createElement(Vs,{mainAxisAlign:"center"},i.createElement(Zs,{onClick:s,options:{fattyWidth:!0},focusOnMount:!0},"Continue")))))}));cf.displayName="WelcomeModal";const df=(0,i.memo)((({})=>{const e=ol(),t=e.useStore(Fc),a=e.useStore((e=>e.page.migrated)),n=i.useRef(!1);return i.useEffect((()=>{n.current||t&&a&&(e.publishPage(),n.current=!0)}),[t,a]),i.createElement(i.Fragment,null,i.createElement(cf,null),i.createElement(rf,null))}));df.displayName="OnboardingContent";const uf=(0,i.memo)((({})=>{const{showOverlay:e}=hs(),{isFirstPage:t}=Kg();return(0,i.useEffect)((()=>{t&&e(lf)}),[t]),t?i.createElement(df,null):i.createElement(i.Fragment,null)}));uf.displayName="OnboardingContainer";const mf=(0,i.memo)((({htmlId:e,groupId:t,isRoot:a,content:n,properties:o,position:s,thingStyles:r,className:l,outerChildren:c,children:d})=>{const[u,m]=(0,i.useState)(0),{width:g,height:p}=s,{hideOn:h}=o;Yt(e,(e=>{const{width:a}=e.target.getBoundingClientRect(),n=Math.min(a/g,1);m(n),window[`section-scaler-${t}`]=n}));const f={"--max-width":g,"--height":p,"--scaler":u},b={};return r.background&&(b.background=r.background),a?i.createElement("section",{id:e,"data-type":"section","data-section-id":t,className:os()({[l]:void 0!==l,"hide-on-desktop":h===Dt.Desktop,"hide-on-mobile":h===Dt.Mobile}),style:Object.assign(Object.assign({},{"--parent-rpx":"var(--rpx)"}),b)},i.createElement("div",{"data-type":"content",className:n.groupDisplay,style:f},d),c):i.createElement(i.Fragment,null)}));mf.displayName="GroupView";const gf=(0,i.memo)((({active:e,placement:t})=>i.createElement("div",{className:Od()(x("group-horizontal-boundary-line"),{active:e,[t]:void 0!==t})})));gf.displayName="GroupHorizontalBoundaryLine";const pf=x("resize-height-handle"),hf=(0,i.memo)((({groupId:e,resizing:t,onHandleDragStart:a,onHandleDragEnd:n})=>{const o=(0,i.useRef)(null);return ql(`${pf}-${e}`),i.createElement(i.Fragment,null,!t&&i.createElement(ks,{targetRef:o},"Resize Section Height"),i.createElement("button",{className:`${pf} ${pf}-${e}`,ref:o,onPointerDown:a,draggable:"false"},i.createElement("div",{className:"visible-part"})))}));hf.displayName="ResizeHeightHandle";const ff=(0,i.memo)((({htmlId:e,groupId:t})=>{const a=ol(),n=S(`group-toolbar-${t}`);ql(n);const o=a.useStore((e=>{var a;return null===(a=e.page.stable)||void 0===a?void 0:a.things.get(t)})),s=(0,i.useMemo)((()=>pa.isFirstSection(t)),[t,o]),l=(0,i.useMemo)((()=>pa.isLastSection(t)),[t,o]),c=(a.useStore((e=>e.preferences["advancedWindow.active"])),a.useStore((e=>e.editor.selectedParentIds.includes(t)))),d=a.useStore(_c),u=c&&0===d.size,m=i.useCallback((()=>{a.unselectThings().selectParents([t]),a.setPreferences({"expertMode.enabled":!0})}),[t]),g=i.useCallback((()=>{if(pa.getSectionIds().length<=1)return void(0,r.Am)("You can't delete the last remaining section");const e=pa.getChildrenFor(t);a.removeThings(e.concat([t])).resetEditor()}),[t]),p=i.useCallback((()=>{a.mutatePage((e=>e.moveSectionUp(t))),window.setTimeout((()=>{const e=document.querySelector(`section[data-section-id='${t}']`);null==e||e.scrollIntoView({behavior:"smooth"})}),100)}),[t]),h=i.useCallback((()=>{a.mutatePage((e=>e.moveSectionDown(t))),window.setTimeout((()=>{const e=document.querySelector(`section[data-section-id='${t}']`);null==e||e.scrollIntoView({behavior:"smooth"})}),100)}),[t]),f=i.useCallback((()=>{var e,n;const i=null===(n=null===(e=a.selectOnce(vc))||void 0===e?void 0:e.things.get(t))||void 0===n?void 0:n.content.groupOrder;if(void 0!==i){a.mutatePage((e=>e.addSectionAtIndex(i)));const e=pa.getSectionAtIndex(i+1).ID;a.unselectThings().selectParents([e]),window.setTimeout((()=>{const t=document.querySelector(`section[data-section-id='${e}']`);null==t||t.scrollIntoView({behavior:"smooth"})}),100)}}),[t]);return i.createElement("div",{className:"group-toolbar-container"},i.createElement(xu,{id:n,className:I(x("group-toolbar"),{expanded:c}),darkMode:!0},i.createElement("div",{className:"tether"}),i.createElement("div",{className:"toolbar-content"},i.createElement(Qs,null,i.createElement(Vs,{mainAxisAlign:"start",crossAxisAlign:"center",gap:2,style:{height:36}},i.createElement("div",{className:"section-label"},"#",e),i.createElement(Su,{active:u,label:"Section Settings",icon:ns.b7W,tooltipOptions:{placement:"top",margin:12},onClick:m})),i.createElement(Fu,null),i.createElement(Vs,{mainAxisAlign:"start",crossAxisAlign:"center",gap:2,style:{height:36}},!s&&i.createElement(Su,{label:"Move Section Up",icon:ns.FPD,tooltipOptions:{placement:"bottom",margin:12},onClick:p}),!l&&i.createElement(Su,{label:"Move Section Down",icon:ns.r5q,tooltipOptions:{placement:"bottom",margin:12},onClick:h}),i.createElement(Su,{label:"Add Section Below",icon:ns.r8p,tooltipOptions:{placement:"bottom",margin:12},onClick:f}),i.createElement(Su,{label:"Delete Section",icon:ns.XAH,tooltipOptions:{placement:"bottom",margin:12},onClick:g}))))))}));ff.displayName="GroupToolbar";const bf=new de({caller:"useGroupUiOverlay"}),yf=(0,i.memo)((({htmlId:e,groupId:t,active:a,isSelecting:n,position:o})=>{const s=ol(),r=(s.useStore(qr),s.useStore(yl)),l=s.useStore((e=>e.preferences["experiments.enabled"])),{boundaryOffsetX:c,onHandleDragStart:d,onHandleDragEnd:u,onHorizontalDragStart:m,onHorizontalDragEnd:g,absInProgressWidth:p,resizing:h}=function(e,t){const a=ol(),[n,o]=(0,i.useState)(void 0),[s,r]=(0,i.useState)(0),[l,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(void 0),[m,g]=(0,i.useState)(!1),p=(0,i.useMemo)((()=>t-s),[s,t]),h=(0,i.useCallback)((()=>{g(!1),bf.debug("commitInProgressPage() called from onHorizontalDragEnd"),a.commitInProgressPage().unregisterCallback("onPointerUp",h),u(void 0)}),[g,u]),f=(0,i.useCallback)((()=>{var t;g(!0),a.beginInProgressPage().registerCallback("onPointerUp",h);const n=(null===(t=a.selectOnce(kc))||void 0===t?void 0:t.get(e)).position.height;u(n)}),[h,e]),b=(0,i.useCallback)((t=>{var n;if(t.gesture.drag){const[,t]=a.selectOnce(Be),i=null===(n=a.selectOnce(kc))||void 0===n?void 0:n.get(e);i&&a.mutateThings((e=>e.setHeight(d+t)),{thingsToMutate:[i],updateSelectedParentIds:!1,inProgress:!0})}}),[a,d,r,n]);(0,i.useEffect)((()=>(m?a.setMode(void 0).registerCallback("onDrag",b):a.setMode(Ce.Layout).unregisterCallback("onDrag",b),()=>{a.setMode(Ce.Layout).unregisterCallback("onDrag",b,!0)})),[a,b,m]);const y=(0,i.useCallback)((e=>{o(e),c(!0),a.registerCallback("onPointerUp",v)}),[o,c]),v=(0,i.useCallback)((()=>{o(void 0),c(!1),a.unregisterCallback("onPointerUp",v),a.mutatePage((t=>t.setSectionWidth(e,p))),r(0)}),[e,o,c,p]),w=(0,i.useCallback)((e=>{if(e.gesture.drag){const e=a.selectOnce(Be),t=("right"===n?-1:1)*e[0]*2,i=50*Math.round(t/50);r(Math.round(i))}}),[a,r,n]);return(0,i.useEffect)((()=>(l?a.setMode(void 0).registerCallback("onDrag",w):a.setMode(Ce.Layout).unregisterCallback("onDrag",w),()=>{a.setMode(Ce.Layout).unregisterCallback("onDrag",w,!0)})),[a,w,l]),{boundaryOffsetX:s,resizing:m||l,onHandleDragStart:y,onHandleDragEnd:v,absInProgressWidth:p,onHorizontalDragStart:f,onHorizontalDragEnd:h}}(t,o.width),f=(pa.isFirstSection(t),pa.isLastSection(t));return r===rl.Editing&&l?i.createElement(jd,{componentName:"Section Toolbar"},i.createElement("div",{className:x("group-ui-overlay")},i.createElement(ff,{htmlId:e,groupId:t}),!f&&i.createElement(i.Fragment,null,i.createElement(hf,{groupId:t,resizing:h,onHandleDragEnd:g,onHandleDragStart:m}),i.createElement(gf,{active:a,placement:"below"})))):i.createElement(i.Fragment,null)}));yf.displayName="GroupUiOverlay";const vf=(0,i.memo)((({groupId:e,isRoot:t,children:a})=>{var n;const o=ol(),s=o.useStore(wl),r=o.useStore(kl),l=o.useStore((t=>{var a;return null===(a=t.page.stable)||void 0===a?void 0:a.things.get(e)})),c=o.useStore((t=>{var a;return null===(a=t.page.inProgress)||void 0===a?void 0:a.things.get(e)})),d=o.useStore(Hc),u=null!==(n=null==l?void 0:l.properties.htmlId)&&void 0!==n?n:Ph(e),m=(0,i.useMemo)((()=>c?c.content:l.content),[null==l?void 0:l.content,null==c?void 0:c.content]),g=(0,i.useMemo)((()=>c?c.styles:l.styles),[null==l?void 0:l.styles,null==c?void 0:c.styles]),h=(0,i.useMemo)((()=>c?c.position:l.position),[null==l?void 0:l.position,null==c?void 0:c.position]),f=(0,i.useMemo)((()=>c?c.properties:l.properties),[null==l?void 0:l.properties,null==c?void 0:c.properties]),b=(0,i.useMemo)((()=>void 0===f.hideOn||function(e,{viewportWidthPx:t}){return!(e===Dt.Mobile&&t<p.maxWindowWidthPx||e===Dt.Desktop&&t>=p.maxWindowWidthPx)}(f.hideOn,{viewportWidthPx:s})),[f.hideOn,s,r]),y=void 0===(null==l?void 0:l.parentId),v=d.contains(e),w=d.size>0,E=y&&v&&w;return b?i.createElement(mf,{htmlId:u,className:Od()(x("editor-group-view"),{editing:w,active:v,"in-progress":void 0!==c}),groupId:e,isRoot:t,position:h,content:m,properties:f,thingStyles:g,outerChildren:i.createElement(yf,{htmlId:u,groupId:e,active:E,isSelecting:w,position:h})},a):i.createElement(i.Fragment,null)}));vf.displayName="EditorGroupView";const wf=(0,i.memo)((({mode:e,hyperlink:t,altText:a,target:n,pointerEvents:o})=>{const s=i.useCallback((()=>w({event:"click-hyperlinked-thing",location:"page",linkType:"external",destination:null!=t?t:""})),[t]),r=i.useCallback((()=>w({event:"click-landing-page-sign-up-button",location:"landing-page"})),[]);return o===At.None||void 0===t?i.createElement(i.Fragment,null):t===`${p.builderURL}/?signup`?i.createElement("a",{rel:"noreferrer",className:"link-overlay",href:t,onClick:r}):i.createElement("a",{rel:"noreferrer",className:"link-overlay",href:t,target:null!=n?n:"_self",onClick:s},a)})),Ef=({title:e,src:t,allow:a="",allowFullScreen:n=!1,referrerPolicy:o,sandbox:s="",scrolling:r="auto",style:l={}})=>{const[c,d]=(0,i.useState)(!1);return i.createElement("iframe",{title:e,src:t,onLoad:e=>{d(!0)},allow:a,allowFullScreen:n,referrerPolicy:o,sandbox:s,scrolling:r,style:Object.assign({top:0,left:0,width:"100%",height:"100%",position:"absolute",border:0},l)},!c&&i.createElement("div",null))},kf=(0,i.memo)((({content:e})=>{const{codePenUsername:t,codePenID:a}=e,n=`https://codepen.io/${t}/embed/preview/${a}?default-tabs=js%2Cresult&height=300&host=https%3A%2F%2Fcodepen.io&slug-hash=${a}`;return i.createElement("div",{className:"codepen-thing embeddable"},i.createElement(Ef,{title:"CodePen Embed",src:n,allowFullScreen:!0,scrolling:"no",allow:"",sandbox:"allow-scripts  allow-same-origin"}))}));kf.displayName="CodepenThingView";const Ff=(0,i.memo)((({content:e})=>{const{googleFormsURL:t}=e;return i.createElement("div",{className:"googleforms-thing embeddable"},i.createElement(Ef,{title:"Google Forms Embed",src:t,allowFullScreen:!0,scrolling:"no",allow:"encrypted-media;",sandbox:"allow-scripts allow-same-origin allow-forms"}))}));Ff.displayName="GoogleFormsThingView";const xf=(0,i.memo)((({content:e})=>{const{substackUsername:t}=e;return i.createElement("div",{className:"substack-thing embeddable"},i.createElement(Ef,{title:"Substack Embed",src:`https://${t}.substack.com/embed`,allowFullScreen:!0,scrolling:"no",allow:"encrypted-media;",sandbox:"allow-scripts allow-same-origin"}))}));xf.displayName="SubstackThingView";var Sf=a(3308),If=a(42825),Cf=a.n(If);const Pf=({targetWidth:e=480,children:t,className:a,style:n})=>{const[o,s]=(0,i.useState)(1);(0,i.useEffect)((()=>{s(e/Math.min(document.body.clientWidth,p.maxWindowWidthPx))}),[]);const r=.5*(1-o)/o*100,l={};return l.width=100*o+"%",l.height=100*o+"%",l.transform=[`translate(${r}%, ${r}%)`,`scale(${1/o})`].join(" "),i.createElement("div",{className:Cf()("size-normalizer",{[a]:void 0!==a}),style:Object.assign(Object.assign({},n),l)},t)};Pf.displayName="SizeNormalizer";const Tf=(0,i.memo)((({content:e})=>{const{twitchURL:t}=e;return i.createElement(Pf,{className:"twitch-thing embeddable"},i.createElement(Sf.Z,{controls:!0,url:t}))}));Tf.displayName="TwitchThingView";var Nf=a(46256);const Rf=(0,i.memo)((({content:e})=>{const{twitterContentType:t,twitterUsername:a,twitterTweetID:n}=e;return"profile"===t?i.createElement(Pf,{className:"twitter-thing embeddable"},i.createElement(Nf.kV,{sourceType:"profile",screenName:a})):"tweet"===t?i.createElement(Pf,{className:"twitter-thing embeddable"},i.createElement(Nf.iD,{tweetId:n})):i.createElement(i.Fragment,null)}));Rf.displayName="TwitterThingView";const Df=(0,i.memo)((({content:e})=>{const{typeformURL:t}=e;return i.createElement("div",{className:"typeform-thing embeddable"},i.createElement(Ef,{title:"Typeform Embed",src:t,allowFullScreen:!0,scrolling:"no",allow:"encrypted-media;",sandbox:"allow-scripts allow-same-origin allow-forms"}))}));var Of;Df.displayName="TypeformThingView",function(e){e[e.Serif=0]="Serif",e[e.SansSerif=1]="SansSerif",e[e.Display=2]="Display",e[e.Monospace=3]="Monospace",e[e.Script=4]="Script"}(Of||(Of={}));const Af=new Map([[Ft.OpenSans,{font:Ft.OpenSans,googleFontsName:"Open+Sans",cssName:"Open Sans",fileName:"open-sans-v20-latin-regular",category:Of.SansSerif}],[Ft.ComicNeue,{font:Ft.ComicNeue,googleFontsName:"Comic+Neue",cssName:"Comic Neue",fileName:"comic-neue-v2-latin-regular",category:Of.SansSerif}],[Ft.EbGaramond,{font:Ft.EbGaramond,googleFontsName:"EB+Garamond",cssName:'"EB Garamond"',fileName:"eb-garamond-v15-latin-regular",category:Of.Serif}],[Ft.Bangers,{font:Ft.Bangers,googleFontsName:"Bangers",cssName:'"Bangers"',fileName:"bangers-v13-latin-regular",category:Of.Display}],[Ft.BebasNeue,{font:Ft.BebasNeue,googleFontsName:"Bebas+Neue",cssName:'"Bebas Neue"',fileName:"bebas-neue-v2-latin-regular",category:Of.Display}],[Ft.Lato,{font:Ft.Lato,googleFontsName:"Lato",cssName:'"Lato"',fileName:"lato-v17-latin-regular",category:Of.SansSerif}],[Ft.Pacifico,{font:Ft.Pacifico,googleFontsName:"Pacifico",cssName:'"Pacifico"',fileName:"pacifico-v17-latin-regular",category:Of.Display}],[Ft.NanumPenScript,{font:Ft.NanumPenScript,googleFontsName:"Nanum+Pen+Script",cssName:'"Nanum Pen Script"',fileName:"nanum-pen-script-v15-latin-regular",category:Of.Script}],[Ft.PlayfairDisplay,{font:Ft.PlayfairDisplay,googleFontsName:"Playfair+Display",cssName:'"Playfair Display"',fileName:"playfair-display-v22-latin-regular",category:Of.Serif}],[Ft.SpaceMono,{font:Ft.SpaceMono,googleFontsName:"Space+Mono",cssName:'"Space Mono"',fileName:"space-mono-v6-latin-regular",category:Of.Monospace}],[Ft.Vt323,{font:Ft.Vt323,googleFontsName:"VT323",cssName:'"VT323"',fileName:"vt323-v12-latin-regular",category:Of.Display}],[Ft.ZillaSlabHighlight,{font:Ft.ZillaSlabHighlight,googleFontsName:"Zilla+Slab+Highlight",cssName:'"Zilla Slab Highlight"',fileName:"zilla-slab-highlight-v10-latin-regular",category:Of.Display}],[Ft.Arial,{font:Ft.Arial,googleFontsName:null,cssName:"Arial",fileName:null,category:Of.SansSerif}],[Ft.ComicSans,{font:Ft.ComicSans,googleFontsName:null,cssName:'"Comic Sans MS", "Comic Sans"',fileName:null,category:Of.SansSerif}],[Ft.CourierNew,{font:Ft.CourierNew,googleFontsName:null,cssName:'"Courier New"',fileName:null,category:Of.Monospace}],[Ft.TimesNewRoman,{font:Ft.TimesNewRoman,googleFontsName:null,cssName:'"Times New Roman"',fileName:null,category:Of.Serif}]]),Mf=(0,i.memo)((0,i.forwardRef)((({height:e,hyperlink:t,content:a,isEditing:n},o)=>{if(null===t)return i.createElement(i.Fragment,null);const{color:s,font:r,text:l,buttonType:c}=a,d=(e=>{const t=new Map([[Of.Serif,'"Times New Roman", serif'],[Of.SansSerif,"Arial, sans-serif"],[Of.Monospace,'"Courier New", monospace'],[Of.Display,"Arial, sans-serif"],[Of.Script,"Arial, sans-serif"]]),a=Af.get(e);if(void 0===a)return t.get(Of.SansSerif);const{cssName:n,category:i}=a;return`${n}, ${t.get(i)}`})(r),u=Rm(t),m=void 0!==u?(e=>{var t,a;return null!==(a=null===(t=Dm.get(e))||void 0===t?void 0:t.icon)&&void 0!==a?a:void 0})(u):void 0;return i.createElement("div",{className:os()("button",{"light-bg":Wo(s),"dark-bg":!Wo(s),"instagram-bg":u===Nm.Instagram&&7!==s.length,wide:c===kt.Wide,square:c===kt.Square}),style:{backgroundColor:`${s}`,"--font-size":""+e*Vo.fontSizeRatio,fontFamily:d}},void 0!==m?i.createElement("div",{className:"icon-wrapper"},i.createElement("div",{className:"icon",style:{maskImage:`url(https://static.mmm.page/icon/${"fab"===m[0]?"brand":"regular"}/${m[1]}.svg)`,WebkitMaskImage:`url(https://static.mmm.page/icon/${"fab"===m[0]?"brand":"regular"}/${m[1]}.svg)`},"aria-hidden":!0})):i.createElement("div",{className:"icon-wrapper"},i.createElement("div",{className:"icon",style:{maskImage:"url(https://static.mmm.page/icon/solid/link.svg)",WebkitMaskImage:"url(https://static.mmm.page/icon/solid/link.svg)"},"aria-hidden":!0})),i.createElement("span",{ref:o,contentEditable:n,suppressContentEditableWarning:!0},l))})));function zf(e){var{html:t,dangerouslySetInnerHTML:a}=e,n=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a}(e,["html","dangerouslySetInnerHTML"]);const o=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(!t||!o.current)throw new Error("html prop cant't be null");const e=document.createRange().createContextualFragment(t);o.current.innerHTML="",o.current.appendChild(e)}),[t,o]),i.createElement("div",Object.assign({},n,{ref:o}))}const Lf=({content:e,safeMode:t})=>{const{ceCode:a}=e;return t?i.createElement("div",{className:"safe-mode-warning"},i.createElement("span",null,"Disabled in ",i.createElement("br",null),"Safe Mode")):i.createElement(zf,{"data-type":"code-embed",html:a})};Lf.displayName="CodeEmbedView";var jf=a(6202),Bf=a(8168),Uf=a.n(Bf);a(86675);const _f=(e,t=0)=>Math.round(e*Math.pow(10,t))/Math.pow(10,t),Hf=({style:e,points:t})=>{const[a,n,o]=e;let s;s=A.aV.isList(t)?t.toArray():t;const r=(e=>{if(!e.length)return"";const t=e.reduce(((e,[t,a],n,i)=>{const[o,s]=i[(n+1)%i.length];return e.push(_f(t,2),_f(a,2),_f((t+o)/2,2),_f((a+s)/2,2)),e}),["M",...e[0],"Q"]);return t.push("Z"),t.join(" ")})((0,jf.mx)(s,{size:n,thinning:o,smoothing:.5,streamline:.5}));return i.createElement("path",{d:r,fill:a})};Hf.displayName="DrawingPath";const Gf=(0,i.memo)((({content:e})=>{const{drawingPaths:t,drawingHeight:a,drawingWidth:n}=e,o=(e=>{const t=Uf().decompress(Uf().decodeBase64(e));let a;a=(0,A.aV)(JSON.parse(t));try{a=(0,A.aV)(JSON.parse(t))}catch(e){return console.error("Parsing failed: DrawingPath corrupt or malformatted."),(0,A.aV)()}a=a.map((([e,t])=>[(0,A.aV)(e),t]));let n=(0,A.aV)();return a.forEach((([e,t])=>{let a=(0,A.aV)([e.get(0)]);for(let t=1;t<e.size;t++){const[n,i]=a.get(t-1),[o,s]=e.get(t);a=a.push([o+n,s+i])}n=n.push([a,t])})),n})(t);return i.createElement("svg",{viewBox:`0 0 ${n} ${a}`,preserveAspectRatio:"none"},o.map((([e,t])=>i.createElement(Hf,{key:JSON.stringify(e),style:t,points:e}))))}));Gf.displayName="DrawingThingView";const qf=({srcSet:e,width:t,type:a})=>i.createElement("source",{srcSet:e.join(","),sizes:`(max-width: ${p.maxWindowWidthPx}px) ${100*t}vw, ${t*p.maxWindowWidthPx}px`,type:a}),Wf=(0,i.memo)((({content:e,mode:t,position:a,source:n})=>{const{images:o}=e,{width:s,height:r,y:l}=a,c=null!==n?`Source: ${n.name}`:"",d="write"===t||l-r/2<800?"eager":"lazy",u=i.useMemo((()=>{const e=(e=>{const t=e.match(/^(https:\/\/media(?:[0-9]).giphy.com\/media\/[a-zA-Z0-9]+)/g);return t&&t.length>0?t[0]:null})(o.default.URL);return"write"===t?i.createElement("img",{src:`${e}/giphy.gif`,title:c,alt:c,draggable:"false"}):i.createElement("picture",null,qf({srcSet:[`${e}/100w.webp 100w`,`${e}/200w.webp 200w`,`${e}/giphy.webp 300w`],width:s,type:"image/webp"}),qf({srcSet:[`${e}/100w.gif 100w`,`${e}/200w.gif 200w`,`${e}/giphy.gif 300w`],width:s,type:"image/gif"}),i.createElement("img",{src:`${e}/giphy.gif`,title:c,alt:c,draggable:"false",loading:d}))}),[o.default.URL,t]);return i.createElement("div",{className:"gif-thing"},u)}));Wf.displayName="GifThingView";const Vf=(e,t)=>{const a=new URL(e);return[`https://asset.mmm.dev${a.pathname}?width=128 128w`,`https://asset.mmm.dev${a.pathname}?width=256 256w`,`https://asset.mmm.dev${a.pathname}?width=512 512w`,`https://asset.mmm.dev${a.pathname}?width=1024 1024w`,`https://asset.mmm.dev${a.pathname}?width=2048 2048w`].join(",")},$f=(0,i.memo)((({content:e,mode:t,position:a,altText:n,siteRoles:o,renderOptions:s})=>{const{URL:r}=e,{y:l,height:c,width:d}=a,u="write"===t||l-c/2<800?"eager":"lazy",m=r.endsWith(".gif")||r.endsWith(".webp");return s.useOptimizedImages&&!m?i.createElement("picture",null,i.createElement("source",{srcSet:Vf(r),sizes:`(max-width: 600px) ${d/600*100}vw, ${d}px`}),i.createElement("img",{src:r,title:null!=n?n:"",alt:null!=n?n:"",draggable:"false",loading:l-c/2<1.5?"eager":"lazy"})):i.createElement("img",{src:r,title:null!=n?n:"",alt:null!=n?n:"",draggable:"false",loading:u})}));$f.displayName="ImageThingView";const Yf=fs((({className:e,content:t,editable:a,onChange:n,onFocus:o,onBlur:s},r)=>{const{text:l,font:c,color:d,size:u,align:m,bold:g,italic:p,strikethrough:h,underline:f}=t,b=i.useRef(null),y=(0,gs.Z)(b,r),v=i.useCallback((e=>{var t;b.current.nodeValue=e.currentTarget.textContent,void 0!==n&&n(null!==(t=e.currentTarget.textContent)&&void 0!==t?t:"")}),[n]),w=i.useCallback((()=>{void 0!==o&&o()}),[o]),E=i.useCallback((()=>{void 0!==s&&s()}),[s]),k=i.useMemo((()=>{const e={color:d,"--font-size":u};return e.fontFamily=ho(c),g&&(e.fontWeight=700),p&&(e.fontStyle="italic"),f&&(e.textDecoration="underline"),e}),[c,d,u,m,g,p,h,f]),F=i.useMemo((()=>a?i.createElement(Ch(),{innerRef:y,html:l,onChange:v,onBlur:E,onFocus:w}):i.createElement(i.Fragment,null,l)),[l,a,E,w,v]);return i.createElement("div",{className:I("inline-rich-text",{left:m===Ct.Left,center:m===Ct.Center,right:m===Ct.Right,[e]:void 0!==e}),style:k,onInput:v,onFocus:w,onBlur:E,suppressContentEditableWarning:!0},F)}));Yf.displayName="InlineRichTextView";const Xf=/^(fab|fas)-([\-\w]*)$/,Kf=(0,i.memo)((({className:e,renderableIcon:t,color:a,size:n})=>{const o=i.useMemo((()=>{const e=t.match(Xf);if(!e)return"";const[,a,n]=e;return`${p.staticAssetUrl}/icon/6.2.1/${a}/${n}.svg`}),[t]),s=i.useMemo((()=>({maskImage:`url(${o})`,WebkitMaskImage:`url(${o})`,backgroundColor:a,"--width":n,"--height":n})),[o,a,n]);return i.createElement("span",{className:I("renderable-icon",{[e]:void 0!==e}),style:s,"aria-hidden":!0})}));Kf.displayName="RenderableIconView";const Zf=(0,i.memo)((0,i.forwardRef)((({content:e,htmlContentOverride:t,parsedThingStyles:a,editable:n=!1,onChange:o,onFocus:s,onBlur:r},l)=>{const{richButtonText:c,richButtonColor:d,richButtonIcon:u}=e,{color:m,size:g}=c,p=(0,i.useMemo)((()=>{let e=d;if(!yg.isHex(e)){const[t,a,n,i]=yg.array(e).map((e=>{var t;return null!==(t=parseFloat(e))&&void 0!==t?t:0}));e=yg.rgbToHex({r:t,g:a,b:n,a:i})}return!Wo(e)}),[d]),h=(0,i.useMemo)((()=>Object.assign({background:d,"--padding":g*Vo.paddingFontSizeRatio},a)),[d,a,g]);return i.createElement("a",{style:h,className:I("",{"icon-left":(null==u?void 0:u.placement)===It.Left,"icon-right":(null==u?void 0:u.placement)===It.Right,"dark-background":p})},void 0!==(null==u?void 0:u.icon)&&i.createElement(Kf,{className:"icon",color:m,size:g,renderableIcon:u.icon}),i.createElement(Yf,{ref:l,className:"label",content:c,editable:n,onChange:o,onFocus:s,onBlur:r}))})));Zf.displayName="RichButtonThingView";const Jf=fs((({lineHeight:e=1.25,content:t},a)=>{const{color:n,font:o,fontSize:s,textAlign:r,text:l}=t,c=ho(o,!0),d=((0,i.useMemo)((()=>Ro(l,!1)),[l,r]),{color:`${n}`,fontFamily:c,textAlign:r,"--font-size":s,lineHeight:e});return i.createElement("div",{ref:a,className:"text-content legacy",style:d},l)}));Jf.displayName="LegacyTextThingView";const Qf=(0,i.memo)((0,i.forwardRef)((({content:e,htmlContentOverride:t},a)=>{const{text:n}=e,o=(0,i.useMemo)((()=>t?"":Ro(n)),[t,n]);return void 0!==t?i.createElement("div",{ref:a,className:"text-content"},t):i.createElement("div",{ref:a,className:"text-content",dangerouslySetInnerHTML:{__html:o}})})));Qf.displayName="TextThingView";const eb=(0,i.memo)((({content:e})=>{const{soundcloudURL:t}=e;return i.createElement(Pf,null,i.createElement(Sf.Z,{controls:!0,url:t}))}));eb.displayName="SoundcloudThingView";const tb=(0,i.memo)((({content:e})=>{const{spotifyURL:t}=e;return i.createElement(Pf,null,i.createElement(Ef,{title:"Spotify Embed",src:t,allowFullScreen:!0,scrolling:"no",allow:"encrypted-media;",sandbox:"allow-scripts allow-same-origin allow-top-navigation allow-popups"}))}));tb.displayName="SpotifyThingView";const ab=(0,i.memo)((({content:e,mode:t})=>{const{youtubeID:a}=e;return i.createElement(Sf.Z,{light:!0,playing:!0,controls:!0,playIcon:i.createElement("svg",{className:os()("youtube-play-button"),height:"100%",version:"1.1",viewBox:"0 0 68 48",width:"100%"},i.createElement("path",{className:"ytp-large-play-button-bg",d:"M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z",fill:"#f00"}),i.createElement("path",{d:"M 45,24 27,14 27,34",fill:"#fff"})),previewTabIndex:"write"===t?-1:0,url:`https://www.youtube.com/watch?v=${a}`})}));ab.displayName="YoutubeThingView";const nb=(0,i.memo)((({type:e,mode:t,content:a,rawThingStyles:n,parsedThingStyles:o,renderThingStylesAtLeaf:s,position:r,hyperlink:l,altText:c,source:d,isEditingCopy:u,safeMode:m,contentOverride:g,editorVersion:p,siteRoles:h,renderOptions:f,temporaryFixOptions:b})=>{switch(e){case zt.Button:return i.createElement(Mf,{height:r.height,hyperlink:null!=l?l:null,content:a,isEditing:u});case zt.CodeEmbed:return i.createElement(Lf,{content:a,safeMode:m});case zt.Drawing:return i.createElement(Gf,{content:a});case zt.Codepen:return i.createElement(kf,{content:a});case zt.GIF:return i.createElement(Wf,{position:r,mode:t,content:a,source:null!=d?d:null});case zt.GoogleForms:return i.createElement(Ff,{content:a});case zt.Image:return i.createElement($f,{content:a,mode:t,position:r,altText:c,siteRoles:h,renderOptions:f});case zt.RichButton:return i.createElement(Zf,{content:a,parsedThingStyles:o});case zt.Shape:return i.createElement(Ig,{content:a});case zt.Soundcloud:return i.createElement(eb,{content:a});case zt.Spotify:return i.createElement(tb,{content:a});case zt.Substack:return i.createElement(xf,{content:a});case zt.Text:return f.useLegacyTextView?i.createElement(Jf,{lineHeight:n.lineHeight,content:a}):i.createElement(Qf,{content:a,htmlContentOverride:g,temporaryFixOptions:b});case zt.Twitch:return i.createElement(Tf,{content:a});case zt.Twitter:return i.createElement(Rf,{content:a});case zt.Typeform:return i.createElement(Df,{content:a});case zt.Youtube:return i.createElement(ab,{content:a,mode:t});default:return i.createElement(i.Fragment,null)}}));nb.displayName="ThingViewContent";const ib=[zt.RichButton];function ob(e){return{renderAtLeaf:i.useMemo((()=>ib.includes(e.type)),[e.type]),styles:i.useMemo((()=>{const{background:t,blur:a,border:n,borderRadius:i,boxShadow:o,dropShadow:s,overflow:r,opacity:l,padding:c}=e.styles,d={};let u=[];if(void 0!==t&&(d.background=t),void 0!==a&&u.push(`blur(${a}px)`),void 0!==n&&(d.border=n),void 0!==i&&(d.borderRadius=`calc(${i} * var(--rpx))`),void 0!==o&&(d.boxShadow=o),void 0!==s&&u.push(`drop-shadow(${s})`),void 0!==l&&(d.opacity=l),void 0!==r&&(d.overflow=r),void 0!==c&&(d.padding=`${c}rem`),u.length>0){const e=u.join(" ");d.filter=e,d.msFilter=e,d.WebkitFilter=e}return d}),[e.styles])}}const sb=fs((({idOverride:e,thing:t,mode:a="read",children:n=null,isEditingCopy:o=!1,safeMode:s,className:r,style:l,contentOverride:c,positionOverride:d,hideContents:u=!1,editorVersion:m,siteRoles:g=[],renderOptions:h=Ko,temporaryFixOptions:f},b)=>{var y;const{ID:v,altText:w,locked:E,styles:k,source:F,position:x,properties:{effects:S,hyperlink:I,hyperlinkTarget:C,hideOn:P,htmlId:T,pointerEvents:N}}=t,{lineHeight:R}=k,{renderAtLeaf:D,styles:O}=ob(t),A=null!==(y=null!=e?e:T)&&void 0!==y?y:_h(v),M=(0,i.useMemo)((()=>Gh(null!=d?d:x)),[x,d]),{dataType:z,dataEmbedType:L}=(0,i.useMemo)((()=>{return function(e){return!function(e){return Hh.has(e)}(e)}(e=t.type)?{dataType:"embed",dataEmbedType:e}:{dataType:e,dataEmbedType:void 0};var e}),[t.type]),j=(0,i.useMemo)((()=>function(e,t){if(void 0===e)return void 0===t?"":"grow-on-hover";const a=[];return e.onHover===Rt.Grow&&a.push("grow-on-hover"),a.join(" ")}(S,I)),[S,I]),B=(0,i.useMemo)((()=>{let e={};return"0.0.0"===m&&(e=Object.assign(Object.assign({},e),{lineHeight:null!=R?R:p.defaultLineHeight})),D||(e=Object.assign(Object.assign({},e),O)),Object.assign(Object.assign(Object.assign({},M),l),e)}),[l,M,D,O]),U=i.useMemo((()=>os()("block",r,j,{"editing-copy":o,"overflow-visible":"hidden"!==(null==k?void 0:k.overflow),"hide-on-desktop":P===Dt.Desktop,"hide-on-mobile":P===Dt.Mobile,hyperlinked:N!==At.None&&I,"no-pointer-events":N===At.None,locked:E,"write-mode":"write"===a})),[j,o,k,P,I,E,a,r]);return i.createElement("div",{ref:b,id:A,"data-block-id":t.ID,"data-type":z,"data-embed":L,className:U,style:B},i.createElement(wf,{mode:a,hyperlink:I,altText:w,target:C,pointerEvents:N}),!u&&i.createElement(nb,{type:t.type,mode:a,content:t.content,rawThingStyles:k,parsedThingStyles:O,renderThingStylesAtLeaf:D,position:x,hyperlink:I,source:F,altText:w,isEditingCopy:o,safeMode:s,contentOverride:c,editorVersion:m,siteRoles:g,renderOptions:h,temporaryFixOptions:f}),n)}),((e,t)=>j()(e,t)));sb.displayName="ThingView";const rb=(0,i.memo)((({width:e=16,color:t="#000"})=>i.createElement("div",{className:x("spinning-loader")},i.createElement(xs,{icon:ns.AX7,className:"fa-spin",style:{width:e,height:e,color:t}}))));rb.displayName="SpinningLoader";const lb=(0,i.memo)((({thing:e})=>{if((null==e?void 0:e.type)!==zt.Image)return i.createElement(i.Fragment,null);const t=null==e?void 0:e.content;return"data:"!==new URL(t.URL).protocol?i.createElement(i.Fragment,null):i.createElement("div",{className:x("thing-view-uploading-indicator")},i.createElement(rb,null))}));lb.displayName="UploadingIndicator";const cb=(0,i.memo)((({hideOn:e,selected:t})=>t?i.createElement(i.Fragment,null):i.createElement("div",{className:"visibility-label"},e===Dt.Desktop&&i.createElement(i.Fragment,null,i.createElement(xs,{icon:ns.tc$}),i.createElement("span",null,"Hidden on Desktop")),e===Dt.Mobile&&i.createElement(i.Fragment,null,i.createElement(xs,{icon:ns.QUp}),i.createElement("span",null,"Hidden on Mobile")))));cb.displayName="VisibilityLabel";const db=(0,i.memo)((({thingId:e})=>{const t=ol(),a=t.useStore(yl),n=t.useStore(_l),o=t.useStore((t=>{var a;return null===(a=t.page.inProgress)||void 0===a?void 0:a.things.get(e)})),s=t.useStore((t=>{var a;return null===(a=t.page.stable)||void 0===a?void 0:a.things.get(e)})),r=t.useStore(_c),l=t.useStore((t=>_c(t).includes(e))),c=t.useStore((t=>t.editor.hoveredId===e)),d=(r.has(e),i.useMemo((()=>{var t;return I(x("editor-thing-view-ui"),{hovered:c&&(1!==r.size||!r.has(e)||void 0!==n),selected:l&&(1!==r.size||!r.has(e)||void 0!==n),locked:null!==(t=null==s?void 0:s.locked)&&void 0!==t&&t})}),[c,l,r,n,null==s?void 0:s.locked])),u=i.useMemo((()=>{var e;return Gh(null!==(e=null==o?void 0:o.position)&&void 0!==e?e:s.position)}),[null==o?void 0:o.position,null==s?void 0:s.position]),m=null==s?void 0:s.properties.hideOn;return a===rl.Editing?i.createElement("div",{className:d,style:u},i.createElement(cb,{hideOn:m,selected:l}),i.createElement(lb,{thing:s})):i.createElement(i.Fragment,null)}));db.displayName="EditorThingViewUi";const ub=(0,i.memo)((({thingId:e})=>ol().useStore(yl)!==rl.Editing?i.createElement(i.Fragment,null):i.createElement(db,{thingId:e})));ub.displayName="EditorThingViewUiContainer";const mb=(0,i.memo)((({thingId:e,thingViewRef:t})=>(function(e,t){const a=ol(),n=a.useStore(yl),o=void 0!==a.useStore(_l);(0,i.useEffect)((()=>{if(us())return;const{current:e}=t;return o&&n===rl.Editing?(null==e||e.removeEventListener("pointerenter",s),null==e||e.removeEventListener("pointerleave",r)):(null==e||e.addEventListener("pointerenter",s),null==e||e.addEventListener("pointerleave",r)),()=>{null==e||e.removeEventListener("pointerenter",s),null==e||e.removeEventListener("pointerleave",r)}}),[o,n]);const s=(0,i.useCallback)((()=>{a.setHovered(e)}),[a,e]),r=(0,i.useCallback)((()=>a.setHovered(void 0)),[a]);(0,i.useCallback)((()=>{}),[a,e])}(e,t),i.createElement(i.Fragment,null))));mb.displayName="EditorThingViewHooks";const gb=(0,i.memo)((({stable:e,inProgress:t})=>{var a;const n=ol(),{renderAtLeaf:o,styles:s}=ob(null!=t?t:e),r=i.useRef(null),l=i.useCallback((e=>{n.mutateThings((t=>t.transformContent((t=>Object.assign(Object.assign({},t),{richButtonText:Object.assign(Object.assign({},t.richButtonText),{text:e})})))),{inProgress:!0})}),[]),c=i.useCallback((()=>{}),[]),d=i.useCallback((()=>{}),[]),u=n.useStore(Bc);return i.useEffect((()=>{var e;u===Ce.InlineTextEditing&&(null===(e=r.current)||void 0===e||e.focus())}),[u]),i.createElement("div",{id:S("rich-button-editor")},i.createElement(Zf,{ref:r,content:null!==(a=null==t?void 0:t.content)&&void 0!==a?a:e.content,parsedThingStyles:s,editable:!0,onChange:l,onFocus:d,onBlur:c}))}));gb.displayName="RichButtonEditor";const pb=x("editor-thing-view"),hb=fs(((e,t)=>{const{idOverride:a,thingId:n,children:o,isEditingCopy:s,className:r,style:l,contentOverride:c,renderInRoot:d,hideContents:u}=e,m=ol(),g=(0,i.useRef)(null),h=(0,gs.Z)(g,t),f=m.useStore((e=>_c(e).includes(n))),b=m.useStore(Bc),y=m.useStore((e=>{var t;return null===(t=e.page.inProgress)||void 0===t?void 0:t.things.get(n)})),v=m.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.things.get(n)})),w=m.useStore((e=>e.interface.safeMode)),E=m.useStore(yl),k=b===Ce.TextEditing&&f,F=(0,i.useMemo)((()=>{var e;return I(pb,{[r]:void 0!==r,hidden:k&&!s,locked:null!==(e=null==v?void 0:v.locked)&&void 0!==e&&e})}),[r,k,s,null==v?void 0:v.locked]),x=i.useMemo((()=>{}),[]),S=m.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.ID})),C=i.useMemo((()=>{const e=Ko;return S===dd.ID&&(e.useOptimizedImages=!0),e}),[S]),P=(0,i.useMemo)((()=>null!=y?y:v),[v,y]),T=(0,i.useMemo)((()=>E===rl.Editing?"write":"read"),[E]),N=(0,i.useMemo)((()=>{if(d)return pa.transform(P.position,{from:null==P?void 0:P.parentId,to:void 0})}),[P,d]);return v&&P?f&&(null==v?void 0:v.type)===zt.RichButton?i.createElement(i.Fragment,null,i.createElement(mb,{thingId:P.ID,thingViewRef:g}),i.createElement(ub,{thingId:P.ID}),i.createElement(sb,{idOverride:a,ref:h,key:`editor-thing-view-${v.ID}`,className:F,thing:P,mode:T,isEditingCopy:s,safeMode:w,contentOverride:c,positionOverride:N,editorVersion:p.currentEditorVersion,hideContents:!0,renderOptions:C},i.createElement(gb,{stable:v,inProgress:y}),b===Ce.Layout&&i.createElement("div",{className:"gesture-hijack-protector"},f&&void 0===y&&i.createElement("div",{className:"cursor-cover"})))):i.createElement(i.Fragment,null,i.createElement(mb,{thingId:P.ID,thingViewRef:g}),i.createElement(ub,{thingId:P.ID}),i.createElement(sb,{idOverride:a,ref:h,key:`editor-thing-view-${v.ID}`,className:F,thing:P,mode:T,isEditingCopy:s,safeMode:w,contentOverride:c,positionOverride:N,editorVersion:p.currentEditorVersion,hideContents:u,temporaryFixOptions:x,renderOptions:C},o,b!==Ce.TextEditing&&i.createElement("div",{className:"gesture-hijack-protector"},f&&void 0===y&&i.createElement("div",{className:"cursor-cover"})))):i.createElement(i.Fragment,null)}));hb.displayName="EditorThingView";const fb=new de({caller:"EditorTreeNode"}),bb=(0,i.memo)((({nodeId:e})=>{const t=ol(),a=t.useStore((t=>t.page.stableThingTree.get(e))),n=t.useStore((t=>{var a;return null===(a=t.page.inProgressThingTree)||void 0===a?void 0:a.get(e)})),o=(0,i.useMemo)((()=>{var a;return void 0!==e?null===(a=t.selectOnce((t=>{var a;return null===(a=t.page.stable)||void 0===a?void 0:a.things.get(e)})))||void 0===a?void 0:a.type:void 0}),[t,e]),s=(0,i.useMemo)((()=>{var e,t;return null!==(t=null!==(e=null==n?void 0:n.children)&&void 0!==e?e:null==a?void 0:a.children)&&void 0!==t?t:[]}),[a,n]),r=(0,i.useMemo)((()=>{var e;return null!==(e=null==n?void 0:n.parentId)&&void 0!==e?e:null==a?void 0:a.parentId}),[a,n]);return void 0===e?i.createElement(i.Fragment,null,s.map((e=>i.createElement(bb,{key:`node-${e}`,nodeId:e})))):void 0!==o&&o!==zt.Group?void 0===e?(fb.error("Attempt to render a leaf node with an undefined ID"),i.createElement(i.Fragment,null)):i.createElement(hb,{thingId:e}):i.createElement(vf,{groupId:e,isRoot:void 0===r},s.map((e=>i.createElement(bb,{key:`node-${e}`,nodeId:e}))))}));bb.displayName="EditorTreeNode";const yb=(0,i.memo)((({pageStyle:e,relativeHeight:t,children:a})=>{var n,o;const s=ol(),r=null!==(n=s.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.settings.referenceWidth})))&&void 0!==n?n:p.maxWindowWidthPx,l=null===(o=s.useStore((e=>{var t;return!(null===(t=e.page.stable)||void 0===t?void 0:t.site.settings.hideAttribution)})))||void 0===o||o,c=s.useStore(yl),d=s.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.ID})),u=s.useStore(gl);return i.createElement(i.Fragment,null,l&&c===rl.Previewing&&d!==dd.ID&&i.createElement(mh,null),i.createElement(gh,{id:Zt,referenceWidth:r,title:"",pageStyle:e,showMmmWatermark:!1},a,u&&i.createElement(bb,{nodeId:void 0})))}));yb.displayName="EditorPageView";var vb=a(51292),wb=a.n(vb);class Eb{constructor(e){this.url=new URL("https://fonts.googleapis.com/css2"),e.map((e=>Eb.getFamily(e))).forEach((e=>{e&&this.url.searchParams.append("family",e)}));const t=e.map((e=>e.glyphs)).filter((e=>void 0!==e)).pop();t&&this.url.searchParams.append("text",t.join("")),this.url.searchParams.append("display","swap")}getUrl(){return decodeURIComponent(this.url.toString())}static getFamily(e){const{font:t,styles:a}=e,n=(e=>{var t;return null===(t=so.get(e))||void 0===t?void 0:t.googleFontsName})(t);if(!n)return;const i=fo(t,a);if(0===i.length)return;const o=i.map((e=>kb(e))).sort().join(";");return`${n}:ital,wght@${o}`}}const kb=e=>{const[t,a]=(e=>{const[t,a]=e.toString().split("-");return[t,parseInt(a)]})(e);return`${"italic"===t?1:0},${a}`},Fb=new de({caller:"useFontLoader"}),xb=[zt.Text,zt.Button,zt.RichButton],Sb=(e,t)=>{var a;const{type:n,marks:i,content:o}=e;if("text"===n){if(!i)return[];const{font:e,isItalic:a,weight:n}=Ib(i);if(!e&&!a&&!n)return[];const o=((e,t)=>go[e][t])(a?"italic":"regular",null!=n?n:400);let s=[o];return o!==Ea.Regular400&&s.push(Ea.Regular400),[{font:null!=e?e:t,styles:s}]}return null!==(a=null==o?void 0:o.flatMap((e=>Sb(e,t))))&&void 0!==a?a:[]},Ib=e=>{var t,a;const n={font:void 0,isItalic:!1,weight:void 0};n.isItalic=void 0!==e.find((e=>"italic"===e.type));const i=e.find((e=>"textStyle"===e.type));return void 0!==i&&(n.font=null===(t=i.attrs)||void 0===t?void 0:t.font,n.weight=null===(a=i.attrs)||void 0===a?void 0:a.weight),e.find((e=>"bold"===e.type))&&(n.weight=700),n},Cb=(0,i.memo)((({children:e})=>{const t=ol(),a=t.useStore(gl),n=t.useStore(vc),o=t.useStore((e=>{var t;return null===(t=e.page.inProgress)||void 0===t?void 0:t.style}));t.useStore((e=>{var t;return null===(t=e.page.inProgress)||void 0===t?void 0:t.relativeHeight})),(0,i.useEffect)((()=>{if(void 0===n)return;const e=(e=>{let t=new Array;return e.filter((e=>xb.includes(e.type))).forEach((e=>{if(e.type===zt.Text){const a=e.content,n=a.font;t.push({font:n,styles:[Ea.Regular400]});try{const e=JSON.parse(a.text),i=Sb(e,n);t=t.concat(i)}catch(e){}}else if(e.type===zt.Button){const a=e.content.font;t.push({font:a,styles:[Ea.Regular400]})}else if(e.type===zt.RichButton){const a=e.content.richButtonText.font;t.push({font:a,styles:[Ea.Regular400]})}})),(e=>{const t=new Map;return e.forEach((e=>{const{font:a}=e;t.has(a)?t.set(a,lo(e,t.get(a))):t.set(a,e)})),Array.from(t.values())})(t)})(n.things.toIndexedSeq().toArray());t.loadFonts(e)}),[null==n?void 0:n.ID]),(()=>{const e=ol();(0,i.useEffect)((()=>{e.registerCallback("onFontLoad",((e,{fonts:t})=>{t.forEach((e=>{var t;const a=Eb.getFamily(e);void 0!==a&&(Fb.debug("Loading fonts:",{googleFontsString:a}),wb().load({google:{families:[a],text:null===(t=e.glyphs)||void 0===t?void 0:t.join("")},fontactive:()=>{},classes:!1}))}))}))}),[])})();const s=i.useMemo((()=>{var e;return a&&null!==(e=null!=o?o:null==n?void 0:n.style)&&void 0!==e?e:p.defaultPageStyle}),[a,o,null==n?void 0:n.style]);return i.createElement(yb,{pageStyle:s,relativeHeight:p.defaultPageHeight},a&&e)}));var Pb;Cb.displayName="EditorRenderer",function(e){e[e.Normal=0]="Normal",e[e.Mini=1]="Mini"}(Pb||(Pb={}));const Tb=(0,i.memo)((({label:e,backgroundColor:t,iconString:a,size:n=Pb.Normal,textColor:o="rgba(0, 0, 0, 0.64)",onClick:s,style:r={}})=>i.createElement("button",{className:F()("mmm-badge",{mini:n===Pb.Mini}),style:Object.assign({backgroundColor:t,color:o},r),onClick:s,type:"button"},void 0!==a&&i.createElement("i",{className:`fas ${a}`}),e))),Nb=({color:e,label:t,setPathStyle:a,pathStyle:n,children:o,onClick:s})=>i.createElement("button",{className:I("color-option",{active:e===n[0]}),style:{backgroundColor:e},type:"button",onClick:t=>{if(void 0!==s)return void s(t);const i=z()(n);i[0]=e,a(i)},"aria-label":t},o);Nb.displayName="DrawingColorOption";const Rb=({strokeWidth:e,label:t,setPathStyle:a,pathStyle:n,children:o,onClick:s})=>i.createElement("button",{className:I("stroke-option",{active:Math.abs(e-n[1])<1e-6}),style:{width:e,height:e},type:"button",onClick:t=>{if(void 0!==s)return void s(t);const i=z()(n);i[1]=e,a(i)},"aria-label":t},o);Rb.displayName="DrawingStrokeOption";const Db=Math.min(Math.min(ta().width,p.maxWindowWidthPx),p.maxWindowWidthPx)/p.minWindowWidthPx,Ob=(0,A.aV)([[4*Db,"Thin"],[7*Db,"Regular"],[12*Db,"Thick"]]),Ab=7*Db,Mb=[["#111111","Black"],["#0000ff","Blue"],["#ff0000","Red"],["#00ff00","Green"],["#ffffff","White"]],zb=({canSave:e,setPathStyle:t,pathStyle:a,saveDrawing:n})=>{const o=ol();return i.createElement("div",{id:S("drawing-overlay-toolbar")},i.createElement(Js,{className:"container",width:"fill"},i.createElement(Ws,{style:{gap:16,alignItems:"center"},minimalPadding:!0},i.createElement(Zs,{className:"cancel-button",label:"Exit",vibe:"secondary",onClick:()=>{o.enableGestureDetection(!0).hideEditorUi(!1).resetEditor()}}),i.createElement(Eg,{id:"drawing-color-picker",fill:a[0],theme:"light",size:"large",onChange:e=>{const n=z()(a);n[0]=e,t(n)},popoverPlacement:"above"}),i.createElement(Fu,null),i.createElement("div",{className:"drawing-color-picker"},Mb.map((([e,n])=>i.createElement(Nb,{key:`color-${n}`,color:e,label:n,setPathStyle:t,pathStyle:a})))),i.createElement(Fu,{hideOnMobile:!0}),i.createElement("div",{className:"stroke-width-selector"},Ob.map((([e,n])=>i.createElement(Rb,{key:`stroke-width-${n}`,strokeWidth:e,label:n,setPathStyle:t,pathStyle:a})))),i.createElement(Zs,{label:"Save",vibe:"neutral",disabled:!e,options:{theme:"light"},onClick:()=>{n(),o.enableGestureDetection(!0).hideEditorUi(!1).resetEditor()}}),i.createElement(Tb,{size:Pb.Mini,label:"Experimental",backgroundColor:"#8a2be2",style:{color:"#fff",position:"absolute",top:0,right:12,transform:"translateY(-100%)",borderRadius:"4px 4px 0 0"},onClick:()=>{(0,r.Am)("Drawing is still experimental, so things may break!")}}))))};zb.displayName="DrawingOverlayToolbar";const Lb=Cu()(),jb=({})=>{const{handlePointerDown:e,handlePointerMove:t,handlePointerUp:a,setStyle:n,style:o,inProgressPoints:s,paths:r,undo:l,redo:c,saveDrawing:d}=(()=>{const e=ol(),[t,a]=(0,i.useState)([Lb,Ab,.5]),[n,o]=(0,i.useState)((0,A.aV)()),[s,r]=(0,i.useState)((0,A.aV)()),[l,c]=(0,i.useState)((0,A.Kq)());return{handlePointerDown:e=>{e.target.setPointerCapture(e.pointerId),c((0,A.Kq)());const t=[_f(e.pageX),_f(e.pageY)];r((0,A.aV)([t]))},handlePointerMove:e=>{if(1!==e.buttons)return;const t=[_f(e.pageX),_f(e.pageY)];r((e=>e.push(t)))},handlePointerUp:e=>{o(n.push([s,t])),r((0,A.aV)())},style:t,setStyle:a,inProgressPoints:s,paths:n,undo:()=>{const e=n.last();void 0!==e&&(o(n.pop()),c(l.push(e)))},redo:()=>{const e=l.peek();void 0!==e&&(c(l.pop()),o(n.push(e)))},saveDrawing:()=>{if(void 0===e.selectOnce(vc))return;const[t,a]=(e=>{let t=(0,A.aV)(),a=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,i=0,o=0;e.forEach((([e,s])=>{let r=(0,A.aV)([e.get(0)]);for(let t=1;t<e.size;t++){const[s,l]=e.get(t-1),[c,d]=e.get(t);a=Math.min(c,a),n=Math.min(d,n),i=Math.max(c,i),o=Math.max(d,o),r=r.push([c-s,d-l])}t=t.push([r,s])})),t=t.map((([e,t])=>{const[i,o]=e.get(0);return[e.set(0,[i-a,o-n]),t]}));const s=JSON.stringify(t);return[Uf().encodeBase64(Uf().compress(s)),{minX:a,minY:n,maxX:i,maxY:o,width:i-a,height:o-n}]})(n),{minX:i,minY:o,maxX:s,maxY:r}=a,[l,c]=[(s+i)/2,(r+o)/2],{scrollOffset:d}=na(),u=pa.getMostLikelySectionId(),m={height:r-o,width:s-i,x:l,y:c+d[1],rotationDeg:0,zIndex:1},g=pa.transform(m,{from:void 0,to:u});delete g.zIndex;const p={drawingPaths:t,drawingHeight:r-o,drawingWidth:s-i};e.resetEditor().enableGestureDetection(!0).hideEditorUi(!1).buildThings((e=>e.add({type:zt.Drawing,content:p}).patchPosition(g).setParentId(u)))}}})();return i.createElement("div",{id:S("drawing-overlay")},i.createElement("svg",{id:S("drawing-overlay-canvas"),onPointerDown:e,onPointerMove:t,onPointerUp:a,onKeyDown:e=>{(e.metaKey||e.ctrlKey)&&("y"===e.key&&(e.preventDefault(),e.stopPropagation(),c()),"z"===e.key&&(e.preventDefault(),e.stopPropagation(),e.shiftKey?c():l()))},tabIndex:0},r.map((([e,t])=>i.createElement(Hf,{key:JSON.stringify(e),style:t,points:e}))),i.createElement(Hf,{key:JSON.stringify(s),style:o,points:s})),i.createElement(zb,{canSave:r.size>0,setPathStyle:n,pathStyle:o,saveDrawing:d}))};jb.displayName="DrawingOverlay";const Bb=(0,i.memo)((({})=>{const e=ol().useStore((e=>e.editor.modeHandler));return(null==e?void 0:e.name)===Ce.Drawing?i.createElement(jb,null):i.createElement(i.Fragment,null)}));Bb.displayName="DrawingManager";var Ub=a(47367);const _b=(0,i.memo)((({children:e})=>i.createElement("div",{className:x("toolbar-fixed-region")},e)));_b.displayName="ToolbarFixedRegion";const Hb=(0,i.memo)((({children:e})=>i.createElement("div",{className:x("toolbar-scrollable-region")},e)));Hb.displayName="ToolbarScrollableRegion";const Gb=(0,i.memo)((({tooltipOptions:e})=>{const t=ol(),a=i.useCallback((()=>{const e=t.selectOnce((e=>{var t,a;return null!==(a=null===(t=e.page.stable)||void 0===t?void 0:t.settings.referenceWidth)&&void 0!==a?a:p.maxWindowWidthPx}));t.mutateThings((t=>t.rowAlign(e))),Hs.play("small-crunch")}),[]),n=i.useCallback((()=>{t.mutateThings((e=>e.columnAlign())),Hs.play("small-crunch")}),[]);return i.createElement(i.Fragment,null,i.createElement(Su,{label:"Row Align",icon:ns.UiH,tooltipOptions:e,onClick:a,noSfx:!0}),i.createElement(Su,{label:"Column Align",icon:ns.liD,tooltipOptions:e,onClick:n,noSfx:!0}))}));Gb.displayName="SmartAlignButton";const qb=({tooltipOptions:e})=>{const t=ol(),a=t.useStore((e=>e.interface.isCodeEditorActive)),{showOverlay:n}=hs(),o=i.useCallback((()=>{w({event:"clicked-edit-code-in-canvas-toolbar",location:"canvas-toolbar"}),t.toggleCodeEditor(!0)}),[]);return i.createElement(i.Fragment,null,i.createElement(Su,{active:a,label:"Edit Code",icon:ns.IwR,tooltipOptions:e,onClick:o}))};qb.displayName="CodeEmbedCanvasToolbarButton";const Wb=S("rich-button-size-popover"),Vb=(0,i.memo)((({targetRef:e,placement:t,toggleId:a})=>{const n=ol();ql(Wb);const o=i.useCallback((e=>{"regular"===e?n.mutateThings((e=>e.setWidth(Vo.defaultPosition.width).setHeight(Vo.defaultPosition.height))):n.mutateThings((e=>e.setWidth(Vo.defaultPosition.height).setHeight(Vo.defaultPosition.height)))}),[]);return i.createElement(Vd,{id:Wb,targetRef:e,options:{margin:14},placement:t,idsToIgnoreForOutsideClick:[a]},i.createElement($d,null,i.createElement(Qs,null,i.createElement(Kd,null,i.createElement(Zd,null,"Default Sizes"),i.createElement(Yd,{onClick:()=>o("regular")},"Regular"),i.createElement(Yd,{onClick:()=>o("square")},"Square")))))}));Vb.displayName="RichButtonIconPopover";const $b=(0,i.memo)((({toolbarSettings:e})=>{const t=i.useRef(null),{toggleOverlay:a}=hs(),n=i.useCallback((()=>{a(Wb)}),[a]),o=S("rich-button-size-button");return i.createElement(i.Fragment,null,i.createElement(Su,{ref:t,id:o,label:"Default Sizes",icon:ns.k2u,tooltipOptions:Gy,onClick:n}),i.createElement(Vb,{toggleId:o,placement:"above"===e.placement?"above":"below",targetRef:t}))}));$b.displayName="RichButtonIconButton";const Yb=(0,i.memo)((({baseId:e,active:t,onChange:a,label:n,popoverPlacement:o,tooltipOptions:s})=>{var r;ol();const l=`${e}-button`,c=`${e}-popover`,d=(0,i.useRef)(null),u=i.useMemo((()=>{return t?(e=t,so.get(e)):void 0;var e}),[t]),{toggleOverlay:m}=hs(),g=i.useCallback((()=>{m(c)}),[m,c]),p=i.useMemo((()=>({fontFamily:null==u?void 0:u.cssName,fontWeight:400})),[u]);return i.createElement(i.Fragment,null,i.createElement(Zm,{id:l,ref:d,label:null!=n?n:"Font",tooltipOptions:s,onClick:g,style:p},null!==(r=null==u?void 0:u.cssName)&&void 0!==r?r:""),i.createElement(ou,{id:c,buttonId:l,active:t,targetRef:d,onChange:a,placement:o}))}));Yb.displayName="FontPicker";const Xb=S("rich-button-font-picker"),Kb=(0,i.memo)((({toolbarSettings:e})=>{var t;const a=ol(),n=a.useStore(_c),o=a.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.things.get(n.first())})),s=i.useCallback((e=>{a.mutateThings((t=>t.transformContent((t=>{const{richButtonText:a}=t;return Object.assign(Object.assign({},t),{richButtonText:Object.assign(Object.assign({},a),{font:e})})}))))}),[]),{tooltipOptions:r,placement:l}=e;return i.createElement(Yb,{baseId:Xb,active:null===(t=null==o?void 0:o.content.richButtonText)||void 0===t?void 0:t.font,onChange:s,tooltipOptions:r,popoverPlacement:l})}));function Zb(e){return e.replace("fas-","").replace("fab-","")}Kb.displayName="RichButtonFontPickerButton";const Jb=[St.FasHouse,St.FasLink,St.FasStar,St.FasCheck,St.FasArrowRight,St.FasHeart,St.FasEnvelope,St.FasInfo],Qb=[St.FabAmazon,St.FabApple,St.FabBandcamp,St.FabDiscord,St.FabEtsy,St.FabFacebook,St.FabGithub,St.FabInstagram,St.FabLinkedinIn,St.FabPatreon,St.FabPaypal,St.FabSnapchat,St.FabSoundcloud,St.FabSpotify,St.FabTiktok,St.FabTelegram,St.FabTwitch,St.FabTwitter,St.FabWhatsapp,St.FabYoutube],ey=S("rich-button-popover"),ty=(0,i.memo)((({targetRef:e,placement:t})=>{const a=ol();ql(ey);const[n,o]=i.useState(void 0),s=Wh(a),r=i.useMemo((()=>{var e,t;return null===(t=null===(e=s[0])||void 0===e?void 0:e.content.richButtonIcon)||void 0===t?void 0:t.icon}),[s]),l=i.useMemo((()=>{var e;return null===(e=s[0])||void 0===e?void 0:e.content.richButtonIcon}),[s]);i.useEffect((()=>{void 0!==r&&o(r)}),[o,r]);const c=i.useCallback((e=>()=>{a.mutateThings((t=>t.transformContent((t=>{const{richButtonIcon:a}=t;return Object.assign(Object.assign({},t),{richButtonIcon:Object.assign(Object.assign({},a),{icon:e})})}))))}),[]),d=i.useCallback((e=>()=>{a.mutateThings((t=>t.transformContent((t=>{var a,i;const{richButtonIcon:s}=t;let r=Object.assign({},s);return void 0===e?(o(null==s?void 0:s.icon),r=void 0):r=Object.assign(Object.assign({},r),{placement:e,icon:null!==(i=null!==(a=null==r?void 0:r.icon)&&void 0!==a?a:n)&&void 0!==i?i:St.FasLink}),Object.assign(Object.assign({},t),{richButtonIcon:r,richButtonText:Object.assign({},t.richButtonText)})}))))}),[n,o]);return i.createElement(Vd,{id:ey,placement:t,options:{margin:14},targetRef:e,idsToIgnoreForOutsideClick:[ay]},i.createElement($d,null,i.createElement(Kd,{withBorder:!0},i.createElement(Vs,{mainAxisAlign:"space-around"},i.createElement(Su,{label:"Left Align Icon",onClick:d(It.Left),active:(null==l?void 0:l.placement)===It.Left,style:{width:32}},i.createElement(xs,{icon:ns.I6v})),i.createElement(Su,{label:"Hide Icon",onClick:d(void 0),active:void 0===l,style:{width:32}},i.createElement(xs,{icon:ns.Aq})),i.createElement(Su,{label:"Right Align Icon",onClick:d(It.Right),active:(null==l?void 0:l.placement)===It.Right,style:{width:32}},i.createElement(xs,{icon:ns.xfv})))),i.createElement(Kd,{height:180,scrollable:!0},i.createElement(xg,{cellWidth:32,cellHeight:32,style:{padding:4}},Jb.map((e=>i.createElement(Sg,{id:e,key:e},i.createElement(Su,{label:Zb(e),active:e===r,onClick:c(e)},i.createElement(Kf,{renderableIcon:e,color:e===r?"#000":"#fff",size:20}))))),Qb.map((e=>i.createElement(Sg,{id:e,key:e},i.createElement(Su,{label:Zb(e),active:e===r,onClick:c(e)},i.createElement(Kf,{renderableIcon:e,color:e===r?"#000":"#fff",size:20})))))))))}));ty.displayName="RichButtonIconPopover";const ay=S("rich-button-icon-button"),ny=(0,i.memo)((({toolbarSettings:e})=>{const t=i.useRef(null),{toggleOverlay:a}=hs(),n=i.useCallback((()=>{a(ey)}),[a]);return i.createElement(i.Fragment,null,i.createElement(Su,{ref:t,id:ay,label:"Edit Icon",icon:ns.VmB,tooltipOptions:Gy,onClick:n}),i.createElement(ty,{placement:"above"===e.placement?"above":"below",targetRef:t}))}));ny.displayName="RichButtonIconButton";const iy={display:"flex",justifyContent:"center",alignItems:"center",height:"100%",padding:"0 8px 0 4px"},oy=(0,i.memo)((({})=>{const e=ol(),t=e.useStore(_c),a=e.useStore((e=>{var a,n,i;return null===(i=null===(n=null!==(a=e.page.inProgress)&&void 0!==a?a:e.page.stable)||void 0===n?void 0:n.things.get(t.first()))||void 0===i?void 0:i.content.richButtonColor})),n=i.useCallback(((a,n)=>{var i;const o=e.selectOnce((e=>e.page.inProgress)),s=e.selectOnce((e=>e.page.stable));let r=a;if(!yg.isHex(r)){const[e,t,n,i]=yg.array(a).map((e=>{var t;return null!==(t=parseFloat(e))&&void 0!==t?t:0}));r=yg.rgbToHex({r:e,g:t,b:n,a:i})}const l=Wo(r)?"#000":"#fff",c=null===(i=n?s:o)||void 0===i?void 0:i.things.filter((e=>t.has(e.ID))).valueSeq().toArray(),d=e=>Object.assign(Object.assign({},e),{richButtonColor:a,richButtonText:Object.assign(Object.assign({},e.richButtonText),{color:l})});n?e.cancelInProgressPage().mutateThings((e=>e.transformContent(d)),{thingsToMutate:c}):(void 0===o&&e.beginInProgressPage(),e.mutateThings((e=>e.transformContent(d)),{thingsToMutate:c,inProgress:!0}))}),[a,t]);return i.createElement("div",{className:"color-picker-option",style:iy},i.createElement(Eg,{id:"rich-button-color-picker",fill:a,onChange:n,popoverPlacement:"above"}))}));oy.displayName="RichButtonColorPicker";const sy=(0,i.memo)((({toolbarSettings:e})=>i.createElement(i.Fragment,null,i.createElement(oy,null),i.createElement(Kb,{toolbarSettings:e}),i.createElement($b,{toolbarSettings:e}),i.createElement(ny,{toolbarSettings:e}))));sy.displayName="RichButtonToolbarOptions";const ry=(0,i.memo)((({toolbarSettings:e})=>{const t=ol(),a=t.useStore(_c),n=t.useStore((e=>{var t,n,i,o;return null===(o=null===(i=null===(n=null!==(t=e.page.inProgress)&&void 0!==t?t:e.page.stable)||void 0===n?void 0:n.things.filter((e=>a.contains(e.ID))).first())||void 0===i?void 0:i.content)||void 0===o?void 0:o.shapeColor})),o=i.useCallback(((e,n)=>{var i;const o=t.selectOnce((e=>e.page.inProgress)),s=t.selectOnce((e=>e.page.stable)),r=null===(i=n?s:o)||void 0===i?void 0:i.things.filter((e=>a.has(e.ID))).valueSeq().toArray(),l=t=>Object.assign(Object.assign({},t),{shapeColor:e});n?t.cancelInProgressPage().mutateThings((e=>e.transformContent(l)),{thingsToMutate:r}):(void 0===o&&t.beginInProgressPage(),t.mutateThings((e=>e.transformContent(l)),{thingsToMutate:r,inProgress:!0}))}),[n,a]);return i.createElement("div",{className:"color-picker-option",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",padding:"0 4px"}},i.createElement(Eg,{id:"shape-color-picker",fill:n,onChange:o,popoverPlacement:e.placement}))}));function ly(e){var t;return null===(t=e.editor.modeState)||void 0===t?void 0:t.selection}ry.displayName="ShapeToolbarOptions";const cy=S("text-font-picker"),dy=(0,i.memo)((({toolbarSettings:e})=>{var t;const a=ol(),n=null===(t=a.useStore(ly))||void 0===t?void 0:t.font,o=i.useCallback((e=>{a.mutateTextStyle((t=>t.setFont(e)))}),[]),{tooltipOptions:s,placement:r}=e;return i.createElement(Yb,{baseId:cy,active:n,onChange:o,tooltipOptions:s,popoverPlacement:r})}));dy.displayName="TextFontPickerButton";const uy=(0,i.memo)((({id:e,toggleId:t,targetRef:a,placement:n,margin:o,value:s,onChange:r,options:l})=>{const[c,d]=(0,i.useState)(s),{showOverlay:u}=hs();(0,i.useEffect)((()=>{s!==c&&r(c,!1)}),[c]),(0,i.useEffect)((()=>{d(s)}),[s]);const m=(0,i.useCallback)((t=>{r(t,!0),u(e,!1)}),[e,u,r]);return i.createElement(Vd,{id:e,targetRef:a,placement:n,options:{margin:o},className:x("dropdown-input-combo"),idsToIgnoreForOutsideClick:[t]},i.createElement($d,null,i.createElement(Qs,null,i.createElement(Kd,null,l.map((({label:e,value:t,hint:a})=>i.createElement(Yd,{key:t,onClick:()=>m(t),hint:a,selected:s===t},e))),i.createElement(Fu,null),i.createElement(Tr,{id:`${e}-text-input`,valueEnvelope:{value:c,setValue:d},options:{size:"regular",theme:"dark"},fullWidth:!0})))))}));uy.displayName="DropdownInputCombo";const my=[{label:"Small",value:16,hint:"16"},{label:"Medium",value:20,hint:"20"},{label:"Large",value:32,hint:"32"},{label:"Extra Large",value:48,hint:"48"},{label:"Humongo",value:72,hint:"72"}],gy=S("font-size-dropdown"),py=S("font-size-button"),hy=(0,i.memo)((({toolbarSettings:e})=>{const t=ol(),a=(0,i.useRef)(null),{toggleOverlay:n}=hs(),o=t.useStore((e=>{var t;return null===(t=ly(e))||void 0===t?void 0:t.fontSize})),s=(0,i.useMemo)((()=>Uh(null!=o?o:0,2)),[o]);ql(gy);const r=(0,i.useCallback)((()=>{n(gy)}),[n]),l=(0,i.useCallback)(((e,a)=>{t.mutateTextStyle((t=>t.setFontSize(e,a)))}),[t]);return i.createElement(i.Fragment,null,i.createElement(Zm,{ref:a,id:py,onClick:r,label:"Font Size",tooltipOptions:{margin:14}},s),i.createElement(uy,{id:gy,toggleId:py,targetRef:a,placement:e.placement,options:my,value:s,onChange:l,margin:16}))}));hy.displayName="FontSizeToolbarButton";const fy=[{label:"Single",value:1,hint:"1"},{label:"Compact",value:1.25,hint:"1.25"},{label:"Regular",value:1.5,hint:"1.5"},{label:"Double",value:2,hint:"2"}],by=S("line-height-dropdown"),yy=S("line-height-button"),vy=(0,i.memo)((({tooltipOptions:e,toolbarSettings:t})=>{const a=ol(),n=(0,i.useRef)(null),{toggleOverlay:o}=hs(),s=a.useStore((e=>{var t;return null===(t=ly(e))||void 0===t?void 0:t.lineHeight}));ql(by);const r=(0,i.useCallback)((()=>{o(by)}),[o]),l=(0,i.useCallback)(((e,t)=>{a.mutateTextStyle((a=>a.setLineHeight(e,t)))}),[a]);return i.createElement(i.Fragment,null,i.createElement(Su,{ref:n,id:yy,label:"Line Height",icon:ns.xHc,tooltipOptions:e,onClick:r}),i.createElement(uy,{id:by,toggleId:yy,targetRef:n,placement:t.placement,options:fy,value:null!=s?s:vo.lineHeight,onChange:l,margin:16}))}));vy.displayName="LineHeightButton";const wy=(0,i.memo)((({toolbarSettings:e})=>{const t=ol(),a=t.useStore((e=>{var t;return null===(t=ly(e))||void 0===t?void 0:t.color})),n=i.useCallback(((e,a)=>{t.mutateTextStyle((t=>t.setColor(e,!1)))}),[]),o=i.useCallback((()=>{}),[]),s=i.useCallback((()=>{}),[]),{tooltipOptions:r,placement:l}=e;return i.createElement("div",{className:"color-picker-option",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",padding:"0 8px 0 4px"}},i.createElement(Eg,{id:"text-color-picker",fill:a,onChange:n,onPointerUp:o,onPointerDown:s,popoverPlacement:l}))}));wy.displayName="TextColorPickerButton";const Ey=(0,i.memo)((({tooltipOptions:e})=>{const t=ol(),a=t.useStore((e=>{var t;return null===(t=ly(e))||void 0===t?void 0:t.isBold})),n=(0,i.useCallback)((()=>{t.mutateTextStyle((e=>e.toggleBold()))}),[]);return i.createElement(Su,{label:"Toggle Bold",icon:ns.c_t,tooltipOptions:e,active:a,onClick:n})}));Ey.displayName="ToggleBoldButton";const ky=(0,i.memo)((({tooltipOptions:e})=>{const t=ol(),a=t.useStore((e=>{var t;return null===(t=ly(e))||void 0===t?void 0:t.isItalic})),n=(0,i.useCallback)((()=>{t.mutateTextStyle((e=>e.toggleItalic()))}),[]);return i.createElement(Su,{label:"Toggle Italic",icon:ns.cJz,tooltipOptions:e,active:a,onClick:n})}));ky.displayName="ToggleItalicButton";const Fy={margin:14},xy=(0,i.memo)((({toolbarSettings:e})=>{var t;const a=ol(),n=a.useStore(Bc);return i.createElement(i.Fragment,null,n===Ce.Layout&&i.createElement(Su,{label:"Edit Text",icon:ns.IwR,tooltipOptions:Fy,onClick:()=>{a.setMode(Ce.TextEditing)}}),n===Ce.TextEditing&&i.createElement(i.Fragment,null,i.createElement(wy,{toolbarSettings:e}),i.createElement(dy,{toolbarSettings:e}),i.createElement(Fu,null),i.createElement(hy,{toolbarSettings:e}),i.createElement(Fu,null),i.createElement(Ey,{tooltipOptions:Fy}),i.createElement(ky,{tooltipOptions:Fy}),i.createElement(Su,{label:"Toggle Underline",icon:ns.jmw,tooltipOptions:Fy,active:null===(t=a.getTipTapEditor())||void 0===t?void 0:t.isActive("underline"),onClick:()=>{a.mutateTextStyle((e=>e.toggleUnderline()))}}),i.createElement(Fu,null),i.createElement(Su,{label:"Text Alignment",icon:Sy(a.getTipTapEditor()),tooltipOptions:Fy,onClick:()=>{a.mutateTextStyle((e=>e.toggleTextAlign()))}}),i.createElement(vy,{toolbarSettings:e,tooltipOptions:Fy}),i.createElement(Fu,null),i.createElement(Su,{label:"Close",icon:ns.Gfx,tooltipOptions:Fy,onClick:()=>{Mc(a)}})))}));xy.displayName="TextCanvasToolbarOption";const Sy=e=>void 0===e||e.isActive({textAlign:"left"})?ns.elf:e.isActive({textAlign:"center"})?ns.MB3:e.isActive({textAlign:"right"})?ns.S3c:ns.elf,Iy=(0,i.memo)((({tooltipOptions:e})=>{const t=ol(),a=(0,i.useCallback)((()=>{const e=t.selectOnce(Me),a=t.selectOnce(_c);t.mutatePage((t=>t.bringForward(a.toArray(),!e.includes("meta"))),{addToChangeHistory:!0})}),[t]);return i.createElement(Su,{label:"Bring to Front",hint:"]",icon:ns.bqB,tooltipOptions:e,onClick:a})}));Iy.displayName="BringToFrontButton",new de({caller:"CanvasToolbarCloseButton"});const Cy=(0,i.memo)((({tooltipOptions:e})=>{const t=ol(),a=(0,i.useCallback)((()=>{w({event:"clicked-canvas-toolbar-close-button",location:"CanvasToolbar"}),t.resetEditor()}),[t]);return i.createElement(Su,{label:"Close Toolbar",className:x("close-toolbar-button"),hint:"ESC",icon:ns.Gfx,tooltipOptions:e,onClick:a})}));Cy.displayName="CloseButton";const Py=(0,i.memo)((({tooltipOptions:e})=>{const t=ol(),a=(0,i.useCallback)((()=>{w({event:"clicked-canvas-toolbar-delete-button",location:"CanvasToolbar"}),t.removeThings().resetEditor()}),[t]);return i.createElement(Su,{label:"Delete",hint:"DEL",icon:ns.XAH,tooltipOptions:e,onClick:a,destructive:!0})}));Py.displayName="DeleteButton";const Ty=(0,i.memo)((({tooltipOptions:e})=>{const t=ol(),a=(0,i.useCallback)((()=>{t.buildThings((e=>e.cloneSelectedThings()),!0)}),[t]);return i.createElement(Su,{label:"Duplicate",hint:(Ne.ED?"CTRL":"CMD")+"+D",icon:ns.WM4,tooltipOptions:e,onClick:a})}));Ty.displayName="DuplicateButton";const Ny=(0,i.memo)((({tooltipOptions:e})=>{var t,a;const n=ol(),o=n.useStore(_c),s=null!==(a=null===(t=n.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.things.filter((e=>o.has(e.ID))).map((e=>e.locked))})))||void 0===t?void 0:t.contains(!0))&&void 0!==a&&a,r=(0,i.useCallback)((()=>{n.mutateThings((e=>e.lock(!s)))}),[n,s]),l=s?"Unlock":"Lock";return i.createElement(Su,{label:l,icon:ns.byT,tooltipOptions:e,onClick:r,active:s})}));Ny.displayName="LockButton";const Ry=(0,i.memo)((({tooltipOptions:e})=>{const t=ol(),a=(0,i.useCallback)((()=>{const e=t.selectOnce(Me),a=t.selectOnce(_c);t.mutatePage((t=>t.sendBack(a.toArray(),!e.includes("meta"))),{addToChangeHistory:!0})}),[t]);return i.createElement(Su,{label:"Send to Back",hint:"]",icon:ns.E0H,tooltipOptions:e,onClick:a})}));Ry.displayName="SendToBackButton";const Dy=(0,i.memo)((({children:e,onChange:t,style:a,checked:n})=>i.createElement("label",{className:x("input-checkbox-container"),style:a},i.createElement("input",{checked:n,type:"checkbox",className:x("input-checkbox"),onChange:t}),i.createElement("span",null,e))));Dy.displayName="InputCheckbox";const Oy=(0,i.memo)((({idToClose:e,vibe:t="secondary",style:a})=>{const{showOverlay:n}=hs(),o=i.useCallback((()=>{n(e,!1)}),[n]);return i.createElement(Zs,{vibe:t,onClick:o,style:Object.assign({position:"absolute",width:24,height:24,top:16,right:16,zIndex:1},a)},i.createElement(xs,{icon:ns.NBC}))}));Oy.displayName="ModalCloseButton";const Ay="hyperlink-input",My=Tm(),zy=(0,i.memo)((({id:e,heading:t,subheading:a,buttonLabel:n,prefilledUrl:o,prefilledOpenInNewTab:s,displayRemoveHyperlinkButton:r,onOpenInNewTabChange:l})=>{const c=ol(),{showOverlay:d,isOverlayVisible:u}=hs();ql(e);const{resetForm:m,getErrors:g,withInputFormSubmit:p,registerInput:h,isLoading:f,canSubmit:b}=Mr(),[y,v]=(0,i.useState)(null!=s&&s),w=u(e);(0,i.useEffect)((()=>{m()}),[w]);const E=(0,i.useCallback)((t=>{return a=void 0,n=void 0,o=function*(){const a=t.get(Ay).value;c.mutateThings((e=>e.setHyperlinks(a,y?Ot.Blank:Ot.Self))),d(e,!1)},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{l(o.next(e))}catch(e){t(e)}}function r(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof i?a:new i((function(e){e(a)}))).then(s,r)}l((o=o.apply(a,n||[])).next())}));var a,n,i,o}),[d,y]),k=(0,i.useCallback)((e=>{const{checked:t}=e.target;v(t),l&&l(t)}),[v,l]),F=(0,i.useCallback)((()=>{c.mutateThings((e=>e.removeHyperlinks())),d(e,!1)}),[]);return i.createElement($u,{id:e},i.createElement(Js,{className:x("hyperlink-dialog-view"),animateChanges:!0},i.createElement(Oy,{idToClose:e}),i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("form",{onSubmit:p(E),style:{width:"100%"}},i.createElement(Wu,{label:t,htmlFor:Ay,sublabel:a}),i.createElement(Qs,{gap:12,crossAxisAlign:"start"},i.createElement(Vs,{gap:8},i.createElement(Tr,Object.assign({id:Ay,options:{theme:"light"},style:{flexGrow:1},placeholder:"https://",fullWidth:!0,focusOnMount:!0},h(Ay,{schema:My,defaultValue:null!=o?o:""}))),i.createElement(Zs,{label:n,type:"submit",loading:f(),disabled:!b(),options:{theme:"light"},wrapWidthToContent:!0}),r&&i.createElement(Zs,{label:"Remove",vibe:"destructive",onClick:F,options:{vibe:"light"},wrapWidthToContent:!0})),i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement(Dy,{checked:s,onChange:k},"Open in New Tab"),i.createElement(qu,{errors:g(Ay),style:{marginTop:0}}))))))))}));zy.displayName="HyperlinkDialogView";const Ly="add-hyperlink-dialog",jy=(0,i.memo)((({})=>i.createElement(zy,{id:Ly,heading:"Add Hyperlink",buttonLabel:"Add"})));jy.displayName="AddHyperlinkDialog";const By="edit-hyperlink-dialog",Uy=(0,i.memo)((({prefilledUrl:e,prefilledOpenInNewTab:t,canDeleteUrl:a=!0})=>{const n=ol(),o=(0,i.useCallback)((e=>{n.mutateThings((t=>t.setHyperlinkTarget(e?Ot.Blank:Ot.Self)))}),[]);return i.createElement(zy,{id:By,heading:"Update Hyperlink",buttonLabel:"Update",prefilledUrl:e,prefilledOpenInNewTab:t,displayRemoveHyperlinkButton:a,onOpenInNewTabChange:o})}));Uy.displayName="EditHyperlinkDialog";const _y=({tooltipOptions:e,toolbarRef:t})=>{const a=Wh(ol()),{showOverlay:n}=hs(),o=(0,i.useMemo)((()=>a.every((e=>void 0===e.properties.hyperlink))),[a]),s=(0,i.useMemo)((()=>a.every((e=>e.type!==zt.Button))),[a]),r=(0,i.useMemo)((()=>{let e,t=!1;for(let n of a)if(t||(e=n.properties.hyperlink,t=!0),n.properties.hyperlink!==e)return;return e}),[a]),l=(0,i.useMemo)((()=>{let e,t=!1;for(let n of a)if(t||(e=n.properties.hyperlinkTarget,t=!0),n.properties.hyperlinkTarget!==e)return;return e}),[a]),c=(0,i.useMemo)((()=>{let e=r?"Edit Hyperlink":"Add Hyperlink";return a.length>1&&(e+="s"),e}),[r,a.length]),d=(0,i.useMemo)((()=>!o&&(!o&&void 0===r||!(!o&&void 0!==r)&&void 0)),[o,r]),u=(0,i.useCallback)((()=>{n(r?By:Ly,!0)}),[r,n]);return i.createElement(i.Fragment,null,i.createElement(Su,{active:r,label:c,icon:ns.nNP,tooltipOptions:e,onClick:u,disabled:d}),i.createElement(jy,null),i.createElement(Uy,{prefilledUrl:r,prefilledOpenInNewTab:l===Ot.Blank,canDeleteUrl:s}))};_y.displayName="ManageHyperlinkToolbarButton";const Hy=S("canvas-toolbar"),Gy={margin:14},qy=({position:e})=>{const t=ol(),a=t.useStore(_c),n=(t.useStore((e=>e.preferences["experiments.enabled"])),t.useStore(bl)),o=t.useStore(Bc),[s,r]=(0,i.useState)(!1),l=(0,Ub.W)(null,(()=>{r(null!==l.current)})),[c,d]=i.useState("above"),u=(0,i.useMemo)((()=>{var e;const n=t.selectOnce(kc),i=null!==(e=null==n?void 0:n.filter((e=>a.has(e.ID))).map((e=>e.type)).valueSeq().toArray())&&void 0!==e?e:[];return new Set(i)}),[a]),m=t.useStore(kc),g=t.useStore(Ec),p=(0,i.useMemo)((()=>m?Wc(m,a):void 0),[m,a]),h=(0,i.useMemo)((()=>g?Wc(g,a):void 0),[g,a]),{style:f,className:b}=(0,i.useMemo)((()=>{if("above-canvas"===e)return d("below"),{style:{},className:"above-canvas"};if(0===a.size||!l.current||void 0===m)return{};const{height:t,width:n}=l.current.getBoundingClientRect(),i=oa(),o=null!=h?h:p,s=ta(),r=Math.max((s.width-window.referenceWidth)/2,0);if(void 0===o)return{};const c=(o.maxX+o.minX)/2;let u={top:o.minY,left:c},g="above";return u.top&&u.top<=i.minY+t+80?(u.top=Math.min(i.maxY-(t+80),o.maxY),g="below",d("below")):d("above"),u.left&&(u.left=Math.max(i.minX+n/2+16-r,Math.min(c-r,i.maxX-n/2-16-r))),{style:{top:`${u.top}px`,left:`${u.left}px`},className:g}}),[e,p,h,a,s,d]),y=i.useMemo((()=>({tooltipOptions:Gy,placement:c})),[c]),v=(0,i.useMemo)((()=>{const e=new Set(u);return 1===a.size&&1===e.size&&e.has(zt.CodeEmbed)?i.createElement(qb,{tooltipOptions:Gy}):1===e.size&&e.has(zt.RichButton)?i.createElement(sy,{toolbarSettings:y}):1===a.size&&1===e.size&&e.has(zt.Text)?i.createElement(xy,{toolbarSettings:y}):1===e.size&&e.has(zt.Shape)?i.createElement(ry,{toolbarSettings:y}):void 0}),[u,y]),w=i.useCallback((()=>{Np(t.selectOnce(_c),t.selectOnce(vc))}),[]),E=o===Ce.Layout||o===Ce.InlineTextEditing;return 0===a.size?i.createElement(i.Fragment,null):i.createElement(xu,{id:Hy+`-${e}`,ref:l,className:Od()(b),style:f,darkMode:!0},i.createElement(Hb,null,i.createElement(Vs,{gap:2,mainAxisAlign:"start",crossAxisAlign:"center",style:{height:"100%"}},!n&&i.createElement(i.Fragment,null,v&&i.createElement(i.Fragment,null,v),E&&v&&i.createElement(Fu,null),E&&i.createElement(i.Fragment,null,i.createElement(Iy,{tooltipOptions:Gy}),i.createElement(Ry,{tooltipOptions:Gy}),i.createElement(Ty,{tooltipOptions:Gy}),i.createElement(Ny,{tooltipOptions:Gy}),i.createElement(_y,{toolbarRef:l,tooltipOptions:Gy})),a.size>=2&&i.createElement(i.Fragment,null,i.createElement(Fu,{margin:0}),i.createElement(Gb,{tooltipOptions:Gy}))),n&&i.createElement(i.Fragment,null,i.createElement(Su,{onClick:w,fitToChildren:!0},"Copy")))),i.createElement(_b,null,E&&i.createElement(Vs,{gap:0,crossAxisAlign:"center",style:{height:"100%"}},i.createElement(Fu,{margin:0}),!n&&i.createElement(Py,{tooltipOptions:Gy}),i.createElement(Cy,{tooltipOptions:Gy}))))};qy.displayName="CanvasToolbar";const Wy=({position:e})=>{const t=ol(),a=t.useStore(kl),n=t.useStore(_c),{visible:o}=ql(Hy+`-${e}`,{alsoHideWhen:()=>n.size<=0,uiConfig:Object.assign(Object.assign({},dl),{hideInFocusMode:!1})});return a&&"above-canvas"===e?i.createElement(i.Fragment,null):(a||"in-canvas"!==e)&&o?i.createElement(qy,{position:e}):i.createElement(i.Fragment,null)};Wy.displayName="CanvasToolbarContainer";const Vy=S("permission-button"),$y=(0,i.memo)((({popoverTargetRef:e})=>{const t=ol(),a=i.useRef(null),n=t.useStore(fl),o=t.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.isPublic})),{toggleOverlay:s}=hs(),r=i.useCallback((()=>{w({event:"clicked-permission-button",location:"home-base-toolbar"}),s(Yy)}),[s]),l=i.useMemo((()=>({placement:"below",margin:14})),[]),c=i.useMemo((()=>os()({"public-page":o,"private-page":!o})),[o]);return n?i.createElement(i.Fragment,null,i.createElement(ks,{targetRef:a,options:l},"Permission: ",o?"Public":"Private"),i.createElement(Zs,{ref:a,id:Vy,onClick:r,className:c,vibe:"secondary",size:"small"},i.createElement("div",{className:"inner-label"},o&&i.createElement("div",{className:"hide-on-desktop"},i.createElement(xs,{icon:ns.UvJ})),!o&&i.createElement(xs,{icon:ns.byT}),i.createElement("span",{className:"hide-on-mobile"},"Share"))),i.createElement(Xy,{targetRef:null!=e?e:a})):i.createElement(i.Fragment,null)}));$y.displayName="PermissionButton";const Yy=S("permission-popover"),Xy=(0,i.memo)((({targetRef:e})=>{const t=ol(),a=i.useRef(null),n=i.useRef(null),o=t.useStore(tc);ql(Yy);const s=i.useCallback((e=>{if("private"===e){if(!(null==o?void 0:o.roles.includes(mt.Admin))&&!(null==o?void 0:o.roles.includes(mt.Plus))&&!(null==o?void 0:o.roles.includes(mt.Pro)))return void sc({message:sr("Private pages",[mt.Plus,mt.Pro],!0),eventName:"private_pages"});w({event:"made-page-private",location:"permission-popover"}),t.mutatePage((e=>e.makePrivate())).publishPage(),(0,r.Am)("Page is now private. Some people may still see cached versions.")}else"public"===e&&(w({event:"made-page-public",location:"permission-popover"}),t.mutatePage((e=>e.makePublic())).publishPage(),(0,r.Am)("Page is now public"))}),[t,o]),l=t.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.isPublic})),c=t.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.isListed})),d=t.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.isPeekable})),u=i.useCallback((()=>{t.mutatePage((e=>e.setListed(!c))).publishPage()}),[t,c]),m=i.useCallback((()=>{t.mutatePage((e=>e.setPeekable(!d))).publishPage()}),[t,d]);return i.createElement(Vd,{id:Yy,targetRef:e,idsToIgnoreForOutsideClick:[Vy],placement:"below"},i.createElement(Js,{className:os()("permission-popover",{"private-page":!l})},i.createElement(Ws,{fullWidth:!0,style:{padding:6}},i.createElement(Qs,{gap:8},i.createElement(Gs,{activeValue:l?"public":"private",options:[["Public","public"],["Private","private"]],onSelect:s}),l&&i.createElement(Gu,{type:"secondary",size:"small"},i.createElement(xs,{icon:ns.UvJ}),"Anyone with the link can view"),!l&&i.createElement(i.Fragment,null,i.createElement(Gu,{type:"secondary",size:"small",style:{background:"rgba(68, 68, 251, 0.24)",color:"rgba(68, 68, 251, 0.87)"}},i.createElement(xs,{icon:ns.byT}),"Only you can view this page"),i.createElement(Gu,{type:"secondary",size:"small"},"Recovering unsaved changes is disabled for private pages")))),l&&i.createElement(Ws,{fullWidth:!0,style:{padding:6}},i.createElement(Qs,null,!c&&i.createElement(Gu,{type:"warning",size:"small"},i.createElement("div",null,i.createElement("code",null,"Discoverable: on")," encouraged. People love exploring. Messy encouraged.")),i.createElement(ks,{targetRef:a,options:{placement:"left"}},"If enabled, this page will show up in the explore feed."),i.createElement($h,{ref:a,enabled:c,id:"pp-discover-toggle",onClick:u},"Discoverable"),i.createElement(ks,{targetRef:n,options:{placement:"left"}},"If enabled, other people can sample blocks from your page."),i.createElement($h,{ref:n,enabled:d,id:"pp-remix-toggle",onClick:m},"Sampleable")))))}));Xy.displayName="PermissionPopover";const Ky={isPublic:!0,isPeekable:!1,isListed:!1,relativeHeight:p.defaultPageHeight,settings:{editorVersion:p.currentEditorVersion},slug:"",style:p.defaultPageStyle,things:[{ID:-0x71f641ca484ff,position:{height:800,width:600,x:0,y:0,zIndex:0,rotationDeg:0},locked:!1,type:zt.Group,altText:null,content:{groupDisplay:xt.Freeform,groupOrder:0},parentId:void 0,properties:{},styles:{}}]},Zy=new de({caller:"PageBuilder"});class Jy{constructor(){this._request=void 0}newPage(e){return this._request=Object.assign(Object.assign({},Ky),{slug:e}),this}cloneFrom(e){const t={isPublic:e.isPublic,relativeHeight:e.relativeHeight,settings:e.settings,slug:(a=e.slug,`${a}_copy`),style:e.style,isListed:e.isListed,isPeekable:e.isPeekable,things:Qy(e.things)};var a;return this._request=t,this}buildThings(e){return void 0===this._request?(Zy.error("Cannot add things without first creating a page."),this):(this._request.things=this._request.things.concat(e),this)}generateRequest(){if(void 0!==this._request)return this._request;Zy.error("Cannot create page without specifying slug.")}}function Qy(e){const t=new Map,a=new Map;return e.map((e=>{const n=gc.generateLocalThingId(t);return t.set(n,e.ID),a.set(e.ID,n),Object.assign(Object.assign({},e),{ID:n})})).map((e=>{if(void 0===e.parentId)return e;const t=a.get(e.parentId);return void 0===t?(Zy.error("Corresponding parent ID missing in replaceWithLocalThingIds()"),e):Object.assign(Object.assign({},e),{parentId:t})}))}new de({caller:"loadPageSlugs"});const ev=e=>e.sort(((e,t)=>e.updatedAt>t.updatedAt?-1:e.updatedAt<t.updatedAt?1:0));function tv(e,t,a=!1){const n=ol(),o=n.useStore(tc),{showOverlay:s}=hs(),l=(0,zr.s0)(),c=(0,i.useCallback)((i=>{return c=this,d=void 0,m=function*(){var c;if(void 0===o)return;const d=null===(c=i.get(e))||void 0===c?void 0:c.value;if(void 0===d)return;let u;if("main"===d){const e=Du(o),[t,a]=yield Sr(e);if(void 0===t||void 0!==a)return;const{page:n}=t;u=se(n),l(`/${u}?first_page`)}else{let e;const t=new Jy;if(a){const a=n.selectOnce(vc);e=t.cloneFrom(ts(a)).generateRequest(),e.slug=d}else e=t.newPage(d).generateRequest();const[i,o]=yield Sr(e);if(void 0===i||void 0!==o)return;const{page:s}=i;u=se(s),l(`/${u}`);const[r]=yield Fr();if(void 0===(null==r?void 0:r.pages));else{const e=ev(r.pages);n.loadSitePages(e)}}(0,r.Am)(`${u} created successfully`),s(t,!1)},new((u=void 0)||(u=Promise))((function(e,t){function a(e){try{i(m.next(e))}catch(e){t(e)}}function n(e){try{i(m.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof u?i:new u((function(e){e(i)}))).then(a,n)}i((m=m.apply(c,d||[])).next())}));var c,d,u,m}),[o,l,s,t]);return{handleSubmit:c}}const av=S("new-page-prompt"),nv=S("page-name-input"),iv=(0,i.memo)((({})=>{const e=ol();ql(av);const t=e.useStore(tc),{isOverlayVisible:a}=hs(),n=a(av),{handleSubmit:o}=tv(nv,av),{withInputFormSubmit:s,getErrors:r,registerInput:l,isLoading:c,canSubmit:d,resetForm:u}=Mr(),m=(0,i.useMemo)((()=>l(nv,{transformValue:e=>e.replace(" ","_").replace("-","_"),schema:ee.required()})),[l]);i.useEffect((()=>{u()}),[n]);const g=void 0!==t?`${Ke(null==t?void 0:t.primarySite,{withScheme:!1})}/`:"";return i.createElement($u,{id:av},i.createElement(Js,null,i.createElement(Oy,{idToClose:av}),i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("form",{onSubmit:s(o),style:{width:"100%"}},i.createElement(Wu,{label:"Create New Page",htmlFor:nv}),i.createElement(Vs,{gap:8},i.createElement(Tr,Object.assign({id:nv,prefix:Ne.tq?"":g,placeholder:"new_page_name"},m,{options:{theme:"light"},style:{flexGrow:1},fullWidth:!0,focusOnMount:!0})),i.createElement(Zs,{label:"Create",type:"submit",loading:c(),disabled:!d(),options:{theme:"light"},wrapWidthToContent:!0})),i.createElement(qu,{errors:r(nv),style:{width:"100%"}}))))))}));iv.displayName="NewPagePrompt";const ov=S("duplicate-page-prompt"),sv=S("page-name-input"),rv=(0,i.memo)((({})=>{const e=ol();ql(ov);const t=e.useStore(tc),{handleSubmit:a}=tv(sv,ov,!0),{withInputFormSubmit:n,registerInput:o,getErrors:s,isLoading:r,canSubmit:l,resetForm:c}=Mr(),{isOverlayVisible:d}=hs(),u=d(ov);i.useEffect((()=>{u&&c()}),[u]);const m=(0,i.useMemo)((()=>o(sv,{transformValue:e=>e.replace(" ","_").replace("-","_"),schema:ee.required()})),[o]);return i.createElement($u,{id:ov},i.createElement(Js,null,i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("form",{onSubmit:n(a),style:{width:"100%"}},i.createElement(Wu,{label:"Duplicate Page",htmlFor:sv}),i.createElement(Vs,{gap:8},i.createElement(Tr,Object.assign({id:sv,prefix:`${null==t?void 0:t.primarySite.slug}.mmm.page/`,placeholder:"new_page_name"},m,{options:{theme:"light"},style:{flexGrow:1},fullWidth:!0,focusOnMount:!0})),i.createElement(Zs,{label:"Duplicate",type:"submit",loading:r(),disabled:!l(),options:{theme:"light"},wrapWidthToContent:!0})),i.createElement(qu,{errors:s(sv),style:{width:"100%"}}))))))}));rv.displayName="DuplicatePagePrompt";const lv=fs((({id:e,className:t,style:a,icon:n,href:o,onClick:s,children:r,small:l=!1},c)=>{const d=i.useRef(null),u=(0,gs.Z)(d,c),m=i.useCallback((()=>{Hs.play("light-click"),void 0!==s&&s()}),[s]),g=i.useMemo((()=>F()(x("menu-button"),t,{small:l})),[t,l]);return void 0!==o?i.createElement("a",{ref:u,id:e,style:a,className:g,href:o,onClick:m,target:"_blank"},void 0!==n&&i.createElement("div",{className:"icon"},i.createElement(xs,{icon:n})),r):i.createElement("button",{ref:u,id:e,style:a,className:g,onClick:m},void 0!==n&&i.createElement("div",{className:"icon"},i.createElement(xs,{icon:n})),r)}));lv.displayName="MenuButton";const cv=new de({caller:"usePageExplorer"}),dv=S("page-explorer-tray"),uv="page-explorer-tray",mv=(0,i.memo)((({targetRef:e})=>{const t=ol(),{pageList:a,privacyFilter:n,setPrivacyFilter:o,sitePagesLoaded:s}=function(){const e=ol(),t=e.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.ID})),a=e.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.isPublic})),n=e.useStore((e=>e.user.sitePages)),o=e.useStore((e=>e.user.sitePagesLoaded)),[s,r]=i.useState(a?"public":"private");i.useMemo((()=>r(a?"public":"private")),[a]);const l=i.useRef(!1);i.useEffect((()=>{o&&(l.current||(()=>{var t,a,n,i;t=this,a=void 0,i=function*(){const[t]=yield Fr();if(void 0===(null==t?void 0:t.pages));else{cv.info("Site pages force loaded");const a=ev(t.pages);e.loadSitePages(a),l.current=!0}},new((n=void 0)||(n=Promise))((function(e,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function r(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(s,r)}l((i=i.apply(t,a||[])).next())}))})())}),[e,o]);const c=i.useMemo((()=>n.filter((e=>e.isPublic&&"public"===s||!e.isPublic&&"private"===s))),[n,s,t]);return{sitePagesLoaded:o,pageList:c,privacyFilter:s,setPrivacyFilter:r}}();ql(dv);const l=t.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.ID})),c=(0,zr.s0)(),{showOverlay:d}=hs(),u=i.useRef(null),m=i.useRef(null),g=void 0!==l&&l!==dd.ID,p=i.useCallback((e=>()=>{if(l===e.ID)return Hs.play("denied"),void(0,r.Am)("You're already on this page!");const t=se(e);c(`/${t}`),d(dv,!1)}),[c,d,l]),h=i.useCallback((()=>{w({event:"clicked-duplicate-page-button-in-toolbar",location:uv}),d(ov),d(dv,!1)}),[d]),f=i.useCallback((()=>{var e;const a=t.selectOnce((e=>e.user.sitePages)),n=t.selectOnce(tc),i=n&&cc.canAddPage(null!==(e=null==n?void 0:n.roles)&&void 0!==e?e:[],a.length,!0);w({event:"created-new-page-from-toolbar",location:uv}),i&&(d(dv,!1),d(av))}),[t,d]),b=i.useMemo((()=>({maxWidth:240})),[]),y=i.useMemo((()=>({padding:6})),[]),v=i.useMemo((()=>({padding:6})),[]),E=i.useMemo((()=>s?a.length>0?i.createElement(i.Fragment,null):"private"===n?i.createElement("div",{className:"no-pages-message"},"You have no private pages. Why don't you create a moodboard or journal?"):"public"===n?i.createElement("div",{className:"no-pages-message"},"You have no public pages. Why don't you create a personal website?"):void 0:i.createElement("div",{className:"loading-indicator"},i.createElement(xs,{icon:vd.AX7,className:"fa-spin"}))),[n,a.length,s]);return i.createElement(Vd,{targetRef:e,id:dv,placement:"below",idsToIgnoreForOutsideClick:[qv]},i.createElement(Js,{width:"narrow",style:b,className:Od()({public:"public"===n,private:"private"===n})},i.createElement(Ws,{className:"header",style:y},i.createElement(Vs,{className:x("privacy-filters"),mainAxisAlign:"start",crossAxisAlign:"center",gap:2},i.createElement(Zs,{id:S("public-filter-toggle"),className:Od()({active:"public"===n}),vibe:"secondary",size:"small",onClick:()=>o("public")},"Public"),i.createElement(Zs,{id:S("private-filter-toggle"),className:Od()({active:"private"===n}),vibe:"secondary",size:"small",onClick:()=>o("private")},"Private"))),i.createElement(Ws,{className:Od()("page-list"),style:v},i.createElement(Qs,{mainAxisAlign:"start"},E,a.map((e=>i.createElement(lv,{key:e.ID,onClick:p(e)},i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement(Vs,{mainAxisAlign:"start",gap:10},"private"===n&&i.createElement("div",{className:"icon"},i.createElement(xs,{icon:ns.byT})),i.createElement("div",{className:"slug"},e.slug)),i.createElement("div",{className:"timestamp"},Hd(_d(e.updatedAt),!0)))))))),i.createElement(Ws,{className:Od()("footer"),style:v},i.createElement(Vs,{mainAxisAlign:"end",crossAxisAlign:"center",gap:6},g&&i.createElement(i.Fragment,null,i.createElement(ks,{targetRef:u,options:{placement:"below"}},"Duplicate Page"),i.createElement(Zs,{ref:u,label:"Duplicate Page",vibe:"secondary",size:"mini",style:{width:64},onClick:h},i.createElement(xs,{icon:vd.WM4}))),i.createElement(Zs,{ref:m,id:S("new-page-button"),label:"New Page",vibe:"primary",size:"mini",onClick:f,style:{width:"100%"}},i.createElement("span",null,"New Page"))))))}));mv.displayName="PageExplorerTray";var gv=a(85271);class pv{static validateGoogleAnalytics4ID(e){return new RegExp(/^G-([0-9a-zA-Z]){10}$/g).test(e)?[!0,void 0]:[!1,q]}}class hv{static validate(e){const{settings:{title:t,description:a,googleAnalytics4ID:n}}=e;if(void 0!==t){const[e,a]=this.validatePageTitle(t);if(!e)return[e,a]}if(void 0!==a){const[e,t]=this.validatePageDescription(a);if(!e)return[e,t]}if(void 0!==n){const[e,t]=pv.validateGoogleAnalytics4ID(n);if(!e)return[e,t]}return[!0,void 0]}static validatePageTitle(e){return e.length>this.config.MAX_PAGE_TITLE_LENGTH?[!1,W]:[!0,void 0]}static validatePageDescription(e){return e.length>this.config.MAX_PAGE_DESCRIPTION_LENGTH?[!1,V]:[!0,void 0]}}hv.config={MAX_PAGE_TITLE_LENGTH:500,MAX_PAGE_DESCRIPTION_LENGTH:2e3};const fv=({children:e})=>i.createElement("div",{className:"mmm-x-input-list"},e),bv=(0,i.memo)((({useStateBundle:e,prefix:t,placeholder:a,inputType:n="text",isValid:o=!0,isLoading:s=!1,isInputValidFn:r,onChange:l,onValidityChange:c,focusOnMount:d,fullWidth:u=!1,destructive:m=!1,id:g,label:p,sublabel:h,helpfulNote:f,className:b,style:y,children:v,inputOverlay:w,onDisabledClick:E,disabled:k=!1})=>{var x;const[S,I]=(0,i.useState)(!0),[C,P]=(0,i.useState)(void 0),T=(0,i.useRef)(null),N=(0,i.useRef)(null),[R,D]=e;return(0,i.useEffect)((()=>{let e,t;void 0===r?e=!0:[e,t]=r(R),void 0!==c&&c(e,t),I(e),P(t)}),[r,R]),(0,i.useEffect)((()=>{Ne.tq||d&&null!==T.current&&void 0!==T.current&&T.current.focus()}),[d,T]),i.createElement("div",{className:F()("mmm-x-input-fieldset",{destructive:m,disabled:s||k,[b]:void 0!==b})},v,i.createElement("div",{className:"mmm-x-input-label-group"},i.createElement("label",{className:"mmm-x-input-label",htmlFor:g},p),void 0!==h&&i.createElement("span",{className:"mmm-x-input-sublabel"},h)),void 0!==C&&i.createElement(Gu,{icon:i.createElement(Fs.G,{icon:ns.RLE}),type:"error",style:{marginBottom:8}},C.getMessage()),i.createElement("div",{className:"mmm-x-input-wrapper",onClick:e=>{k&&void 0!==E&&E()}},i.createElement("div",{className:"mmm-x-input-prefix",ref:N},null!=t?t:""),i.createElement("input",{id:g,style:Object.assign({textIndent:null===(x=N.current)||void 0===x?void 0:x.clientWidth},y),className:F()("mmm-x-input-text",{[b]:void 0!==b,invalid:!S||!o,empty:void 0===R||0===R.length,"full-width":u,"with-prefix":void 0!==t}),type:n,placeholder:a,value:R,onChange:e=>{let{value:t}=e.target;void 0!==l&&(t=l(t)),D(t)},disabled:k,ref:T}),void 0!==w&&w),void 0!==f&&i.createElement(Gu,{type:"warning",icon:i.createElement(Fs.G,{icon:ns.Fuz}),style:{marginTop:8},fullWidth:!0,autoHeight:!0},f))})),yv=e=>e.length>0?e:void 0,vv=(e,t)=>{var a,n;const{site:o}=t,s=null!==(n=null===(a=o.canonicalDomain)||void 0===a?void 0:a.domainName)&&void 0!==n?n:`m.page/${o.slug}`;switch(e){case"main":return void 0!==o.canonicalDomain?i.createElement("div",null,i.createElement("span",{className:"highlight"},s,"/main")," also points to"," ",i.createElement("span",{className:"highlight"},s)):i.createElement("div",null,i.createElement("span",{className:"highlight"},s,".main")," also points to"," ",i.createElement("span",{className:"highlight"},s));case"":return i.createElement("div",null,"Trying to set the root (e.g. ",s,")? Use ",i.createElement("span",{className:"highlight"},"main")," as the page slug.");default:return}},wv=(0,i.memo)((({})=>i.createElement(Tb,{label:"Plus",backgroundColor:"rgba(255, 0, 102, 1)",textColor:"rgba(255,255,255,0.87)",size:Pb.Mini})));wv.displayName="RoleProBadge";const Ev=(0,i.memo)((({})=>i.createElement(Tb,{label:"Pro",backgroundColor:"rgb(29, 0, 255)",textColor:"rgba(255,255,255,0.87)",size:Pb.Mini})));Ev.displayName="RoleProBadge";const kv=(0,i.memo)((({})=>i.createElement(Tb,{label:"Mini",backgroundColor:"#000",textColor:"rgba(255,255,255,0.87)",size:Pb.Mini})));kv.displayName="RoleProBadge";const Fv=e=>t=>{const{account:a,featureName:n,restrictTo:o=[],disabled:s,children:r,onDisabledClick:l,inputOverlay:c}=t,d=()=>void 0===a||o.length>0&&!(null==a?void 0:a.roles.includes(mt.Admin))&&0===a.roles.filter((e=>o.includes(e))).length;return i.createElement(e,Object.assign({},t,{disabled:s||d(),onDisabledClick:d()?void 0:l,inputOverlay:d()?i.createElement("div",{className:"restriction-badges"},o.includes(mt.Pro)&&i.createElement(Ev,null),o.includes(mt.Plus)&&i.createElement(wv,null),o.includes(mt.Supporter)&&i.createElement(kv,null),i.createElement("span",{className:"lock"},i.createElement(Fs.G,{icon:ns.byT}))):c}),r,d()&&i.createElement(i.Fragment,null,i.createElement("button",{className:"restricted-overlay",type:"button",onClick:()=>{sc({message:sr(n,o),eventName:n})}},"Feature requires upgrade")))};var xv=function(e,t,a,n){return new(a||(a=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}))};Fv(bv);const Sv=({options:e})=>{const{lastUpdatedPage:t,publishPage:a,onPageSlugRename:n}=e,{slug:o,settings:{title:s,description:l}}=t,{showOverlay:c}=hs(),[d,u]=(0,i.useState)(!1),[m,g]=(0,i.useState)(t.slug),[p,h]=(0,i.useState)(!1),[f,b]=(0,i.useState)(null!=s?s:""),[y,v]=(0,i.useState)(!1),w=()=>yv(f),[E,k]=(0,i.useState)(null!=l?l:""),[F,x]=(0,i.useState)(!1),S=()=>yv(E);return i.createElement(Ws,{direction:"vertical",fullWidth:!0,noPadding:!0},i.createElement(Ws,{fullWidth:!0},i.createElement(fv,null,i.createElement(bv,{id:"page-settings-modal-page-slug",label:"Slug",sublabel:"Appears in URL",helpfulNote:vv(m,t),prefix:void 0!==t.site.canonicalDomain?`${t.site.canonicalDomain.domainName}/`:`${t.site.slug}.mmm.page/`,inputType:"text",onChange:cs,onValidityChange:(e,t)=>h(e),isInputValidFn:e=>0===e.length?[!1,H]:oe(e),useStateBundle:[m,g],fullWidth:!0}))),i.createElement(Ws,{fullWidth:!0},i.createElement(fv,null,i.createElement(bv,{id:"page-settings-modal-page-title",label:"Title",sublabel:"Appears in tabs, search results, share previews",placeholder:Je(t),inputType:"text",onValidityChange:(e,t)=>v(e),isInputValidFn:e=>0===e.length?[!0,void 0]:hv.validatePageTitle(e),useStateBundle:[f,b],fullWidth:!0}),i.createElement(bv,{id:"page-settings-modal-page-description",label:"Description",sublabel:"Appears in search results and share previews",placeholder:"",inputType:"text",onValidityChange:(e,t)=>x(e),isInputValidFn:e=>0===e.length?[!0,void 0]:hv.validatePageDescription(e),useStateBundle:[E,k],fullWidth:!0}))),i.createElement(Ws,{style:{columnGap:8},noBorder:!0},i.createElement(Zs,{label:"Save",onClick:()=>xv(void 0,void 0,void 0,(function*(){xv(void 0,void 0,void 0,(function*(){const e=Object.assign({},t);m!==o&&(e.slug=m),w()!==s&&(e.settings.title=w()),S()!==l&&(e.settings.description=S()),u(!0);const i=yield a({newPage:e});u(!1),i&&((0,r.Am)("Page settings have been saved"),n(se(e)))}))})),type:"submit",loading:d,disabled:!(p&&m!==o||y&&w()!==s||F&&S()!==l),wrapWidthToContent:!0,options:{theme:"light"}}),i.createElement(Zs,{vibe:"secondary",label:"Cancel",onClick:()=>{c(Uv,!1)}})))};var Iv=function(e,t,a,n){return new(a||(a=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}))};const Cv=({options:e})=>{const t=ol(),{lastUpdatedPage:a,onPageDelete:n}=e,{trackEvent:o}=(0,g.rS)(),{showOverlay:s}=hs(),[l,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(""),m=e=>`delete ${a.slug}`===e;return i.createElement(Ws,{direction:"vertical"},i.createElement(fv,null,i.createElement(bv,{id:"page-settings-modal-delete-confirmation",label:"Delete Page",sublabel:`Type 'delete ${a.slug}' to confirm. This is permanent.`,placeholder:`delete ${a.slug}`,inputType:"text",isInputValidFn:e=>[m(e),void 0],useStateBundle:[d,u],fullWidth:!0,destructive:!0})),i.createElement(Ws,{style:{columnGap:8,marginTop:24},noBorder:!0,noPadding:!0},i.createElement(Zs,{label:"Delete Forever",onClick:()=>Iv(void 0,void 0,void 0,(function*(){Iv(void 0,void 0,void 0,(function*(){if(b(o)({event:"click-delete-page-button",location:"page-switcher"}),t.selectOnce((e=>e.user.sitePages)).length<=1)return void(0,r.Am)("You cannot delete your only page");c(!0);const e=yield(e=>fr(void 0,void 0,void 0,(function*(){try{return void(yield yr.delete(`/page/${e}`))}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),a.trim()===ft.PageNoPermission?(0,r.Am)(rr):(0,r.Am)(lr),new Error(a.trim())}})))(a.ID);if(void 0!==e)return;c(!1),n(a),(0,r.Am)("Page successfully deleted"),s(Uv,!1);const[i]=yield Fr();if(void 0===(null==i?void 0:i.pages));else{const e=ev(i.pages);t.loadSitePages(e)}}))})),vibe:"destructive",type:"submit",loading:l,disabled:!m(d),wrapWidthToContent:!0}),i.createElement(Zs,{vibe:"secondary",label:"Cancel",onClick:()=>{s(Uv,!1)}})))};var Pv=a(19204);const Tv=(0,i.memo)((({useStateBundle:e,id:t,label:a,sublabel:n,className:o,style:s,children:r,inputOverlay:l,disabled:c=!1})=>{const[d,u]=e;return i.createElement("div",{className:F()("mmm-x-input-fieldset horizontal",{disabled:c,[o]:void 0!==o})},r,i.createElement("div",{className:"mmm-x-input-label-group",style:{marginBottom:8}},i.createElement("label",{className:"mmm-x-input-label",htmlFor:t},a),void 0!==n&&i.createElement("span",{className:"mmm-x-input-sublabel"},n)),i.createElement("div",{className:"mmm-x-input-wrapper"},i.createElement(Pv.Z,{className:"mmm-input-toggle",checkedChildren:!c&&i.createElement("i",{className:"fas fa-check"}),unCheckedChildren:!c&&i.createElement("i",{className:"fas fa-times"}),onClick:()=>{u(!d)},checked:!d}),void 0!==l&&l))}));var Nv=function(e,t,a,n){return new(a||(a=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}))};const Rv=Fv(bv),Dv=({options:e})=>{const{site:t,handleSiteChanges:a}=e,n=ol().useStore(tc),[o,s]=(0,i.useState)(t.canonicalDomain),[l,c]=(0,i.useState)(t.canonicalDomain),[d,u]=(0,i.useState)(""),[m,g]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1),[f,b]=(0,i.useState)(void 0!==o);(0,i.useEffect)((()=>{Nv(void 0,void 0,void 0,(function*(){const[e,a]=yield(n={siteID:t.ID,includeInactive:!0},fr(void 0,void 0,void 0,(function*(){try{return[(yield yr.get("/domain/canonical",{params:Object.assign({},n)})).data,void 0]}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),a.trim(),(0,r.Am)(lr),[void 0,new Error(a)]}})));var n;if(void 0===e||void 0!==a)return;const{domain:i}=e;s(i),b(void 0!==i)}))}),[]),(0,i.useEffect)((()=>{var e;c(o),u(null!==(e=null==o?void 0:o.domainName)&&void 0!==e?e:"")}),[o]);const y=()=>Nv(void 0,void 0,void 0,(function*(){if(void 0===d)return;h(!0);const[e,n]=yield(i={domainName:d,siteID:t.ID},fr(void 0,void 0,void 0,(function*(){try{return[(yield yr.post("/domain",i)).data,void 0]}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),a.trim(),(0,r.Am)(lr),[void 0,new Error(a)]}})));var i;if(h(!1),void 0===e||void 0!==n)return;const{domain:o}=e;s(o),o.status===ut.Active?(0,r.Am)("Domain has been added and is ready to use"):(0,r.Am)("Domain has been added, but still needs to be verified"),b(!0),a({})})),v=()=>Nv(void 0,void 0,void 0,(function*(){var e;h(!0);const[t,n]=yield(i=null!==(e=null==l?void 0:l.domainName)&&void 0!==e?e:"",fr(void 0,void 0,void 0,(function*(){try{return[(yield yr.post(`/domain/sync/${i}`)).data,void 0]}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),a.trim(),(0,r.Am)(lr),[void 0,new Error(a)]}})));var i;if(h(!1),void 0===t||void 0!==n)return;const{domain:o}=t;s(o);const c=Date.now()-_d(o.createdAt)>=864e5;o.status===ut.Active?(0,r.Am)("Congrats! Domain verified and ready to use"):c?(0,r.Am)("Strange. It's been over 24 hours. Reach out to support@mmm.page for help.",{autoClose:5e3}):(0,r.Am)("Changes still propagating. Try again in a few hours.",{autoClose:5e3}),a({})})),w=()=>Nv(void 0,void 0,void 0,(function*(){var e;h(!0);const t=yield(n=null!==(e=null==l?void 0:l.domainName)&&void 0!==e?e:"",fr(void 0,void 0,void 0,(function*(){try{return void(yield yr.delete(`/domain/${n}`))}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),a.trim(),(0,r.Am)(lr),new Error(a)}})));var n;h(!1),void 0===t&&(s(void 0),(0,r.Am)("Domain has been removed"),a({}))})),E=()=>(null==o?void 0:o.domainName)!==d&&m;return i.createElement(Ws,{direction:"vertical"},i.createElement(Ws,{direction:"responsive-horizontal",style:{alignItems:"flex-end",gap:8,marginBottom:8},noBorder:!0,noPadding:!0},i.createElement(Rv,{style:{flexGrow:1,marginRight:16},account:n,featureName:"Domain Name",restrictTo:[mt.Pro,mt.Plus],id:"site-settings-modal-custom-domain-name",label:"Domain Name",sublabel:"Use example.com/page instead of m.page/site.page",onValidityChange:(e,t)=>g(e),isInputValidFn:e=>{return 0===e.length?[!1,void 0]:(t=e).startsWith("http:")||t.startsWith("https:")?[!1,X]:t.startsWith("www.")?[!1,Y]:jo()(t)?[!0,void 0]:[!1,$];var t},onChange:ds,placeholder:f?'Tap "Edit" to add domain':"example.com",inputType:"text",useStateBundle:[d,u],disabled:f,onDisabledClick:()=>{void 0===l?(0,r.Am)('Tap "Edit" to add a new domain'):(0,r.Am)('Tap "Edit" to change the domain')},inputOverlay:void 0!==o&&f?o.status===ut.Active?i.createElement("div",{className:"domain-status-indicator"},i.createElement(Fs.G,{icon:ns.f8k})," Verified"):i.createElement("div",{className:"domain-status-indicator"},i.createElement(Fs.G,{icon:ns.RLE})," Unverified"):i.createElement(i.Fragment,null),fullWidth:!0}),i.createElement(Ws,{direction:"horizontal",style:{gap:8},noBorder:!0,noPadding:!0},(()=>{const e=void 0!==l&&(null==l?void 0:l.status)!==ut.Active,t=""===d&&void 0!==l;if(f)return i.createElement(i.Fragment,null,e&&i.createElement(Zs,{label:"Verify",onClick:v,type:"submit",loading:p,wrapWidthToContent:!0}),i.createElement(Zs,{label:"Edit",onClick:()=>Nv(void 0,void 0,void 0,(function*(){b(!1)})),vibe:void 0!==l&&(null==l?void 0:l.status)!==ut.Active?"secondary":"primary",type:"submit",wrapWidthToContent:!0}));let a;return a=void 0===o?i.createElement(Zs,{label:"Add Domain",onClick:()=>Nv(void 0,void 0,void 0,(function*(){y()})),type:"submit",loading:p,disabled:!E(),wrapWidthToContent:!0,options:{theme:"light"}}):t?i.createElement(Zs,{label:"Remove",onClick:w,type:"submit",loading:p,wrapWidthToContent:!0}):i.createElement(Zs,{label:"Save",onClick:()=>Nv(void 0,void 0,void 0,(function*(){y()})),type:"submit",loading:p,disabled:!E(),wrapWidthToContent:!0}),i.createElement(i.Fragment,null,a,void 0!==o&&i.createElement(Zs,{label:"Cancel",onClick:()=>Nv(void 0,void 0,void 0,(function*(){var e;c(o),u(null!==(e=null==o?void 0:o.domainName)&&void 0!==e?e:""),b(!0),h(!1)})),vibe:"secondary",wrapWidthToContent:!0}))})())),void 0!==o&&o.status!==ut.Active&&i.createElement(Gu,{type:"warning",icon:i.createElement(Fs.G,{icon:ns.sqG}),style:{marginBottom:8},fullWidth:!0,autoHeight:!0},i.createElement("div",null,"Add an ALIAS record pointing to ",i.createElement("span",{style:{color:"#000"}},"cname.mmm.page")," and tap"," ",i.createElement("span",{style:{color:"#000"}},"VERIFY"),". If ALIAS is unavailable, add an A record pointing to"," ",i.createElement("span",{style:{color:"#000"}},"104.18.233.229"),". Changes may take up to 24 hours to propagate.")))},Ov=[mt.Pro,mt.Plus,mt.Supporter];const Av=new de({caller:"FaviconSection"}),Mv=(0,i.memo)((({})=>{const e=ol(),t=e.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.site})),a=e.useStore(tc),n=e.useStore(ac),o=null==t?void 0:t.settings.faviconImageURL,s=()=>void 0===a||!(null==a?void 0:a.roles.includes(mt.Plus))&&!(null==a?void 0:a.roles.includes(mt.Admin))&&!(null==a?void 0:a.roles.includes(mt.Pro)),l=i.useCallback((a=>{return n=void 0,i=void 0,l=function*(){if(s())return;if(void 0===t)return;const n={};n.settings=t.settings,n.settings.faviconImageURL=a,(yield e.updateAndPublishSite(n))?(0,r.Am)("Favicon successfully updated"):(0,r.Am)(lr)},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function s(e){try{r(l.throw(e))}catch(e){t(e)}}function r(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,s)}r((l=l.apply(n,i||[])).next())}));var n,i,o,l}),[t]),c=i.useMemo((()=>{var e;return{transloadIt:{templateID:p.transloadIt.templateID,fetchSignatureEnvelope:Ir,fileMeta:{accountID:`${null!==(e=null==a?void 0:a.ID)&&void 0!==e?e:-1}`},readyToFetch:void 0!==a&&n===Kl.LoggedIn},callbacks:{onFileUploaded:(e,t,a,n)=>{let i=a,o=n;if(i>600||o>600){const e=i/o;i>o?(i=Math.min(600,i),o=i/e):(o=Math.min(600,o),i=o*e)}l(t)},onRestrictionFailed:(e,t,a)=>{let n=a.message.trim();const i=Array.from(n.matchAll(/^You can only upload (\d*) file$/gi));if(i.length>0){const[,e]=i[0];n=`Only ${e} files can be uploaded at a time.`}n.startsWith("You can only upload:")&&(n="Unsupported file type (only .png, .gif, and .jpgs)"),n.endsWith("AUTH_EXPIRED")&&(n="Something went wrong. Please refresh the page."),(0,r.Am)(n),Av.warn(a.message.trim(),{},{sendToSentry:!0})}},options:{restrictions:{maxFileSize:1048576,maxNumberOfFiles:1,minNumberOfFiles:1}}}}),[e,a,n]),{isUploading:d,uploadFile:u}=pg(c),m=i.useCallback((e=>{if(null===e.target.files)return Av.error("Files array is somehow empty."),void(0,r.Am)(lr);const t=Array.from(e.target.files);u(t[0])}),[u]),g=i.useMemo((()=>i.createElement("button",{className:"restricted-overlay",type:"button",onClick:()=>{sc({message:sr("Favicon",[mt.Pro,mt.Plus]),eventName:"Favicon"})}},"Feature requires upgrade")),[]),h=i.useMemo((()=>void 0!==o?i.createElement(i.Fragment,null,i.createElement("img",{className:"favicon-preview",src:o}),i.createElement("input",{style:{display:"none"},id:"favicon-upload",type:"file",onChange:m,disabled:s()}),i.createElement("label",{id:"favicon-upload-button",className:Od()("secondary",{uploading:d,disabled:s()}),htmlFor:"favicon-upload",style:{marginLeft:10}},"Replace",s()&&g,d&&i.createElement("span",{className:"loading-indicator"},i.createElement(Fs.G,{icon:ns.AX7,className:"fa-spin"})),s()&&i.createElement("div",{className:"restriction-badges"},i.createElement(Ev,null),i.createElement(wv,null),i.createElement("span",{className:"lock"},i.createElement(Fs.G,{icon:ns.byT}))))):i.createElement(i.Fragment,null,i.createElement("div",{className:"icon-placeholder"}),i.createElement("input",{disabled:s(),style:{display:"none"},id:"favicon-upload",type:"file",onChange:m}),i.createElement("label",{className:Od()({uploading:d,disabled:s()}),id:"favicon-upload-button",htmlFor:"favicon-upload",style:{marginLeft:10}},"Upload",s()&&g,d&&i.createElement("span",{className:"loading-indicator"},i.createElement(Fs.G,{icon:ns.AX7,className:"fa-spin"})),s()&&i.createElement("div",{className:"restriction-badges"},i.createElement(Ev,null),i.createElement(wv,null),i.createElement("span",{className:"lock"},i.createElement(Fs.G,{icon:ns.byT})))))),[o,m,d]);return i.createElement(Ws,null,i.createElement(fv,null,i.createElement("div",{id:S("favicon-section"),className:Od()("mmm-x-input-fieldset horizontal")},i.createElement("div",{className:"mmm-x-input-label-group",style:{marginBottom:0}},i.createElement("div",{className:"label",style:{fontWeight:600}},"Site Icon"),i.createElement("span",{className:"mmm-x-input-sublabel"},"Aka favicon that appears in tabs")),i.createElement("div",{className:Od()("mmm-x-input-wrapper",{uploading:d,restricted:s()})},h))))}));Mv.displayName="FaviconSection";var zv=function(e,t,a,n){return new(a||(a=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}))};const Lv=Fv(bv),jv=Fv(Tv),Bv=({options:e})=>{const t=ol().useStore(tc),{site:a,handleSiteChanges:n}=e,{settings:{googleAnalytics4ID:o,hideAttribution:s}}=a,{showOverlay:l}=hs(),[c,d]=(0,i.useState)(!1),[u,m]=(0,i.useState)(null!=o?o:""),[g,p]=(0,i.useState)(!1),h=()=>yv(u),[f,b]=(0,i.useState)(null!=s&&s),y=()=>f||void 0;return i.createElement(Ws,{direction:"vertical",fullWidth:!0,noPadding:!0},i.createElement(Ws,{direction:"vertical",style:{paddingBottom:0},noBorder:!0},i.createElement(Gu,{icon:i.createElement(Fs.G,{icon:ns.sqG}),type:"secondary",style:{justifyContent:"flex-start"}},i.createElement("span",null,"Site settings affect all pages under ",i.createElement("span",{style:{color:"#000"}},a.slug,".mmm.page")))),i.createElement(Dv,{options:e}),i.createElement(Mv,null),i.createElement(Ws,{direction:"vertical",noBorder:!0},i.createElement(fv,null,i.createElement(Lv,{account:t,featureName:"Google Analytics",restrictTo:[mt.Pro,mt.Plus],id:"site-settings-modal-google-analytics-id",label:"Google Analytics ID",placeholder:"G-XXXXXXXXXX",onValidityChange:(e,t)=>p(e),inputType:"text",onChange:e=>(e=>e.replace(/\s/g,"_").replace(/([^a-zA-Z0-9-]+)/gi,""))(e).toUpperCase(),isInputValidFn:e=>0===e.length?[!0,void 0]:pv.validateGoogleAnalytics4ID(e),useStateBundle:[u,m],fullWidth:!0}),i.createElement(jv,{account:t,featureName:"Hiding branding",restrictTo:Ov,id:"page-settings-modal-hide-branding",label:"mmm.page Branding",sublabel:"Disable to hide logo (bottom left)",useStateBundle:[f,b]})),i.createElement(Ws,{style:{columnGap:8,marginTop:16},noBorder:!0,noPadding:!0},i.createElement(Zs,{label:"Save",onClick:()=>zv(void 0,void 0,void 0,(function*(){zv(void 0,void 0,void 0,(function*(){d(!0);const e={};e.settings=a.settings,h()!==o&&(e.settings.googleAnalytics4ID=h()),y()!==s&&(e.settings.hideAttribution=y());const t=yield n(e);d(!1),t&&((0,r.Am)("Site settings have been saved"),l(Uv,!1))}))})),type:"submit",loading:c,disabled:!(g&&h()!==o||y()!==s),wrapWidthToContent:!0,options:{theme:"light"}}),i.createElement(Zs,{vibe:"secondary",label:"Cancel",onClick:()=>{l(Uv,!1)}}))))};const Uv=S("page-settings-modal"),_v=(0,i.memo)((({options:e})=>(ql(Uv),i.createElement(tr,{id:Uv},i.createElement(Js,{width:"full"},i.createElement(Oy,{idToClose:Uv}),i.createElement(gv.Z,{defaultActiveKey:"page-settings"},i.createElement(gv.J,{tab:"Page",key:"page-settings"},i.createElement(Sv,{options:e})),i.createElement(gv.J,{tab:"Site",key:"site-settings"},i.createElement(Bv,{options:{site:e.lastUpdatedPage.site,handleSiteChanges:t=>{return a=void 0,n=void 0,o=function*(){return e.updateAndPublishSite(t)},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{l(o.next(e))}catch(e){t(e)}}function r(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof i?a:new i((function(e){e(a)}))).then(s,r)}l((o=o.apply(a,n||[])).next())}));var a,n,i,o}}})),i.createElement(gv.J,{tab:"Delete",key:"danger-zone"},i.createElement(Cv,{options:e})))))))),Hv=(0,i.memo)((({})=>{const e=ol(),t=e.useStore(vc),a=(0,zr.s0)();return i.createElement(i.Suspense,{fallback:i.createElement("div",null)},void 0!==t&&i.createElement(_v,{options:{lastUpdatedPage:ts(t),publishPage:e.publishPage,updateAndPublishSite:e.updateAndPublishSite,onPageSlugRename:e=>{a(e)},onPageDelete:t=>{const n=e.selectOnce((e=>e.user.sitePages)).filter((e=>e.ID!==t.ID)).map((e=>se(e)));n.length>0?a(n[0],{replace:!0}):a("/",{replace:!0})}}}))}));Hv.displayName="PageSettingsContainer";const Gv=S("page-toolbar"),qv=S("page-explorer-tray-toggle"),Wv="page-toolbar",Vv=(0,i.memo)((({forceVisible:e=!1})=>{const t=ol(),a=i.useRef(null),{visible:n}=ql(Gv),{toggleOverlay:o,isOverlayVisible:s}=hs(),r=t.useStore(bl),l=t.useStore(fl),c=t.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.ID})),d=t.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.slug})),u=t.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.isPublic})),m=i.useCallback((()=>{w({event:"opened-page-settings",location:Wv}),o(Uv)}),[o]),g=i.useCallback((()=>{w({event:"toggled-page-explorer",location:Wv}),o(dv)}),[o]),p=i.useCallback((()=>{const e=t.selectOnce(vc);void 0!==e&&(w({event:"clicked-live-preview",location:Wv}),window.open(Ze(e)))}),[t]),h=c===dd.ID||void 0===c,f=i.useMemo((()=>l?d:i.createElement("div",{className:"placeholder",style:{color:"rgba(0,0,0,0.64)"}},"Select a page")),[c,d,h,l]),b=s(dv)||s(Yy),y=s(dv),v=i.useMemo((()=>Od()({hidden:!e&&!n,active:b})),[e,n,b]),E=i.useRef(null);return i.createElement(i.Fragment,null,i.createElement(xu,{ref:a,id:Gv,className:v},r&&i.createElement(i.Fragment,null,i.createElement(ks,{targetRef:E,options:{placement:"left"}},"You can only inspect and copy in sampling mode."),i.createElement("div",{ref:E,className:"sampling-mode-label"},"Sampling Mode")),i.createElement(Zm,{id:qv,onClick:g,active:y},f),!h&&i.createElement(Su,{className:"page-settings-button",label:"Page Settings",icon:ns.gr5,tooltipOptions:{placement:"below"},onClick:m}),l&&u&&i.createElement(Su,{className:"live-preview-button",label:"Live Preview",icon:ns.wlW,tooltipOptions:{placement:"below"},onClick:p}),i.createElement(Fu,null),i.createElement($y,{popoverTargetRef:a})),i.createElement(mv,{targetRef:a}),i.createElement(Hv,null),i.createElement(iv,null),i.createElement(rv,null))}));Vv.displayName="PageToolbar";const $v=(0,i.memo)((({forceVisible:e=!1})=>{const t=ol(),{toggleOverlay:a,isOverlayVisible:n}=hs(),o=t.useStore(ac),s=n(dv)||n(Yy),r=i.useMemo((()=>Od()(x("picker"),{active:s})),[s]);return o===Kl.LoggedOut||o===Kl.Uninitialized?i.createElement(i.Fragment,null):i.createElement("div",{id:S("page-toolbar-container"),className:r},i.createElement(Vv,{forceVisible:e}))}));$v.displayName="PageToolbarContainer";const Yv=S("canvas-size-toggle"),Xv=[{label:"Desktop",icon:ns.tc$,hint:"1",width:void 0,height:void 0,isActive:(e,t)=>t},{label:"Mobile",icon:ns.QUp,hint:"2",width:375,height:667,isActive:(e,t)=>375===e}],Kv=({})=>{const e=ol(),t=i.useRef(null),a=i.useRef(null),n=e.useStore(wl),o=e.useStore(kl),{visible:s}=ql(Yv);return Ne.tq?i.createElement(i.Fragment,null):i.createElement("div",{id:Yv,className:Od()("editor-ui",{visible:s})},Xv.map((({label:s,icon:r,isActive:l,width:c,height:d})=>{return i.createElement(i.Fragment,{key:s},i.createElement(ks,{targetRef:"Desktop"===s?a:t,options:{margin:16}},s," View"),i.createElement("button",{ref:"Desktop"===s?a:t,className:Od()({active:l(n,o)}),onClick:(u=c,m=d,()=>{Hs.play("small-crunch"),e.resetEditor(),void 0===u&&void 0===m?(w({event:"resized-canvas-to-full-screen",location:"canvas-size-toggle"}),e.setIsFullScreen(!0).setCanvasSizePx([window.innerWidth,window.innerHeight])):(w({event:"resized-canvas-to-mobile",location:"canvas-size-toggle"}),e.setIsFullScreen(!1).setCanvasSizePx([u,m]))})},i.createElement(Fs.G,{icon:r})));var u,m})))};Kv.displayName="CanvasSizeToggle";const Zv=S("editor-mode-toggle"),Jv=(0,i.memo)((({})=>{const e=ol(),t=i.useRef(null),{visible:a}=ql(Zv,{uiConfig:{hideInPreviewMode:!1}}),n=e.useStore(yl)===rl.Previewing,o=e.useStore(pl),s=(0,i.useCallback)((()=>{e.resetEditor().toggleInterfaceMode(),w({event:"clicked-editor-mode-toggle",location:"global"})}),[e]);return i.createElement(i.Fragment,null,!n&&i.createElement(ks,{targetRef:t,options:{margin:10}},"Preview"),i.createElement(pp,{id:Zv,ref:t,className:Od()({"preview-mode":n,"edit-mode":!n}),vibe:n?"primary":"neutral",onClick:s,visible:a,disabled:!o},i.createElement(Vs,{gap:0},n&&i.createElement("span",{className:"extra-label"},"Edit"),i.createElement(xs,{icon:n?ns.IwR:ns.Mdf}))))}));Jv.displayName="EditorModeToggle";const Qv=S("focus-mode-dot"),ew=S("focus-mode-dot-tooltip"),tw=(0,i.memo)((({})=>{const e=ol(),t=e.useStore(Sl),a=i.useRef(null),{visible:n}=ql(Qv,{uiConfig:Object.assign(Object.assign({},dl),{hideInFocusMode:!1})}),{showOverlay:o}=hs(),s=i.useCallback((()=>{w({event:"clicked-focus-mode-dot",location:"global"}),o(ew,!1),e.toggleFocusMode(),Hs.play("light-click")}),[e,o]),r=i.useMemo((()=>Od()({enabled:t})),[t]);return n?i.createElement(i.Fragment,null,i.createElement(ks,{id:ew,targetRef:a,hint:"CMD+.",options:{placement:"right"}},t?"Exit":"Enter"," focus mode"),i.createElement("button",{ref:a,className:r,id:Qv,onClick:s})):i.createElement(i.Fragment,null)}));tw.displayName="FocusModeDot";const aw=(0,i.memo)((({})=>{const e=ol(),t=e.useStore((e=>e.page.loading)),a=e.useStore(ac),n=i.useMemo((()=>Od()({visible:t||a===Kl.UsingCachedAccount})),[t,a]);return i.createElement("div",{id:S("page-loading-indicator"),className:n},i.createElement(Qs,{gap:32,className:"loading-indicator",style:{width:"100%",height:"100%"}},i.createElement(xs,{icon:ns.AX7,className:"fa-spin"})))}));aw.displayName="PageLoadingIndicator";const nw=(0,i.memo)((({continueUrl:e})=>i.createElement(i.Fragment,null,"Page published",i.createElement("div",{className:"separator"}),i.createElement("div",{className:"link-container"},i.createElement("a",{href:e,target:"_blank",rel:"noreferrer"},"View")))));nw.displayName="PublishConfirmationToast";const iw=S("publish-button"),ow=new de({caller:"PublishButton"}),sw=(0,i.memo)((({})=>{const e=ol(),t=i.useRef(null),a=e.useStore(Fc),n=e.useStore(fl),o=e.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.ID})),s=e.useStore(Sl),l=e.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.isPublic})),[c,d]=(0,i.useState)(!1),{visible:u}=ql(iw,{uiConfig:Object.assign(Object.assign({},dl),{hideInFocusMode:!1})}),{showOverlay:m}=hs(),g=(0,zr.TH)(),p=i.useCallback((()=>{return t=void 0,a=void 0,o=function*(){ow.info("Publish button click detected");const t=e.selectOnce(vc),a=e.selectOnce(ac),n=e.selectOnce(tc);if(void 0===t)return ow.error("Attempt to publish undefined page"),void(0,r.Am)("Something went wrong while publishing. Please report PAGE_ERROR.");if(void 0===n)return ow.error("Attempt to publish with undefined account"),void(0,r.Am)("Something went wrong while publishing. Please report ACCOUNT_ERROR.");a!==Kl.LoggedIn&&(0,r.Am)("You need to be logged in."),w({event:"click-publish-button",location:"builder",page:`${t.site.slug}.${t.slug}`}),d(!0);const o=yield e.publishPage();d(!1),o?((0,r.Am)(i.createElement(nw,{continueUrl:Ze(t)}),{autoClose:5e3,pauseOnHover:!0}),"?first_page"===g.search&&(w({event:"show-first-publish-prompt",location:"builder"}),m(sf))):ow.error("Failed attempt to publish page after API call.")},new((n=void 0)||(n=Promise))((function(e,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function r(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(s,r)}l((o=o.apply(t,a||[])).next())}));var t,a,n,o}),[e,m,g.search]),h=l?"Publish":"Save",f=i.useMemo((()=>({})),[]);return n&&a&&u?i.createElement(i.Fragment,null,s&&i.createElement(ks,{targetRef:t,options:{placement:"below"}},h),i.createElement(pp,{id:iw,ref:t,vibe:"neutral",size:"regular",style:f,onClick:p,className:Od()({"focus-mode":s}),visible:a&&-1!==o},i.createElement(Vs,{gap:8},c?i.createElement(Fs.G,{icon:ns.AX7,className:"fa-spin"}):i.createElement(i.Fragment,null),i.createElement("div",{className:"label expanded"}," ",h),i.createElement("div",{className:"label condensed"},i.createElement(xs,{icon:ns.r6l}))))):i.createElement(i.Fragment,null)}));sw.displayName="PublishButton";var rw=a(30457);const lw=S("text-editor-prose-mirror"),cw=(new de({caller:"TextEditorView"}),({thingId:e,visible:t,text:a,onChange:n,onResize:o})=>{const s=ol(),r=s.selectOnce((t=>{var a,n;return null===(n=null===(a=t.page.stable)||void 0===a?void 0:a.things.get(e))||void 0===n?void 0:n.parentId}));(0,i.useEffect)((()=>{const t=s.selectOnce((t=>{var a;return null===(a=t.page.stable)||void 0===a?void 0:a.things.get(e)}));t.content.useAutosize&&(t.content.useAutosize=!1,s.patchThingsThisIsSuperRawAndUnadvisedPleaseDontUse([{ID:t.ID,content:{useAutosize:!1}}]))}),[s,e]);const l=(0,i.useCallback)(((e,t)=>{n&&n(t),s.setTipTapEditor(e)}),[s,n]),c=(0,i.useCallback)((e=>{const t=s.selectOnce(Uc),{fontSize:a,font:n,color:i}=e.getAttributes("textStyle"),o=e.getAttributes("paragraph").lineHeight;s.setModeState(Object.assign(Object.assign({},t),{selection:Object.assign(Object.assign({},t.selection),{font:n,fontSize:a,isBold:e.isActive("bold"),isItalic:e.isActive("italic"),lineHeight:o,color:i})}))}),[s]),d=(0,i.useCallback)((e=>{c(e)}),[c]);Yt(lw,(e=>{const{width:t,height:a}=e.contentRect;let n=t,i=a;(Ne.gn||Ne.G6)&&(n/=10,i/=10),o&&o(n,i)}));const u=i.useMemo((()=>Ro(a,!0)),[a]),m=((e,t={},a=[])=>{const[n,o]=(0,i.useState)(null),s=function(){const[,e]=(0,i.useState)(0);return()=>e((e=>e+1))}();return(0,i.useEffect)((()=>{null==n||n.setEditable(e),e&&(null==n||n.chain().focus(null,{scrollIntoView:!1}).run())}),[e,n]),(0,i.useEffect)((()=>{const e=new rw.ML(t);return o(e),e.on("transaction",(()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{s()}))}))})),()=>{e.destroy()}}),a),n})(t,{extensions:To,editorProps:{handleClick:()=>!0,handleDrop:()=>!0,handleDOMEvents:{click:()=>!0,drag:()=>!0,dragend:()=>!0,dragenter:()=>!0,dragleave:()=>!0,dragover:()=>!0,dragstart:()=>!0,drop:()=>!0,mousedown:()=>!0,mouseenter:()=>!0,mouseleave:()=>!0,mousemove:()=>!0,mouseout:()=>!0,mouseover:()=>!0,mouseup:()=>!0,pointercancel:()=>!0,pointerdown:()=>!0,pointerenter:()=>!0,pointerleave:()=>!0,pointermove:()=>!0,pointerout:()=>!0,pointerover:()=>!0,pointerup:()=>!0}},content:u,autofocus:"start",parseOptions:{preserveWhitespace:"full"},onFocus:({editor:e})=>d(e),onSelectionUpdate:({editor:e})=>c(e),onUpdate:({editor:e})=>{c(e),l(e,JSON.stringify(null==e?void 0:e.getJSON()))},editable:!0},[e,a]),g=i.useMemo((()=>{var e;if(void 0===r)return{};const t=s.selectOnce((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.things.get(r)})),a=null!==(e=window[`section-scaler-${r}`])&&void 0!==e?e:1;return{"--rpx":`min(calc(var(--canvas-width) / ${null==t?void 0:t.position.width}), 1px)`,"--scaler":a}}),[r]),p=i.useMemo((()=>I(x("text-editor-view"),{visible:t})),[t]),h=i.useMemo((()=>I("text-content")),[]);return i.createElement(hb,{className:p,thingId:e,hideContents:!0,isEditingCopy:!0,renderInRoot:!0},i.createElement("div",{className:h,style:g},i.createElement("div",{className:"absolute-positioned-wrapper"},i.createElement(rw.kg,{id:lw,editor:m}))))});cw.displayName="TextEditorView";const dw=new de({caller:"TextEditor"}),uw=(0,i.memo)((({})=>{var e;const t=ol(),a=t.useStore(Bc),n=t.useStore(_c),o=t.useStore((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.things.get(n.first())})),s=n.first(),r=i.useCallback(((e,a)=>{if(t.selectOnce(Ye))return;if(void 0===s)return;if(1!==n.size)return;const i=t.selectOnce(_l);if(i===Ll.Pinch||i===Ll.Translate)return;const o=t.selectOnce((e=>{var t;return null===(t=e.page.inProgress)||void 0===t?void 0:t.things.get(s)})),r=t.selectOnce((e=>{var t;return null===(t=e.page.stable)||void 0===t?void 0:t.things.get(s)})),l=null!=o?o:r;if(void 0===l)return void dw.error(`Thing not found for selected ID ${s}`);if(0===a)return;const c=function(e){var t;let a=null!==(t=e.padding)&&void 0!==t?t:0;if(e.border){const t=new RegExp(/^([0-9]*)px\s(solid|dashed|dotted)\s(.*)$/g),n=e.border.matchAll(t),[,i,,]=Array.from(n)[0];a+=parseFloat(i)}return a}(l.styles),d=a+2*c;Math.abs(d-l.position.height)<2||t.mutateThings((e=>e.setHeight(d)),{thingsToMutate:[l],inProgress:void 0!==o})}),[t,s,n]),l=i.useCallback((e=>{if(t.selectOnce(Bc)!==Ce.TextEditing)return;if(void 0===s)return void dw.error("handleChange() failed since selectedId is undefined");let a=t.selectOnce((e=>{var t;return null===(t=e.page.inProgress)||void 0===t?void 0:t.things.get(s)}));if(void 0===a&&(dw.warn("handleChange() failed since inProgress is undefined. beginInProgressPage() called."),t.beginInProgressPage(),a=t.selectOnce((e=>{var t;return null===(t=e.page.inProgress)||void 0===t?void 0:t.things.get(s)})),void 0===a))return void dw.error("handleChange() continued to fail even after beginInProgressPage()");const n=Object.assign(Object.assign({},a.content),{text:e});t.mutateThings((e=>e.setContent({type:zt.Text,content:n})),{inProgress:!0,thingsToMutate:[a]})}),[t,s]),c=i.useCallback((()=>{Mc(t)}),[t]);Vt(window,"focusout",(()=>{if(!Ne.tq)return;const{isPointerOverUiElement:e}=t.handlers;e&&e(t.state)||a===Ce.TextEditing&&c()}),[a,c]);const[d,u]=i.useState(window.innerHeight);return Vt(window,"resize",(e=>{Ne.tq&&(a===Ce.TextEditing&&window.innerHeight>d&&c(),u(window.innerHeight))}),[c,a,u,d]),1!==n.size||void 0===s||void 0===o||(null==o?void 0:o.type)!==zt.Text?i.createElement(i.Fragment,null):i.createElement(cw,{key:s,thingId:s,text:null!==(e=o.content.text)&&void 0!==e?e:"",visible:a===Ce.TextEditing,onResize:r,onChange:l})}));uw.displayName="TextEditor",new de({caller:"Editor"});const mw=({onMount:e,guestMode:t,children:a})=>{const n=ol();(0,i.useEffect)((()=>{e&&e(n)}),[]);const o=n.useStore(yl)===rl.Previewing,s=n.useStore(Bc),r=(0,i.useRef)(null),l=i.useMemo((()=>Od()({homepage:"/"===location.pathname,"preview-mode":o,"editing-mode":!o})),[o]),c=i.useMemo((()=>Od()({"layout-mode":s===Ce.Layout,"preview-mode":o,"editing-mode":!o})),[o,s]);return i.createElement("div",{id:"editor",className:l,onDragOver:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),ref:r},i.createElement(Md(),{className:c}),i.createElement(Mp,null),i.createElement(jd,{componentName:"EditorHooks"},i.createElement(Eu,null)),i.createElement(ef,null),i.createElement(ch,null,i.createElement(nh,null,i.createElement(oh,null,i.createElement(sh,null,i.createElement(aw,null),i.createElement(hh,null),i.createElement(jd,{componentName:"Renderer"},i.createElement(Cb,null,i.createElement(uh,null))),i.createElement(Qp,null),i.createElement(jd,{componentName:"TextEditor"},i.createElement(uw,null)),i.createElement(th,null),i.createElement(rh,null,i.createElement(jd,{componentName:"SelectionBounds"},i.createElement(kh,null)),i.createElement(jd,{componentName:"CanvasToolbar"},i.createElement(Wy,{position:"in-canvas"}))),!Ne.tq&&i.createElement(bh,null),i.createElement(uf,null))),i.createElement(ih,null,i.createElement(jd,{componentName:"CanvasToolbar"},i.createElement(Wy,{position:"above-canvas"})))),i.createElement(jp,null),!Ne.tq&&i.createElement(of,null),!Ne.tq&&i.createElement(tw,null),i.createElement(Rd,{h:"right",v:"top",dir:"horizontal",style:{top:0,right:0}},i.createElement(Vs,{crossAxisAlign:"start"},i.createElement($v,null),i.createElement(sw,null))),i.createElement(Bp,null,i.createElement(Hp,null)),i.createElement(Rd,{className:"editor-toggle-area",h:"right",v:"bottom",dir:"horizontal",style:{bottom:"var(--editor-toggle-area-margin, var(--margin))",right:"var(--margin)"}},i.createElement(Qs,{gap:12,crossAxisAlign:"end"},i.createElement($p,null),i.createElement(Vs,{gap:12,mainAxisAlign:"end",crossAxisAlign:"end"},i.createElement(Kv,null),i.createElement(Jv,null)))),i.createElement(jd,{componentName:"SupplementalEditorHooks"},i.createElement(Dp,{domTarget:r})),i.createElement(Bb,null),a,i.createElement(Lp,null)),i.createElement(jd,{componentName:"Expert Mode Sidebar"},i.createElement(Qh,null)),i.createElement(Zp,null))},gw=fs((({id:e,className:t,style:a,icon:n,onClick:o,href:s,children:r,small:l=!1,tooltip:c},d)=>{const u=i.useRef(null),m=(0,gs.Z)(u,d),g=i.useCallback((()=>{Hs.play("light-click"),void 0!==o&&o()}),[o]),p=i.useMemo((()=>F()(x("menu-link"),t,{small:l})),[t,l]);return i.createElement(i.Fragment,null,void 0!==c&&i.createElement(ks,{targetRef:u,options:c.options,hint:c.hint},c.label),i.createElement("a",{ref:m,id:e,href:s,target:"_blank",style:a,className:p,onClick:g},void 0!==n&&i.createElement("div",{className:"icon"},i.createElement(xs,{icon:n})),r))}));gw.displayName="MenuLink";var pw=function(e,t,a,n){return new(a||(a=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}))};const hw=S("account-settings"),fw=(0,i.memo)((({additionalPanels:e})=>{const t=ol();ql(hw);const{showOverlay:a}=hs(),[n,o]=i.useState(!1),s=t.useStore(tc),{logout:l}=i.useContext(Qr),c=i.useRef(null),d=i.useCallback((()=>pw(void 0,void 0,void 0,(function*(){w({event:"clicked-upgrade-from-account-modal",location:"account-modal"}),a(hw,!1),a(nc,!0)}))),[]),u=i.useCallback((()=>pw(void 0,void 0,void 0,(function*(){o(!0);const[e,t]=yield(a={},fr(void 0,void 0,void 0,(function*(){try{return[(yield yr.post("/payment/portal/session",a)).data,void 0]}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),a.trim(),(0,r.Am)(lr),[void 0,new Error(a)]}})));var a;if(o(!1),void 0===e||void 0!==t)return;const n=new URL(e.portalURL);"billing.stripe.com"===n.host?window.open(n.toString(),"_blank","noopener,noreferrer"):(0,r.Am)(lr)}))),[]),m=i.useCallback((()=>pw(void 0,void 0,void 0,(function*(){l()}))),[l]);return i.createElement(tr,{id:hw},i.createElement(Js,{width:"medium"},i.createElement(Oy,{idToClose:hw}),i.createElement(ks,{targetRef:c},"Log Out"),i.createElement(Zs,{ref:c,vibe:"neutral",size:"mini",style:{position:"absolute",top:"16px",right:"50px",height:24,zIndex:1},onClick:m},i.createElement(xs,{icon:ns.mXR})),i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start",gap:8},i.createElement("h2",{style:{fontSize:16,textTransform:"uppercase"}},null==s?void 0:s.username))),e,i.createElement(qp,{account:s,allowed:Ov},i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement(Wu,{label:"Manage Subscription"}),i.createElement(Vs,{mainAxisAlign:"start",gap:8},i.createElement(Zs,{vibe:"neutral",onClick:u,loading:n},"Manage Subscription"),i.createElement(Zs,{vibe:"secondary",onClick:u,loading:n},"Cancel It"))))),i.createElement(qp,{account:s,disallowed:Ov},i.createElement(Ws,{style:{background:"rgba( 247, 201, 84, 0.24)"}},i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",null,i.createElement("strong",null,"Keep mmm independent.")," mmm.page is an indie product, and each upgrade helps. You'll be able to add more blocks, use domain names, and more."),i.createElement("p",null,"Also, you'll have our undying gratitude."),i.createElement(Vs,null,i.createElement(Zs,{vibe:"primary",options:{fattyWidth:!0},onClick:d},"Upgrade"))))),i.createElement(Ws,null,i.createElement(Vs,{gap:8},i.createElement("p",{className:"fine-print",style:{margin:0}},"You can't change your username or email right now, but the feature is coming shortly. Apologies!")))))}));fw.displayName="AccountSettingsModal";const bw={placement:"above"},yw=(0,i.memo)((({})=>{const e=ol().useStore(tc),{showOverlay:t}=hs(),{logout:a}=i.useContext(Qr),n=i.useRef(null),o=i.useRef(null),s=i.useCallback((()=>{w({event:"clicked-account-settings-in-settings-popover",location:"settings-popover"}),t(Dw,!1),t(hw,!0)}),[t]),r=i.useCallback((()=>{w({event:"clicked-logout-in-settings-popover",location:"settings-popover"}),a(),t(Dw,!1)}),[t,a]),l=i.useMemo((()=>({textOverflow:"ellipsis",overflow:"hidden",display:"block",textAlign:"left"})),[]);return i.useMemo((()=>{var t;return cc.hasUpgraded(null!==(t=null==e?void 0:e.roles)&&void 0!==t?t:[])}),[e]),void 0===e?i.createElement(i.Fragment,null):i.createElement(i.Fragment,null,i.createElement(ks,{targetRef:n,options:bw},"Account Settings"),i.createElement(ks,{targetRef:o,options:bw},"Logout"),i.createElement(Vs,{gap:0},i.createElement(lv,{ref:n,onClick:s,style:l},i.createElement("strong",null,null==e?void 0:e.username)),i.createElement(Vs,{fullWidth:!1},(null==e?void 0:e.roles.includes(mt.Pro))&&i.createElement(Ev,null),(null==e?void 0:e.roles.includes(mt.Supporter))&&i.createElement(kv,null),(null==e?void 0:e.roles.includes(mt.Plus))&&i.createElement(wv,null),i.createElement(lv,{ref:o,onClick:r,style:l,icon:ns.mXR}))))}));yw.displayName="AccountSettingsButton";const vw=S("affiliate-modal"),ww=(0,i.memo)((({})=>{ql(vw);const e=i.useCallback((()=>{w({event:"clicked-link-to-affiliate-dashboard",location:"affiliate-modal"}),window.open(p.affiliateDashboardUrl)}),[]);return i.createElement(tr,{id:vw},i.createElement(Js,null,i.createElement(Oy,{idToClose:S("affiliate-modal")}),i.createElement(Op,null,"Affiliate Program"),i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",null,i.createElement("strong",null,"Earn 20% of revenue.")," ",i.createElement("br",null),"For example, if you refer 10 people who upgrade to ",i.createElement("code",null,"plus"),", you will receive ",i.createElement("code",null,"$20")," ","every month, for as long as they subscribe."))),i.createElement(Ws,null,i.createElement(Zs,{onClick:e},"Go to Affiliate Dashboard"))))}));ww.displayName="AffiliateModal";const Ew=S("feedback-modal"),kw=(0,i.memo)((({})=>(ql(Ew),i.createElement(tr,{id:Ew},i.createElement(Js,{style:{overflow:"hidden"}},i.createElement(Oy,{idToClose:Ew,vibe:"neutral",style:{width:44,top:6,right:8}}),i.createElement(Ws,{style:{height:400},noPadding:!0},i.createElement("iframe",{id:"feedback-embed",src:"https://loaf.frill.co/embed/widget/6b0261e5-06a0-4330-a083-5102b8d1ae1a",sandbox:"allow-same-origin allow-scripts allow-top-navigation allow-popups allow-forms allow-popups-to-escape-sandbox",style:{border:0,outline:0,width:"100%",height:"100%"}})))))));kw.displayName="FeedbackModal";const Fw=(0,i.memo)((({})=>{const e=ol(),t=e.useStore((e=>e.preferences["interface.responsiveGuides"])),a=i.useCallback((()=>{w({event:`toggle-responsive-guides-${!t}`,location:"settings-popover"}),e.setPreferences({"interface.responsiveGuides":!t})}),[e,t]),n=i.useMemo((()=>({label:i.createElement(i.Fragment,null,t&&i.createElement("span",null,"Hide ",i.createElement("code",null,"NOT VISIBLE ON PHONES")," warning. Useful for free-form brainstorming."),!t&&i.createElement("span",null,"Show ",i.createElement("code",null,"NOT VISIBLE ON PHONES")," warning. Useful for making websites.")),options:{placement:"right"}})),[t]);return Ne.tq?i.createElement(i.Fragment,null):i.createElement(i.Fragment,null,i.createElement($h,{id:S("responsive-guides-toggle"),onClick:a,enabled:t,tooltip:n},"Responsive Guides"))}));Fw.displayName="ResponsiveGuidesToggle";const xw=(0,i.memo)((({})=>{const e=ol(),t=e.useStore((e=>e.preferences["sfx.enabled"])),a=i.useCallback((()=>{e.setPreferences({"sfx.enabled":!t})}),[e,t]);return i.createElement($h,{id:S("responsive-guides-toggle"),onClick:a,enabled:t,tooltip:{label:t?"Sound Effects: On":"Sound Effects: Off",options:{placement:"right"}},noSfx:!0},"Sound Effects")}));xw.displayName="VolumeToggle";const Sw=S("hover-vouchers-modal"),Iw=(0,i.memo)((({})=>{const e=ol(),[t,a]=i.useState(!1);ql(Sw);const n=i.useCallback((()=>{return t=void 0,n=void 0,o=function*(){a(!0);const[t,n]=yield function(){return fr(this,void 0,void 0,(function*(){try{return[(yield yr.post("/v2/domain/voucher/issue")).data,void 0]}catch(e){const{response:t}=e,{data:a}=t;return Pr(t),a.trim(),(0,r.Am)(lr),[void 0,new Error(a)]}}))}();if(a(!1),void 0!==n||void 0===t)return void(0,r.Am)(lr);w({event:"redeemed-domain-voucher",location:"hover-vouchers-modal"}),e.setPreferences({"domainVoucher.dismissed":!0,"domainVoucher.read":!0});const{redemptionUrl:i}=t;window.open(i)},new((i=void 0)||(i=Promise))((function(e,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function r(e){try{l(o.throw(e))}catch(e){a(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof i?a:new i((function(e){e(a)}))).then(s,r)}l((o=o.apply(t,n||[])).next())}));var t,n,i,o}),[a]);return i.createElement(tr,{id:Sw},i.createElement(Js,{width:"narrow"},i.createElement(Ws,{direction:"vertical"},i.createElement("p",null,"All ",i.createElement(wv,null)," and ",i.createElement(Ev,null)," accounts are eligible for a free domain for the first year."),i.createElement("p",null,"You will be redirected to our partner Hover.com's portal."),i.createElement(Zs,{onClick:n,loading:t},"Redeem Voucher"))))}));Iw.displayName="HoverVouchersModal";const Cw=(0,i.memo)((({})=>{const e=ol(),{showOverlay:t}=hs();i.useEffect((()=>{e.setPreferences({"domainVoucher.read":!0})}),[]);const a=i.useCallback((()=>{w({event:"clicked-redeem-domain-voucher-in-notification",location:"hover-vouchers-notification"}),t(Sw),t(Dw,!1)}),[t]),n=i.useCallback((()=>{w({event:"clicked-dismiss-domain-voucher-in-notification",location:"hover-vouchers-notification"}),e.setPreferences({"domainVoucher.dismissed":!0})}),[t]);return i.createElement("div",{id:S("hover-notification")},i.createElement("p",null,"Redeem your free domain!"),i.createElement(Vs,{gap:8},i.createElement(Zs,{vibe:"primary",size:"mini",fullWidth:!0,onClick:a},"Redeem"),i.createElement(Zs,{vibe:"secondary",size:"mini",onClick:n},"Dismiss")))}));Cw.displayName="HoverNotification";const Pw=(0,i.memo)((({onClickCallback:e,fullWidth:t,label:a})=>{const n=ol(),o=i.useRef(null),s=n.useStore(tc),{showOverlay:r}=hs(),l=i.useCallback((()=>{r(nc,!0),void 0!==e&&e()}),[r,e]);return i.createElement(i.Fragment,null,i.createElement(qp,{account:s,disallowed:Ov},i.createElement(ks,{targetRef:o,options:{placement:"right"}},"Upgrade"),i.createElement(Zs,{ref:o,label:"Upgrade",size:"small",onClick:l,style:{marginTop:6,marginLeft:4,marginRight:2,width:"100%",flexShrink:0},fullWidth:!0},null!=a?a:"Upgrade")))}));Pw.displayName="UpgradeButton";const Tw=S("helper-modal"),Nw=(0,i.memo)((({})=>{ol();const{showOverlay:e}=hs();ql(Tw);const t=i.useCallback((()=>{e(Uv),w({event:"clicked-add-domain-in-helper-modal",location:"helper-modal"})}),[e]),a=i.useCallback((()=>{window.open(p.discordUrl,"_blank"),w({event:"clicked-discord-in-helper-modal",location:"helper-modal"})}),[]),n=i.useCallback((()=>{window.open(p.creatorTwitterUrl,"_blank"),w({event:"clicked-twitter-in-helper-modal",location:"helper-modal"})}),[]),o=i.useCallback((()=>{window.open(p.supportEmailUrl,"_blank"),w({event:"clicked-email-in-helper-modal",location:"helper-modal"})}),[]),s=i.useCallback((()=>{e(Tw,!1),e(nc,!0)}),[e]);return i.createElement(tr,{id:Tw},i.createElement(Js,null,i.createElement(Oy,{idToClose:Tw}),i.createElement(gv.Z,{defaultActiveKey:"note"},i.createElement(gv.J,{tab:"Note",key:"note"},i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",null,"Hello,"),i.createElement("p",null,"Welcome! I created mmm.page to have more fun online  to create a tool that lets people create richer websites."," ",i.createElement("a",{href:"https://twitter.com/xhfloz/status/1631746024120221698",target:"_blank"},"More on the why.")),i.createElement("p",null,"Eventually, I want to build out mmm.town to let people experiment with their own social spaces. Enjoy :)"),i.createElement("p",null," XH"),i.createElement("p",null,"P.S. Help keep mmm.page bootstrapped by ",i.createElement("a",{onClick:s},"upgrading"),"!"))),i.createElement(Ws,null,i.createElement(Vs,{gap:8,mainAxisAlign:"start"},i.createElement(Zs,{label:"Discord",size:"small",vibe:"primary",onClick:a}),i.createElement(Zs,{label:"@xhfloz",size:"small",vibe:"secondary",onClick:n}),i.createElement(Zs,{label:"Email",size:"small",vibe:"secondary",onClick:o})))),i.createElement(gv.J,{tab:"FAQ",key:"faq"},i.createElement(Ws,null,i.createElement(Vs,{crossAxisAlign:"end"},i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",{style:{marginBottom:4}},i.createElement("strong",null,"How do I add a domain name?")),i.createElement("p",null,"It's easy, but you'll need a ",i.createElement("strong",null,"PRO")," account.")),i.createElement(Zs,{label:"Add Domain",size:"small",vibe:"neutral",onClick:t}))),i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",{style:{marginBottom:4}},i.createElement("strong",null,"How do I pronounce mmm.page?")),i.createElement("p",null,"I say ",i.createElement("code",null,"mmm-page"),". Others: ",i.createElement("code",null,"mmm-dot-page"),", ",i.createElement("code",null,"m-page")," or"," ",i.createElement("code",null,"mmm"),".")))),i.createElement(gv.J,{tab:"Tips",key:"tips"},i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",{style:{marginBottom:4}},i.createElement("strong",null,"Design first, then adjust")),i.createElement("p",null,"Don't worry about responsiveness yet. Lay it out first, then clean it up."))),i.createElement(Ws,null,i.createElement(Gu,{type:"secondary"},"It's a bit barren here right now. More to come soon."))),i.createElement(gv.J,{tab:"Tricks",key:"tricks"},i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",{style:{marginBottom:4}},i.createElement("strong",null,"Try pasting anything")),i.createElement("p",null,"Text, images, URLs, blocks from other pages. We'll add it. Go ahead. Try copy & pasting this:"," ",i.createElement("code",null,"https://youtu.be/dQw4w9WgXcQ"),"."))),i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement("p",{style:{marginBottom:4}},i.createElement("strong",null,"Keyboard Shortcuts")),i.createElement("p",{style:{marginBottom:4}},"Shift + resize to proportionally resize"),i.createElement("p",null,"Alt + click to cycle through overlapping blocks"))),i.createElement(Ws,null,i.createElement(Gu,{type:"secondary"},"It's a bit barren here right now. More to come soon."))))))}));Nw.displayName="HelperModal";const Rw=S("settings-toggle"),Dw=S("settings-popover-id"),Ow="settings-popover",Aw=(0,i.memo)((({forceVisible:e})=>{const t=ol(),a=i.useRef(),n=t.useStore(Sl),o=t.useStore(yl),{visible:s}=ql(Rw,{alsoHideWhen:()=>n});ql(Dw);const{showOverlay:r,isOverlayVisible:l}=hs(),c=l(Dw),d=t.useStore(ac),{notifications:u,notificationsCount:m,hasNotifications:g}=function(){const e=ol(),t=e.useStore((e=>e.preferences["domainVoucher.eligible"])),a=e.useStore((e=>e.preferences["domainVoucher.read"])),n=e.useStore((e=>e.preferences["domainVoucher.dismissed"])),i=t&&!n;return{notifications:[],notificationsCount:i&&!a?1:0,hasNotifications:i}}(),h=i.useCallback((()=>{l(Dw)?(r(Dw,!1),w({event:"closed-settings-popover",location:"global"})):(r(Dw,!0),w({event:"opened-settings-popover",location:"global"}))}),[r,l]),f=(i.useCallback((()=>{w({event:"clicked-account-settings-in-settings-popover",location:Ow}),r(Dw,!1),r(hw,!0)}),[r]),i.useCallback((()=>{w({event:"clicked-about-in-settings-popover",location:Ow}),r(Dw,!1),r(Tw,!0)}),[r])),b=i.useCallback((()=>{w({event:"clicked-feedback-in-settings-popover",location:Ow}),r(Dw,!1),r(Ew,!0)}),[t,r]),y=i.useCallback((()=>{w({event:"clicked-woolgather-in-settings-popover",location:Ow})}),[t]),v=i.useCallback((()=>{r(Dw,!1),r(vw,!0),w({event:"clicked-affiliate-from-settings-popover",location:Ow})}),[r]),E=i.useCallback((()=>{r(Dw,!1),w({event:"opened-upgrade-modal",location:Ow})}),[r]),k=i.useCallback((()=>{w({event:"clicked-twitter-link-from-settings-popover",location:Ow})}),[]),F=i.useCallback((()=>{w({event:"clicked-tiktok-link-from-settings-popover",location:Ow})}),[]),x=i.useCallback((()=>{w({event:"clicked-instagram-link-from-settings-popover",location:Ow})}),[]),I=i.useCallback((()=>{w({event:"clicked-discord-link-from-settings-popover",location:Ow})}),[]),C=i.useCallback((()=>{w({event:"clicked-pricing-link-from-settings-popover",location:Ow}),r(Dw,!1),r(nc,!0)}),[r]),P=d!==Kl.LoggedIn&&d!==Kl.UsingCachedAccount,T=i.useMemo((()=>!(!e||n)||s),[e,n,s]);return i.createElement(i.Fragment,null,!P&&i.createElement(fw,null),i.createElement(kw,null),i.createElement(Nw,null),i.createElement(ww,null),i.createElement(pp,{id:Rw,ref:a,vibe:"neutral",visible:T,onClick:h,tooltipOptions:{placement:"right"}},!c&&i.createElement(xs,{icon:ns.xiG}),c&&i.createElement(xs,{icon:ns.NBC}),m>0&&i.createElement("div",{className:"notification-bubble"},m)),i.createElement(Vd,{id:Dw,targetRef:a,idsToIgnoreForOutsideClick:[Rw]},i.createElement(Js,{className:"settings-popover"},i.createElement(Ws,{fullWidth:!0,noPadding:!0},i.createElement(Qs,{gap:0},!P&&i.createElement(i.Fragment,null,i.createElement(yw,null),i.createElement(Pw,{label:"Upgrade",onClickCallback:E,fullWidth:!0}),i.createElement(Fu,null)),g&&i.createElement(i.Fragment,null,i.createElement(Cw,null),i.createElement(Fu,null)),o===rl.Editing&&i.createElement(i.Fragment,null,i.createElement(Yh,null),i.createElement(Fw,null),i.createElement(xw,null),i.createElement(Fu,null)),i.createElement(lv,{icon:vd.sqG,onClick:f},i.createElement("span",null,"About")),d===Kl.LoggedOut&&i.createElement(lv,{icon:ns.$X1,onClick:C},i.createElement("span",null,"Pricing")),i.createElement(lv,{icon:vd.M6r,onClick:v},i.createElement("span",null,"Affiliate")),i.createElement(lv,{icon:vd.X8G,onClick:b},i.createElement("span",null,"Feedback")),i.createElement(lv,{href:"https://woolgather.sh",icon:vd.Xgz,onClick:y},i.createElement("span",null,"Woolgather")),i.createElement(Fu,null),i.createElement(Vs,{mainAxisAlign:"space-between"},i.createElement(Vs,{fullWidth:!1},i.createElement(gw,{href:p.twitterUrl,onClick:k,icon:Ku.mdU,tooltip:{label:"Follow on Twitter",options:{placement:"below"}},small:!0}),i.createElement(gw,{href:p.discordUrl,onClick:I,icon:Ku.omb,tooltip:{label:"Join our Discord",options:{placement:"below"}},small:!0}),i.createElement(gw,{href:p.tiktokUrl,onClick:F,icon:Ku.ABo,tooltip:{label:"Follow on TikTok",options:{placement:"below"}},small:!0}),i.createElement(gw,{href:p.instagramUrl,onClick:x,icon:Ku.Zzi,tooltip:{label:"Follow on IG",options:{placement:"below"}},small:!0})),i.createElement(gw,{id:S("byline"),href:p.creatorTwitterUrl,tooltip:{label:"@xhfloz",options:{placement:"below"}}},"By ",i.createElement("span",null,"XH"))))))),i.createElement(Iw,null))}));Aw.displayName="SettingsToggle";const Mw=(0,i.memo)((({visible:e,children:t,animation:a="fade"})=>e?i.createElement("div",{className:F()(x("animation-effect"),{"fade-in":"fade"===a,"width-in":"width"===a,bounce:"bounce"===a})},t):i.createElement(i.Fragment,null)));Mw.displayName="AnimationEffect";const zw=({children:e})=>{const t=ol().useStore(ac);return i.createElement(Mw,{visible:t===Kl.LoggedOut},e)};zw.displayName="LoggedOut";const Lw=S("login-button"),jw=(0,i.memo)((({})=>{const{showOverlay:e}=hs(),t=(0,i.useCallback)((()=>{e(Wl)}),[e]);return i.createElement(Zs,{id:Lw,vibe:"secondary",onClick:t},"Login")}));jw.displayName="LoginButton";const Bw=S("sign-up-button"),Uw=(0,i.memo)((({})=>{const{showOverlay:e}=hs(),t=(0,i.useCallback)((()=>{e(Yl)}),[e]);return i.createElement(Zs,{id:Bw,vibe:"neutral",onClick:t},"Sign Up")}));Uw.displayName="SignUpButton";const _w=(0,i.memo)((({})=>{ql(Lw),ql(Bw);const{showOverlay:e}=hs(),t=(0,zr.TH)();return i.useEffect((()=>{"?signup"===t.search&&setTimeout((()=>{e(Yl,!0)}),100)}),[t.search,e]),i.createElement(Vs,{gap:8},i.createElement(jw,null),i.createElement(Uw,null),i.createElement(Vl,null),i.createElement(Xl,null))}));_w.displayName="GuestRegion";const Hw=()=>{ol();const e=i.useCallback((e=>{return t=void 0,a=void 0,i=function*(){e.toggleInterfaceMode(rl.Previewing)},new((n=void 0)||(n=Promise))((function(e,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function r(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(s,r)}l((i=i.apply(t,a||[])).next())}));var t,a,n,i}),[]);return i.createElement(mw,{onMount:e},i.createElement(Rd,{h:"left",v:"top",dir:"horizontal"},i.createElement(Aw,{forceVisible:!0})),i.createElement(Rd,{h:"right",v:"top",dir:"horizontal"},i.createElement(zw,null,i.createElement(_w,null))))},Gw=()=>i.createElement(Hw,null),qw=S("upgrade-success-modal"),Ww=(0,i.memo)((({})=>{const e=ol(),t=(0,zr.TH)(),a=(0,zr.s0)(),{showOverlay:n,isOverlayVisible:o}=hs(),s=(0,i.useCallback)((()=>{a(t.pathname),n(qw,!1)}),[n]),r=o(qw);return i.useEffect((()=>{!0===r&&e.setPreferences({"domainVoucher.read":!1,"domainVoucher.dismissed":!1,"domainVoucher.eligible":!0})}),[r]),i.createElement(tr,{id:qw},i.createElement(Js,{width:"medium"},i.createElement(Op,null,"Upgrade Successful"),i.createElement(Ws,{direction:"vertical"},i.createElement("p",null,"Each subscription helps maintain mmm.page's independence, and lets us keep experimenting with new features, so thank you."),i.createElement("p",null,"Enjoy!")),i.createElement(Ws,{direction:"vertical"},i.createElement(Zs,{options:{fattyWidth:!0},onClick:s},"Continue"))))}));function Vw(){const e=(0,zr.TH)(),{showOverlay:t}=hs();return i.useEffect((()=>{e.search.includes("upgrade_success")&&t(qw,!0)}),[e.search]),i.createElement(i.Fragment,null,i.createElement(Ww,null))}Ww.displayName="UpgradeSuccessModal";var $w=a(10837),Yw=a.n($w);const Xw=(0,i.memo)((({children:e})=>i.createElement("div",{className:S("base-screen")},e)));Xw.displayName="BaseScreen";const Kw=(0,i.memo)((({continueUrl:e})=>{const[t,a]=i.useState(""),n=(0,zr.s0)(),o=i.useCallback((a=>{a.preventDefault(),void 0!==e?(void 0!==t&&w({event:"new-sign-up",location:"complete-sign-up",referrer:t}),n(e)):(0,r.Am)("Continue URL has an issue...")}),[e,n,t]);return i.createElement(i.Fragment,null,i.createElement(Op,null,"Almost Done"),i.createElement(Ws,null,i.createElement("form",{onSubmit:o},i.createElement(Qs,{gap:12},i.createElement("p",{style:{width:"100%",textAlign:"left",margin:0}},"How did you find out about mmm.page?"),i.createElement(Tr,{id:"referrer",placeholder:"Google? TikTok? Twitter?",options:{theme:"light",size:"large"},autocorrect:!1,spellcheck:!1,autocomplete:!1,valueEnvelope:{value:t,setValue:a},focusOnMount:!0,fullWidth:!0,disabled:!1}),i.createElement(Zs,{type:"submit",size:"large",style:{width:"100%"},disabled:""===t||void 0===t},"Submit"),i.createElement("p",{className:"fine-print",style:{textAlign:"center",lineHeight:1.5,marginBottom:4,width:"80%"}},"Please give real answers  this actually helps a lot. Even better: the URL where you found mmm.page.")))))}));Kw.displayName="QuestionnaireView";var Zw=function(e,t,a,n){return new(a||(a=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function r(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,r)}l((n=n.apply(e,t||[])).next())}))};const Jw=(0,i.memo)((({})=>{const{makeAccount:e,logout:t}=(0,i.useContext)(Qr),[a,n]=((0,zr.s0)(),i.useState(void 0)),{withInputFormSubmit:o,getValue:s,setLoading:r,registerInput:l,getErrors:c,isLoading:d,canSubmit:u}=Mr(),[m,g]=(0,i.useState)(!1),[h,f]=(0,i.useState)(""),[b,y]=i.useState("choose-username"),v=(0,i.useCallback)(Yw()((e=>Zw(void 0,void 0,void 0,(function*(){if(c("username").length>0||0===e.length)return void g(!1);r(!0),f(e);const[t,a]=yield Er({username:e});g(!t),r(!1)}))),300),[]),w=h!==s("username")&&s("username").length>0,E=c("username").length>0,k=u()&&m&&!w;return i.createElement(Xw,null,i.createElement(Js,{width:"medium"},"questionnaire"===b&&i.createElement(Kw,{continueUrl:a}),"choose-username"===b&&i.createElement(i.Fragment,null,i.createElement("form",{onSubmit:o((t=>Zw(void 0,void 0,void 0,(function*(){var a;const i=null===(a=t.get("username"))||void 0===a?void 0:a.value;if(void 0===i)return;r(!0);const[o,s]=yield e(i);if(void 0===o||void 0!==s)return;const l=Du(o),[c,d]=yield Sr(l);if(void 0===c||void 0!==d)return;const{page:u}=c;r(!1);const m=`/${u.site.slug}.${u.slug}?first_page`;n(m),y("questionnaire")}))))},i.createElement(Op,null,"Choose a Username"),i.createElement(Ws,null,i.createElement(Qs,{gap:12},i.createElement("p",null,"There's a lot to explore, but first let's finish creating your account by choosing a username."),i.createElement(Tr,Object.assign({id:"username",suffix:`.${p.baseViewerHostname}`,options:{theme:"light",size:"large",textAlign:"right",prefixSuffixBufferOverride:4},autocorrect:!1,spellcheck:!1,autocomplete:!1,focusOnMount:!0,fullWidth:!0,onChangeCallback:v},l("username",{transformValue:e=>e.replace(" ","_").replace("-","_"),schema:ae}),{disabled:!1})),i.createElement(qu,{errors:c("username"),style:{marginTop:0,width:"100%"}}),w&&!E&&i.createElement(Gu,{type:"secondary",style:{width:"100%"}},"Checking username availability..."),!w&&!E&&s("username").length>0&&!m&&i.createElement(qu,{errors:["Username is not available."],style:{marginTop:0,width:"100%"}}),i.createElement(Zs,{type:"submit",loading:d(),size:"large",disabled:!k,style:{width:"100%"}},"Create Account"),k&&i.createElement("p",{className:"fine-print",style:{textAlign:"center",lineHeight:1.5,marginBottom:4,width:"80%"}},"By signing up, you agree to our"," ",i.createElement("a",{href:"https://help.mmm.page/content.html",target:"_blank"},"content policy")," ","and"," ",i.createElement("a",{href:"https://help.mmm.page/terms.html",target:"_blank"},"terms of services"),"."))),i.createElement("button",{onClick:()=>t(),style:{position:"absolute",left:"50%",transform:"translate(-50%)",marginTop:16,color:"rgba(0,0,0,0.24)",background:"none"}},"Log out")))))}));Jw.displayName="CompleteSignUpScreen";const Qw=(0,i.memo)((({})=>{const{showOverlay:e}=hs();return i.useEffect((()=>{e(Wl,!0)}),[e]),i.createElement(Xw,null,i.createElement(Vl,null),i.createElement(Xl,null))}));Qw.displayName="RecollectEmailScreen";const eE=J.Z_().required().email(),tE=(0,i.memo)((({})=>{const e=(0,zr.s0)(),t=(0,zr.TH)(),{withInputFormSubmit:a,registerInput:n,isLoading:o,canSubmit:s}=Mr();return i.createElement(Xw,null,i.createElement(Js,{width:"medium"},i.createElement("form",{onSubmit:a((a=>{return n=void 0,i=void 0,s=function*(){var n;const i=null===(n=a.get("email"))||void 0===n?void 0:n.value;void 0!==i&&(Br.setLoginEmail(i),e(`/auth/verify${t.search}`))},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{l(s.next(e))}catch(e){t(e)}}function r(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,r)}l((s=s.apply(n,i||[])).next())}));var n,i,o,s}))},i.createElement(Op,null,"Confirm Email"),i.createElement(Ws,null,i.createElement(Qs,{crossAxisAlign:"start"},i.createElement(Vs,{gap:12,fullWidth:!0},i.createElement(Tr,Object.assign({id:"email"},n("email",{schema:eE}),{options:{theme:"light"},autocorrect:!1,spellcheck:!1,placeholder:"hello@example.com",focusOnMount:!0,fullWidth:!0})),i.createElement(Zs,{type:"submit",loading:o(),disabled:!s()},"Confirm")))))))}));tE.displayName="RecollectEmailScreen";const aE=new de({caller:"VerifyScreen"}),nE=(0,i.memo)((({})=>{const e=(0,zr.s0)(),t=(0,zr.TH)(),{verifyEmailLink:a}=(0,i.useContext)(Qr),[n,o]=i.useState("...");return(0,i.useEffect)((()=>{const e=setInterval((()=>{let e=n;e="."===n?"..":".."===n?"...":".",o(e)}),500);return()=>{clearInterval(e)}}),[n]),(0,i.useEffect)((()=>{var n,i,o,s;n=void 0,i=void 0,s=function*(){const n=Br.getLoginEmail();if(null==n)return void e(`/auth/recollect-email${t.search}`,{replace:!0});Br.unsetLoginEmail();const i=new URL(window.location.href),[o,s]=yield a(n,new URL(i));if(!o)return e("/auth/login",{replace:!0}),void(0,r.Am)("Something went wrong. Try logging in again.");const[l]=yield Er({email:n});if(!l)return aE.info("Account doesn't exist. Redirecting to complete sign up."),void e("/auth/complete-sign-up",{replace:!0});e("/",{replace:!0}),(0,r.Am)("Login successful. Welcome back!")},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{l(s.next(e))}catch(e){t(e)}}function r(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,r)}l((s=s.apply(n,i||[])).next())}))}),[]),i.createElement("div",{id:S("verify-screen")},i.createElement(Qs,null,i.createElement("span",{className:"label"},n)))}));nE.displayName="VerifyScreen";const iE=()=>i.createElement(mw,null,i.createElement(Rd,{h:"left",v:"top",dir:"horizontal"},i.createElement(Aw,null)),i.createElement(Rd,{h:"right",v:"top",dir:"horizontal"},i.createElement(zw,null,i.createElement(_w,null)))),oE=(0,i.memo)((({})=>i.createElement("div",{className:x("page-frame")},i.createElement("div",{className:"cover-photo"},i.createElement("img",{src:"https://preview.mmm.page/?url=mooo.ooo&portrait=true"})),i.createElement("div",{className:"lip"},i.createElement(Vs,{mainAxisAlign:"space-between",style:{height:"100%"}},i.createElement("div",{className:"title"},"xh.mmm"),i.createElement("div",{className:"actions"}))))));oE.displayName="PageFrame";const sE=(0,i.memo)((({})=>i.createElement("div",{id:S("town-portal")},i.createElement("div",{className:"content"},i.createElement(Qs,{gap:24},i.createElement("div",{id:S("town-bulletin")},i.createElement("div",{className:"inner"},i.createElement("h2",null,"Town Bulletin"),i.createElement("p",null,"Welcome to mmm.page's town square. This is a highly experimental space. One day, there might be messages, and the next day there won't be. Things will be constantly changing."),i.createElement("p",null,i.createElement("strong",null,"The goal is to evolve it to a place where people can hang out. A group experiment. Work in progress."),"If it feels like a game  great! Why should games monopolize all the fun in software?"))),i.createElement("div",{className:"page-frame-list"},i.createElement(Vs,{gap:16},i.createElement(oE,null),i.createElement(oE,null),i.createElement(oE,null),i.createElement(oE,null),i.createElement(oE,null),i.createElement(oE,null))))),i.createElement("div",{className:"town-toolbar"},i.createElement(Vs,null,i.createElement(xs,{icon:ns.xVw}))))));sE.displayName="TownPortal";const rE=()=>{const e=ol().useStore(ac),t=i.useCallback((e=>{return t=void 0,a=void 0,i=function*(){e.toggleInterfaceMode(rl.Previewing)},new((n=void 0)||(n=Promise))((function(e,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function r(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(s,r)}l((i=i.apply(t,a||[])).next())}));var t,a,n,i}),[]);return i.useEffect((()=>{e===Kl.LoggedIn&&w({event:"loaded-homepage-as-logged-in",location:"homepage"})}),[e]),e===Kl.LoggedIn||e===Kl.UsingCachedAccount?i.createElement(i.Fragment,null,i.createElement(Rd,{h:"left",v:"top",dir:"horizontal"},i.createElement(Vs,{crossAxisAlign:"end",gap:12},i.createElement(Aw,{forceVisible:!0}))),i.createElement(Rd,{h:"right",v:"top",dir:"horizontal",style:{top:0,right:0}},i.createElement($v,{forceVisible:!0})),p.isDevelopment&&i.createElement(sE,null),!p.isDevelopment&&i.createElement("div",{id:"welcome-back"},"Use the top right menu to select a page to edit.")):i.createElement(mw,{onMount:t},i.createElement(Rd,{h:"left",v:"top",dir:"horizontal"},i.createElement(Aw,{forceVisible:!0})),i.createElement(Rd,{h:"right",v:"top",dir:"horizontal"},i.createElement(zw,null,i.createElement(_w,null))))},lE=()=>i.createElement(rE,null),cE=(0,i.memo)((({})=>i.createElement("div",{id:S("town-square-screen")},i.createElement(Rd,{h:"left",v:"top",dir:"horizontal"},i.createElement(Aw,{forceVisible:!0})),i.createElement("div",{className:"grid-view"},i.createElement("div",{className:"grid-cell"},i.createElement("div",{className:"meta"}))),i.createElement("div",{className:"welcome-box"},i.createElement("h2",null,"Welcome to mmm.town"),i.createElement("p",null,"This is an experimental area. Hopefully it's new and comfortable  maybe, exciting."),i.createElement("ul",null,i.createElement("li",null,"Feels like a ",i.createElement("i",null,"place")),i.createElement("li",null,"Feels worth exploring"),i.createElement("li",null,"Discovery + serendipity"),i.createElement("li",null,"Philosophy is get things in quickly. Move it around if it's weird. Do so quickly."),i.createElement("li",null,"Even in a post-AI world, we'll need to communicate"))),i.createElement("div",{className:"vintage-subtitles"},"This is experimental"),i.createElement("div",{className:"right-sidebar"},i.createElement(Qs,{gap:8},i.createElement("div",{className:"profile-block"})," ",i.createElement("div",{className:"profile-block"}),i.createElement("div",{className:"profile-block"})," ",i.createElement("div",{className:"profile-block"}),i.createElement("div",{className:"profile-block"})," ",i.createElement("div",{className:"profile-block"}),i.createElement("div",{className:"profile-block"})," ",i.createElement("div",{className:"profile-block"}),i.createElement("div",{className:"profile-block"})," ",i.createElement("div",{className:"profile-block"}),i.createElement("div",{className:"profile-block"})," ",i.createElement("div",{className:"profile-block"}))),i.createElement("div",{className:"ideas-box"},"What do you want to see?"))));cE.displayName="TownSquareScreen";const dE=()=>i.createElement(i.Fragment,null,i.createElement(Vw,null),i.createElement(zr.Z5,null,i.createElement(zr.AW,{path:"/",element:i.createElement(lE,null)}),i.createElement(zr.AW,{path:"town",element:i.createElement(cE,null)}),i.createElement(zr.AW,{path:"auth"},i.createElement(zr.AW,{path:"verify",element:i.createElement(nE,null),key:"verify"}),i.createElement(zr.AW,{path:"login",element:i.createElement(Qw,null),key:"login"}),i.createElement(zr.AW,{path:"recollect-email",element:i.createElement(tE,null),key:"recollect-email"}),i.createElement(zr.AW,{path:"complete-sign-up",element:i.createElement(Jw,null),key:"complete-sign-up"})),i.createElement(zr.AW,{path:"a"},i.createElement(zr.AW,{path:"verify",element:i.createElement(nE,null),key:"verify"}),i.createElement(zr.AW,{path:"login",element:i.createElement(Qw,null),key:"login"}),i.createElement(zr.AW,{path:"recollect-email",element:i.createElement(tE,null),key:"recollect-email"}),i.createElement(zr.AW,{path:"complete-sign-up",element:i.createElement(Jw,null),key:"complete-sign-up"})),i.createElement(zr.AW,{path:"explore",element:i.createElement(Nd,null),key:"explore"}),i.createElement(zr.AW,{path:"n"},i.createElement(zr.AW,{path:"paper",element:i.createElement(Gw,null),key:"paper"})),i.createElement(zr.AW,{path:"/*",element:i.createElement(iE,null)}))),uE=(0,i.memo)((({})=>{const{showOverlay:e}=hs(),t=(0,i.useCallback)((()=>{w({event:"canceled-upgrade",location:"upgrade-modal"}),e(nc,!1)}),[e]),a=i.useCallback((()=>{w({event:"redirected-to-stripe",location:"upgrade-modal"})}),[]);return i.createElement(ic,{onCancelClick:t,onBeforeRedirect:a})}));uE.displayName="UpgradeModal";var mE=a(710),gE=a(76997),pE=a.n(gE);const hE=(0,i.memo)((({name:e,value:t,remove:a,staging:n=!1})=>i.createElement("div",{className:Od()("entry",{staging:n})},i.createElement("div",{className:Od()("name",{valid:void 0!==t})},e),i.createElement("div",{className:"value"},t),i.createElement("button",{className:"close",onClick:()=>a()},i.createElement(Fs.G,{icon:ns.g82})))));const fE="app_debugger_tracked_key",bE=(e,t,a)=>pE()(e,t,a),yE=(e,t)=>{const a=e,n=Array.from(t.matchAll(/^([a-zA-Z\.]*)\.(?:where)\(([a-zA-Z0-9]+)\=([a-zA-Z0-9]+)\)(?:\.([a-zA-Z\.]*))?$/g));let i,o=t;if(n.length>0){const[e,t,a,s,r]=n[0];i=e=>{const t=e.filter((e=>`${e[a]}`===s));return r&&r.length>0?t.map((e=>bE(e,r))):t},o=t}let s=bE(a,o,void 0);return void 0!==i&&Array.isArray(s)?i(s):s},vE=({})=>{let e=ol().useStore((e=>e));e=Object.assign({},e),e.page=Object.assign(Object.assign({},e.page),{stable:Object.assign(Object.assign({},e.page.stable),{things:(0,A.D5)()}),inProgress:Object.assign(Object.assign({},e.page.inProgress),{things:(0,A.D5)()})}),e.editor=Object.assign(Object.assign({},e.editor),{lastChangeSnapshot:void 0,modeHandler:void 0});const[t,a]=(0,i.useState)((0,A.aV)([])),[n,o]=(0,i.useState)("");return(0,i.useEffect)((()=>{var e,t,n,i;e=void 0,t=void 0,i=function*(){const e=yield(0,mE.U2)(fE);void 0!==e&&a((0,A.aV)(JSON.parse(e)))},new((n=void 0)||(n=Promise))((function(a,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function r(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}l((i=i.apply(e,t||[])).next())}))}),[]),(0,i.useEffect)((()=>{(0,mE.t8)(fE,JSON.stringify(t.toJS()))}),[t]),(0,i.useEffect)((()=>{yE(e,n)}),[n]),i.createElement("div",{id:S("app-debugger")},i.createElement("form",{onSubmit:e=>{a((e=>e.push(n))),o(""),e.preventDefault()}},i.createElement("button",{className:"track-btn",disabled:void 0===n||0===n.length,type:"submit"},"Track"),i.createElement("input",{type:"text",onChange:e=>o(e.currentTarget.value),value:n})),i.createElement("div",{className:"entries"},void 0!==n&&n.length>0&&i.createElement(hE,{key:`staging_${n}`,name:`${n}`,value:JSON.stringify(yE(e,n)),remove:()=>{},staging:!0}),t.map((t=>i.createElement(hE,{key:t,name:t,value:JSON.stringify(yE(e,t)),remove:()=>a((e=>e.filter((e=>e!==t))))})))))};vE.displayName="AppDebugger";const wE=(0,i.memo)((({})=>ol().useStore((e=>e.interface.debug))?i.createElement(vE,null):i.createElement(i.Fragment,null)));wE.displayName="AppDebuggerContainer",a(11666);const EE=hr();(0,n.v0)(EE),(0,o.s)(document.getElementById("root")).render(i.createElement((()=>{const[e,t]=(0,i.useState)(new pd),a=e.useStore(tc),n=(0,i.useCallback)(((t,a)=>{var n,i,o,s;e.loadAccount(t,{fromCache:a.fromCache}),n=void 0,i=void 0,s=function*(){if(a.fromCache)return;const[t]=yield Fr();if(void 0===(null==t?void 0:t.pages));else{const a=ev(t.pages);e.loadSitePages(a)}},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{l(s.next(e))}catch(e){t(e)}}function r(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,r)}l((s=s.apply(n,i||[])).next())}))}),[e]),o=(0,i.useCallback)((()=>{e.unloadAccount()}),[e]);return i.createElement(D,null,i.createElement(il.Provider,{value:e},i.createElement(s.VK,null,i.createElement(Zr,{account:a,getAccount:wr,createAccount:kr,onAccountLoaded:n,onAccountUnloaded:o},i.createElement(yd,null,i.createElement(fd,null),i.createElement(dE,null),i.createElement("div",{id:S("toast-container")},i.createElement(r.Ix,{position:"bottom-center",autoClose:2e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,draggable:!0,pauseOnHover:!0})),i.createElement(wE,null),i.createElement(uE,null))))))}),null))},93591:(e,t,a)=>{"use strict";e.exports=a.p+"5bc5fa93f8df0c92b495.svg"},4782:(e,t,a)=>{"use strict";e.exports=a.p+"f93fbc313a0639f791f5.svg"},77500:(e,t,a)=>{"use strict";e.exports=a.p+"b01af70178f5de2994d4.mp3"},78093:(e,t,a)=>{"use strict";e.exports=a.p+"5cedc8422846e15422f4.mp3"},99968:(e,t,a)=>{"use strict";e.exports=a.p+"033f31f68cc704c1cd3c.mp3"},88043:(e,t,a)=>{"use strict";e.exports=a.p+"d02f619a82292c5a36aa.mp3"},52785:(e,t,a)=>{"use strict";e.exports=a.p+"2a12a0ebb9fd50956248.mp3"},11462:(e,t,a)=>{"use strict";e.exports=a.p+"6532d0aa1ae14f9870ab.mp3"},65472:(e,t,a)=>{"use strict";e.exports=a.p+"4a315c7eaac4227d9fff.mp3"},85844:(e,t,a)=>{"use strict";e.exports=a.p+"8f430dbde9f8bae820b0.mp3"},53815:(e,t,a)=>{"use strict";e.exports=a.p+"109202caa92608db93bf.mp3"},20922:(e,t,a)=>{"use strict";e.exports=a.p+"845c03c0874fb0030a2f.mp3"},99806:(e,t,a)=>{"use strict";e.exports=a.p+"a51916370a1d3944b1b9.mp3"},40147:()=>{},88994:()=>{},53260:()=>{},39953:()=>{}},s={};function r(e){var t=s[e];if(void 0!==t)return t.exports;var a=s[e]={id:e,loaded:!1,exports:{}};return o[e].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=o,r.c=s,r.amdO={},e=[],r.O=(t,a,n,i)=>{if(!a){var o=1/0;for(d=0;d<e.length;d++){for(var[a,n,i]=e[d],s=!0,l=0;l<a.length;l++)(!1&i||o>=i)&&Object.keys(r.O).every((e=>r.O[e](a[l])))?a.splice(l--,1):(s=!1,i<o&&(o=i));if(s){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,n,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var i=Object.create(null);r.r(i);var o={};t=t||[null,a({}),a([]),a(a)];for(var s=2&n&&e;"object"==typeof s&&!~t.indexOf(s);s=a(s))Object.getOwnPropertyNames(s).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,r.d(i,o),i},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,a)=>(r.f[a](e,t),t)),[])),r.u=e=>(({11:"reactPlayerFilePlayer",55:"reactPlayerWistia",96:"queryString",119:"auto-track",121:"reactPlayerFacebook",125:"reactPlayerSoundCloud",150:"legacyVideos",214:"remoteMiddleware",216:"reactPlayerTwitch",261:"reactPlayerKaltura",439:"reactPlayerYouTube",464:"ajs-destination",493:"schemaFilter",546:"reactPlayerStreamable",596:"reactPlayerDailyMotion",604:"tsub-middleware",664:"reactPlayerPreview",667:"reactPlayerMixcloud",743:"reactPlayerVimeo",888:"reactPlayerVidyard"}[e]||e)+"."+{11:"e9796d2228d916e2ac9d",55:"36869a3d8cafecafcb5c",96:"acc9ba269cc70fc64986",119:"41aebad72316a210c7b0",121:"f2429c8d11813e62f043",125:"8ac6db5c12158808dd28",150:"9747f4717e918cce4231",214:"27278699cf031d4a122e",216:"f9c7478f43f3b0630b37",261:"040d0d628edf72c81d57",439:"801ecde40e2c366664de",464:"d6bc7262c9a6508a96e8",493:"4a032283c663ee1ae24d",546:"c5926074da23310cda4a",596:"0f354715f841d98c0b4a",604:"5ac7a10f5405cfea842c",644:"cf5a5860ff1d3d75bd0f",664:"73f3b61a9faa5dc10b7a",667:"7abbc83b8690dee284ce",743:"138b489139d0ce141472",822:"7d63948ae214d4c838ed",888:"390079d60508e06cdffc"}[e]+".js"),r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},i="@mmm/beta:",r.l=(e,t,a,o)=>{if(n[e])n[e].push(t);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==i+a){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",i+a),s.src=e,0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous")),n[e]=[t];var m=(t,a)=>{s.onerror=s.onload=null,clearTimeout(g);var i=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(a))),t)return t(a)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),l&&document.head.appendChild(s)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={179:0};r.f.j=(t,a)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var i=new Promise(((a,i)=>n=e[t]=[a,i]));a.push(n[2]=i);var o=r.p+r.u(t),s=new Error;r.l(o,(a=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,n[1](s)}}),"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,a)=>{var n,i,[o,s,l]=a,c=0;if(o.some((t=>0!==e[t]))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(l)var d=l(r)}for(t&&t(a);c<o.length;c++)i=o[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},a=self.webpackChunk_mmm_beta=self.webpackChunk_mmm_beta||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),r.O(void 0,[49],(()=>r(r.s=44168)));var l=r.O(void 0,[49],(()=>r(r.s=7187)));l=r.O(l)})();